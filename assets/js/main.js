"use strict";!function(){angular.module("nsApp",["nsApp.core","nsApp.templates","nsApp.layout","nsApp.overlay","nsApp.shared","nsApp.users","nsApp.spots","nsApp.splash","nsApp.static"])}(),function(){angular.module("nsApp.core",["ngResource","ngMessages","ngAnimate","ui.router","ui.bootstrap","ng-token-auth","LocalStorageModule","ngGeolocation","ngAutocomplete","toaster","angular-ladda","ngFileUpload","ngImgCrop","angular-loading-bar","checklist-model","angular-confirm","rzModule","angularSpinner"])}(),function(){angular.module("nsApp.shared",[])}(),function(){angular.module("nsApp.static",[])}(),function(){angular.module("nsApp.layout",[])}(),function(){angular.module("nsApp.splash",[])}(),function(){angular.module("nsApp.overlay",[])}(),function(){angular.module("nsApp.spots",[])}(),function(){angular.module("nsApp.users",[])}(),function(){angular.module("nsApp.core").constant("BASE_API_URL","http://localhost:3000").constant("MAPBOX_ID","rowlandrudolf.f7fe7b43").constant("MAPBOX_ACCESS_TOKEN","pk.eyJ1Ijoicm93bGFuZHJ1ZG9sZiIsImEiOiJjaWdpd3pxbGcwMDBmdWpsemd4eDNhY2FxIn0.FieZuFlRggvyYds8VykVwA")}(),function(){function e(e){e.otherwise("/")}angular.module("nsApp.core").config(e),e.$inject=["$urlRouterProvider"]}(),function(){function e(e,t){function n(){return t.get(o,{headers:{"content-type":"application/json"},cache:!0}).then(function(e){return r.categories=e.data,r.categories})}var o=e+"/categories",r={categories:[],index:n};return r.index(),r}angular.module("nsApp.shared").factory("Category",e),e.$inject=["BASE_API_URL","$http"]}(),function(){function e(){function e(e){for(var t=[],n=e[0],o=0,r=-1,i=e.length;i>o;o++)n+1!=e[o]?(t.push([e[o]]),r++):t[r].push(e[o]),n=e[o];return t}var t={1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat",7:"Sun"};return function(n){if(angular.isArray(n)&&n.length){var o=n.sort().map(Number),r=[];return e(o).map(function(e){if(e.length<=2)r.push(e.map(function(e){return t[e]}).join(", "));else{var n=e.shift(),o=e.pop();r.push(t[n]+" - "+t[o])}}),r.join(", ")}}}angular.module("nsApp.shared").filter("daySpan",e)}(),function(){function e(e,t){function n(){return t.get(o,{headers:{"content-type":"application/json"},cache:!0}).then(function(e){return r.features=e.data,r.features})}var o=e+"/features",r={features:[],index:n};return r.index(),r}angular.module("nsApp.shared").factory("Feature",e),e.$inject=["BASE_API_URL","$http"]}(),function(){function e(e,t){var n={eat:[],drink:[],attend:[],features:[],q:"",price:0,order:"distance",save:function(){t.set("filterParams",n)}},o=t.get("filterParams");return null!==o&&(n.eat=o.eat,n.drink=o.drink,n.attend=o.attend,n.features=o.features,n.price=o.price,n.order=o.order,n.q=o.q),n}angular.module("nsApp.shared").factory("filterParams",e),e.$inject=["$rootScope","localStorageService"]}(),function(){function e(){return function(e){return e.replace(/(http:\/\/www.|https:\/\/www.)/,"")}}angular.module("nsApp.shared").filter("linkTag",e)}(),function(){function e(e,t,n){var o=new Date,r=o.toTimeString(),i=0===o.getDay()?7:o.getDay(),s=i-1,a=e.map(Number),c=new Date(t).toTimeString(),l=new Date(n).toTimeString();if(a.indexOf(i)>-1){if(c==l)return!0;if(l>c)return r>=c&&l>=r;if(c>l)return r>=c?!0:a.indexOf(s)>-1&&(r>=c||l>=r)}else if(a.indexOf(s)>-1&&c>l&&l>=r)return!0;return!1}angular.module("nsApp.shared").value("openNow",e)}(),function(){function e(e){e.state("business",{url:"/business",templateUrl:"static/business.html"}).state("terms",{url:"/terms-and-conditions",templateUrl:"static/terms-and-conditions.html"})}angular.module("nsApp.spots").config(e),e.$inject=["$stateProvider"]}(),function(){function e(e,t,n,o){function r(){t.open("components/overlay/search/searchOverlay.html").then(function(e){e.id?n.go(e.state,{id:e.id}):n.go(e.state)})}function i(){t.open("components/overlay/nav/navOverlay.html").then(function(e){e.id?n.go(e.state,{id:e.id}):n.go(e.state)})}var s=this;s.openNavOverlay=i,s.openSearchOverlay=r,s.filterParams=o}angular.module("nsApp.layout").controller("nav",e),e.$inject=["$rootScope","overlay","$state","filterParams"]}(),function(){function e(){return{require:"ngInclude",restrict:"A",link:function(e,t,n){t.replaceWith(t.children())}}}angular.module("nsApp.layout").directive("nsReplaceInclude",e)}(),function(){function e(){return{restrict:"E",replace:!0,templateUrl:"components/layout/nsTopbar.html",controller:"nav",controllerAs:"navCtrl",link:function(e,t,n){}}}angular.module("nsApp.layout").directive("nsTopbar",e)}(),function(){function e(e,t){function n(t,n,o){t.location=e}return{restrict:"A",link:n}}angular.module("nsApp.splash").directive("nsSplash",e),e.$inject=["LocationManager","$timeout"]}(),function(){function e(e,t){return{restrict:"A",scope:!0,link:function(t,n,o){function r(){t.showOverlay=null}t.showOverlay=null,t.dismiss=r,e.$on("overlay.open",function(e,n){t.showOverlay=n}),e.$on("overlay.close",function(e){t.showOverlay=null})}}}angular.module("nsApp.overlay").directive("nsOverlay",e),e.$inject=["$rootScope","overlay"]}(),function(){function e(e,t){function n(n){return i=t.defer(),e.$emit("overlay.open",n),i.promise}function o(t){return i?(e.$emit("overlay.close"),i.resolve(t)):void 0}function r(t){return i?(e.$emit("overlay.close"),i.reject(t)):void 0}var i=null;return{open:n,resolve:o,reject:r}}angular.module("nsApp.overlay").service("overlay",e),e.$inject=["$rootScope","$q"]}(),function(){function e(e,t){return t(e+"/spots/:id",{id:"@id"},{near:{method:"GET",url:e+"/spots/near",isArray:!0},userIndex:{method:"GET",url:e+"/spots/user_index",isArray:!0,cache:!0},favorites:{method:"GET",url:e+"/spots/favorites",isArray:!0},search:{method:"GET",url:e+"/spots/search",isArray:!0},update:{method:"PUT"}})}e.$inject=["BASE_API_URL","$resource"],angular.module("nsApp.spots").factory("Spot",e)}(),function(){function e(e,t,n){e.state("home",{url:"/",templateUrl:"components/spots/home/home.html",controller:"home",controllerAs:"vm"}).state("eat",{url:"/eat",controller:"search",controllerAs:"vm",templateUrl:"components/spots/search/search.html",resolve:{sort:function(){return"eat"}}}).state("drink",{url:"/drink",controller:"search",controllerAs:"vm",templateUrl:"components/spots/search/search.html",resolve:{sort:function(){return"drink"}}}).state("attend",{url:"/attend",controller:"searchVenues",controllerAs:"vm",templateUrl:"components/spots/search/searchVenues.html",resolve:{sort:function(){return"attend"}}}).state("favorites",{url:"/favorites",controller:"favorites",controllerAs:"vm",templateUrl:"components/spots/favorites/favorites.html",resolve:{auth:["$auth",function(e){return e.validateUser()}]}}).state("viewSpot",{url:"/spots/:id","abstract":!0,templateUrl:"components/spots/view/viewSpot.html",controller:"viewSpot",controllerAs:"vm",resolve:{spot:["Spot","$stateParams","LocationManager",function(e,t,n){return e.get({id:t.id}).$promise.then(function(t){return t.distance=n.distance(t.latitude,t.longitude),new e(t)})}]}}).state("viewSpot.about",{url:"",controller:"about",controllerAs:"aboutCtrl",templateUrl:"components/spots/about/about.html"}).state("viewSpot.specials",{url:"/specials",controller:"specials",controllerAs:"splsCtrl",templateUrl:"components/spots/specials/specials.html"}).state("viewSpot.menus",{url:"/menus",controller:"menus",controllerAs:"menusCtrl",templateUrl:"components/spots/menus/menus.html"}).state("viewSpot.events",{url:"/events",controller:"events",controllerAs:"eventsCtrl",templateUrl:"components/spots/events/events.html"}).state("edit",{url:"/update_spot","abstract":!0,controller:"editSpot",controllerAs:"vm",templateUrl:"components/spots/edit/edit.html",resolve:{auth:["$auth",function(e){return e.validateUser()}],spot:["spotService","$q","$timeout","$state",function(e,t,n,o){return e.spot?t.when(e.spot):(n(function(){o.go("home")}),t.reject())}]}}).state("edit.about",{url:"",controller:"editAbout",controllerAs:"aboutCtrl",templateUrl:"components/spots/about/editAbout.html"}).state("edit.contact",{url:"/contact",templateUrl:"components/spots/edit/contact.html"}).state("edit.specials",{url:"/specials",controller:"editSpecials",controllerAs:"splsCtrl",templateUrl:"components/spots/specials/editSpecials.html"}).state("edit.menus",{url:"/menu",controller:"editMenus",controllerAs:"menusCtrl",templateUrl:"components/spots/menus/editMenus.html"}).state("edit.events",{url:"/events",controller:"editEvents",controllerAs:"eventsCtrl",templateUrl:"components/spots/events/editEvents.html"}).state("newSpot",{url:"/new-spot",controller:"newSpot",controllerAs:"vm",templateUrl:"components/spots/new/newSpot.html",resolve:{auth:["$auth",function(e){return e.validateUser()}]}})}angular.module("nsApp.spots").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){function e(e,t,n,o,r,i,s,a){function c(){n.init().then(function(){return l()})}function l(){S.pending||(S.pending=!0,S.spots.length=0,t.near({location:n.search?[n.search.lat,n.search.lng].join(","):null,r:n.radius}).$promise.then(g)["catch"](h)["finally"](function(){S.pending=!1}))}function u(e){if(!S.pending){var n=o.defer();return t.save(e).$promise.then(function(e){s.get("$http").remove(a+"/spots/user_index"),i.pop("success","Spot Created!"),n.resolve(e)})["catch"](function(e){i.pop("error","Unable to Create nitespot"),n.reject(e)})["finally"](function(){S.pending=!1}),n.promise}}function p(){S.spot&&!S.pending&&(S.pending=!0,S.spot.$update().then(function(e){s.get("$http").remove(a+"/spots/user_index"),i.pop("success","Spot updated")})["catch"](function(e){i.pop("error","Unable to complete update.")})["finally"](function(){S.pending=!1}))}function d(){return S.spot&&!S.pending?(S.pending=!0,S.spot.$delete().then(function(e){s.get("$http").remove(a+"/spots/user_index"),i.pop("info","Spot permanently removed"),S.spot=null})["catch"](h)["finally"](function(){S.pending=!1})):void 0}function f(){if(!S.pending){var e;return S.pending=!0,t.userIndex().$promise.then(function(n){return e=n.map(function(e){return new t(e)})})["catch"](h)["finally"](function(){S.pending=!1})}}function m(){if(!S.pending){S.pending=!0,S.spots.length=0;var e;n.search&&(e={location:[n.search.lat,n.search.lng].join(",")}),t.favorites(e).$promise.then(g)["catch"](h)["finally"](function(){S.pending=!1})}}function v(e){if(!S.pending){S.pending=!0;var o=[];return t.search({q:e}).$promise.then(function(e){for(var t=0,r=e.length;r>t;t++)e[t].distance=n.distance(e[t].latitude,e[t].longitude),o.push(e[t]);return o})["catch"](h)["finally"](function(){S.pending=!1})}}function g(e){for(var t=0,o=e.length;o>t;t++)e[t].distance=n.distance(e[t].latitude,e[t].longitude),S.spots.push(e[t])}function h(e){return e}var S={init:c,pending:!1,spot:null,spots:[],near:l,favorites:m,userIndex:f,create:u,update:p,destroy:d,search:v};return e.$on("locationChanged",function(){S.near()}),S}angular.module("nsApp.spots").factory("spotService",e),e.$inject=["$rootScope","Spot","LocationManager","$q","filterParams","toaster","$cacheFactory","BASE_API_URL"]}(),function(){function e(e,t){e.configure({apiUrl:t,authProviderPaths:{facebook:"/auth/facebook"},omniauthWindowType:"newWindow",passwordResetSuccessUrl:"http://localhost:8000/#/users/password/reset"})}angular.module("nsApp.users").config(e),e.$inject=["$authProvider","BASE_API_URL"]}(),function(){function e(e,t,n,o,r,i){e.$on("auth:logout-success",function(){r.get("$http").remove(i+"/spots/user_index"),t.account=null,n.go("home"),o.pop("info","Goodbye!")}),e.$on("auth:login-success",function(){n.go("home")})}angular.module("nsApp.users").run(e),e.$inject=["$rootScope","userService","$state","toaster","$cacheFactory","BASE_API_URL"]}(),function(){function e(e){e.state("login",{url:"/users/sign_in",templateUrl:"components/users/login/loginUser.html",controller:"loginUser",controllerAs:"vm",resolve:{user:["$rootScope",function(e){return e.user.signedIn&&$state.go("home"),!0}]}}).state("newAccount",{url:"/users/sign_up",templateUrl:"components/users/account/newAccount.html",controller:"newAccount",controllerAs:"vm"}).state("editAccount",{url:"/account/edit",templateUrl:"components/users/account/editAccount.html",controller:"editAccount",controllerAs:"vm",resolve:{auth:["$auth",function(e){return e.validateUser()}]}}).state("requestPasswordReset",{url:"/users/password/new",templateUrl:"components/users/account/requestPasswordReset.html",controller:"requestPasswordReset",controllerAs:"vm"}).state("resetPassword",{url:"/users/password/reset",templateUrl:"app/users/account/resetpassword.html",controller:"resetPassword",controllerAs:"vm",resolve:{auth:["$auth",function(e){return e.validateUser()}]}})}angular.module("nsApp.users").config(e),e.$inject=["$stateProvider","$authProvider"]}(),function(){function e(e,t,n,o){function r(){return p.account=angular.copy(e.user),p.account}function i(){var e=n.defer();return t.submitLogin(p.account).then(function(n){t.validateUser(),o.pop("success","Welcome, "+n.first_name+"!"),e.resolve(n)})["catch"](function(t){o.pop("error","Invalid email or password."),p.account.password="",e.reject(t)}),e.promise}function s(){if(!p.pending){var e=n.defer();return p.pending=!0,t.submitRegistration(p.account).then(function(n){t.validateUser(),o.pop("success","Registration complete","Welcome to The Nitespot :)"),e.resolve(n)})["catch"](function(t){o.pop("error","Registration Error","Please review the form"),e.reject(t)})["finally"](function(e){p.pending=!1}),e.promise}}function a(){if(!p.pending){var e=n.defer();return p.pending=!0,t.updateAccount(p.account).then(function(t){o.pop("success","Account updated"),e.resolve(t)})["catch"](function(t){o.pop("error","Unable to update"),e.reject(t)})["finally"](function(e){p.pending=!1,p.account.password&&delete p.account.password,p.account.password_confirmation&&delete p.account.password_confirmation,p.account.current_password=""}),e.promise}}function c(){if(!p.pending){var e=n.defer();return p.pending=!0,t.requestPasswordReset(p.account).then(function(t){console.info(t),o.pop("success","Please check email "+p.account.email+" for instructions."),e.resolve(t)})["catch"](function(t){console.error(t),404==t.status?o.pop("error","There is no account for "+p.account.email):o.pop("error","Unable to reset password."),e.reject(t)})["finally"](function(e){p.pending=!1}),e.promise}}function l(){if(!p.pending){p.pending=!0;var e=n.defer();return t.updatePassword(p.account).then(function(t){console.info(t),o.pop("success","Password has been reset"),e.resolve(t)})["catch"](function(t){console.log(p.account),o.pop("error","Unable to reset password."),e.reject(t)})["finally"](function(e){p.pending=!1}),e.promise}}function u(){if(!p.pending){var e=n.defer();return p.pending=!0,t.destroyAccount(p.account).then(function(n){t.signOut(),o.pop("info","Account closed"),e.resolve(n)})["catch"](function(t){console.log(t),o.pop("error","Uanble to close account at this time"),p.account.current_password="",e.reject(t)})["finally"](function(e){p.pending=!1}),e.promise}}var p={pending:!1,account:null,setCurrentAccount:r,login:i,register:s,update:a,requestPasswordReset:c,resetPassword:l,destroy:u};return e.$on("auth:logout-success",function(e,t){p.account=null}),p}angular.module("nsApp.users").factory("userService",e),e.$inject=["$rootScope","$auth","$q","toaster"]}(),function(){function e(e,t){function n(e){return t.close(e)}function o(){return t.dismiss(null)}var r=this;r.imgFile=e,r.upload=n,r.cancel=o}angular.module("nsApp.shared").controller("cropImageModal",e),e.$inject=["imgFile","$uibModalInstance"]}(),function(){function e(e){return function(e,t){return e?e:"assets/img/default"+t}}angular.module("nsApp.shared").filter("defaultImg",e),e.$inject=["BASE_API_URL"]}(),function(){function e(e,t,n,o,r){function i(t){return angular.extend(p,t),u=[e,p.uri,p.imageable_id,"images"].join("/"),p}function s(){t.get(u).then(function(e){p.images=e.data})}function a(e,t){if(!p.pending){p.pending=!0;var i=o.defer();return n.upload({url:u,data:{file_data_uri:e,primary:t}}).then(function(e){r.pop("success","Image Added"),p.images.push(e.data),i.resolve(e)})["catch"](function(e){r.pop("error","Unable to upload image"),i.reject(e)})["finally"](function(){p.pending=!1}),i.promise}}function c(n){if(!p.pending&&n){p.pending=!0;var i=o.defer();return t.put(e+"/images/"+n.id,{primary:!0}).then(function(e){r.pop("success","Image set"),i.resolve(e)})["catch"](function(e){i.reject(e)})["finally"](function(){p.pending=!1}),i.promise}}function l(n){if(!p.pending&&n){var i=o.defer();return p.pending=!0,t["delete"](e+"/images/"+n.id).then(function(e){var t=p.images.indexOf(n);p.images.splice(t,1),r.pop("success","Image Removed"),i.resolve(e)})["catch"](function(e){i.reject(e)})["finally"](function(){p.pending=!1}),i.promise}}var u,p={init:i,pending:!1,images:[],loadImages:s,upload:a,setPrimary:c,destroy:l};return p}angular.module("nsApp.shared").factory("imageService",e),e.$inject=["BASE_API_URL","$http","Upload","$q","toaster"]}(),function(){function e(e,t){return{restict:"E",scope:{},bindToController:{imageable:"=",uri:"@"},controller:["$scope","imageService","$uibModal",function(e,t,n){function o(){console.log("removing...?"),i.imageService.destroy(i.imageable.primary_image).then(function(){i.imageable.primary_image=null})}function r(){if(i.imgFile){var e=n.open({controller:"cropImageModal",controllerAs:"imgCtrl",templateUrl:"shared/images/cropImageModal.html",size:"md",resolve:{imgFile:function(){return i.imgFile}}});e.result.then(function(e){i.imgFile=null,i.imageService.upload(e,!0).then(function(e){console.log(e),i.imageable.primary_image=e.data})})}}var i=this;i.imageService=t,i.imgFile=null,i.openModal=r,i.remove=o,e.$watch("imageable",function(){i.imageService.init({uri:i.uri,imageable_id:i.imageable.id})})}],controllerAs:"imgCtrl",templateUrl:"shared/images/nsPrimaryImage.html"}}angular.module("nsApp.shared").directive("nsPrimaryImage",e),e.$inject=["imageService","$uibModal"]}(),function(){function e(){return function(e){if(!e.primary_image){var t="assets/img/default/";return e.hasOwnProperty("eat")?(e.eat&&(t+="e"),e.drink&&(t+="d"),e.attend&&(t+="a")):t+="a",t+=".png"}return e.primary_image.url}}angular.module("nsApp.shared").filter("primaryImage",e)}(),function(){function e(e){function t(t,n,o){n.unbind("click").bind("click",function(n){n.preventDefault();var o=e.open({template:'<div class="modal-body clearfix"> <h3 class="text-xs-center">Confirm</h3><p class="text-xs-center" ng-bind="ctrl.message"></p><button class="btn btn-sm btn-primary-outline" ng-click="ctrl.confirm()">Ok</button><button class="btn btn-sm btn-danger-outline pull-right" ng-click="ctrl.cancel()">Cancel</button></div>',controller:["$uibModalInstance","message",function(e,t){var n=this;n.message=t||"Are you sure?",n.confirm=function(){e.close()},n.cancel=function(){e.dismiss()}}],controllerAs:"ctrl",size:"sm",resolve:{message:function(){return t.nsConfirm}}});o.result.then(function(){t.ngClick()})})}return{priority:1,restrict:"A",scope:{nsConfirm:"@",ngClick:"&"},link:t}}angular.module("nsApp.shared").directive("nsConfirm",e),e.$inject=["$uibModal"]}(),function(){function e(){function e(e,t,n,o){var r=angular.element(t[0].querySelector("input, textarea, select")),i=r[0].attributes.name.value;e.$watchCollection(function(){return[o[i].$dirty,o[i].$invalid]},function(e){e&&e[0]&&(e[1]?(t.removeClass("has-success").addClass("has-danger"),r.removeClass("form-control-success").addClass("form-control-danger")):(t.removeClass("has-danger").addClass("has-success"),r.removeClass("form-control-danger").addClass("form-control-success")))})}return{restrict:"A",require:"^form",link:e}}angular.module("nsApp.shared").directive("nsFormInput",e)}(),function(){function e(){function e(e,t,n,o){o.$validators.matches=function(t){return t==e.val},e.$watch("val",function(){o.$validate()})}return{restrict:"A",require:"ngModel",scope:{val:"=nsMatches"},link:e}}angular.module("nsApp.shared").directive("nsMatches",e)}(),function(){function e(){function e(){function e(e){r.price=e+1}function t(e){r.preview=e}function n(e){r.preview=-1}function o(e){return{eat:e<r.price,preview:e<=r.preview}}var r=this;r.preview=-1,r.prices=new Array(4),r.click=e,r.styles=o,r.mouseover=t,r.mouseout=n,r.clear=function(){r.price=0}}return{restrict:"E",scope:{},bindToController:{price:"=ngModel"},controller:e,controllerAs:"ctrl",templateUrl:"shared/forms/nsSpotPriceSelect.html"}}angular.module("nsApp.shared").directive("nsSpotPriceSelect",e)}(),function(){function e(){return{restrict:"E",scope:{},bindToController:{spot:"="},controller:["$scope",function(e){var t=this;t.valid=!1,e.$watchGroup(["ctrl.spot.eat","ctrl.spot.drink","ctrl.spot.attend"],function(e){e[0]||e[1]||e[2]?t.valid=!0:t.valid=!1})}],controllerAs:"ctrl",templateUrl:"shared/forms/nsSpotServiceSelect.html"}}angular.module("nsApp.shared").directive("nsSpotServiceSelect",e)}(),function(){function e(e,t,n,o){function r(o,r){var i=o||r;return t.get(e+"/users/emailexists",{params:{email:i}}).then(function(e){return e.data?n.reject(!1):!0})}return{restrict:"A",require:"ngModel",link:function(e,t,n,o){o.$asyncValidators.emailexists=r}}}angular.module("nsApp.shared").directive("nsUniqueEmail",e),e.$inject=["BASE_API_URL","$http","$q","$timeout"]}(),function(){function e(e,t,n,o){function r(o,r){var i=o||r;return t.get(e+"/spots/spot_exists",{params:{name:i}}).then(function(e){return e.data?n.reject(!1):!0})}return{restrict:"A",require:"ngModel",link:function(e,t,n,o){o.$asyncValidators.spotExists=r}}}angular.module("nsApp.spots").directive("nsUniqueSpot",e),e.$inject=["BASE_API_URL","$http","$q","$timeout"]}(),function(){angular.module("nsApp.shared").value("states",{AL:"Alabama",AK:"Alaska",AS:"American Samoa",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FM:"Federated States Of Micronesia",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MH:"Marshall Islands",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",MP:"Northern Mariana Islands",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PW:"Palau",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"})}(),function(){function e(e,t,n,o,r){function i(){var e;return p.search||(p.user?(p.search=angular.copy(p.user),u()):e=s()),t.when(e?e:p.search)}function s(){return p.pending=!0,n.getCurrentPosition().then(function(e){p.user=p.search={lat:e.coords.latitude,lng:e.coords.longitude},u()})["catch"](function(e){r.pop("error","Unable to find current location.")})["finally"](function(){p.pending=!1})}function a(e){p.search=e,u()}function c(){return console.log("setSearchToUser"),r.pop("info","Using Current Location"),p.search=p.user,u(),t.when(p.search)}function l(e,t){if(!p.user)return null;var n=Math.PI*p.user.lat/180,o=Math.PI*e/180,r=(Math.PI*p.user.lng/180,Math.PI*t/180,p.user.lng-t),i=Math.PI*r/180,s=Math.sin(n)*Math.sin(o)+Math.cos(n)*Math.cos(o)*Math.cos(i);return s=Math.acos(s),s=180*s/Math.PI,s=60*s*1.1515,s=.8684*s,Math.round(100*s)/100}function u(){e.$emit("locationChanged")}var p={init:i,user:null,search:null,radius:"1",pending:!1,setUserLocation:s,setSearch:a,save:u,setSearchToUser:c,distance:l};return p}angular.module("nsApp.shared").factory("LocationManager",e),e.$inject=["$rootScope","$q","$geolocation","localStorageService","toaster"]}(),function(){function e(e,t,n){return{restrict:"A",scope:{location:"=nsMap"},link:function(o,r,i){function s(){var t=e.user;if(a&&c.removeLayer(a),a=L.mapbox.featureLayer({type:"Feature",geometry:{type:"Point",coordinates:[o.location.longitude,o.location.latitude]},properties:{title:o.location.name,description:o.location.address,"marker-size":"medium","marker-color":"#FF4DFF"}}).addTo(c),t){var n=new L.LatLng(t.lat,t.lng);L.circleMarker(n,{color:"white",radius:7,stroke:!0,weight:2,fillColor:"#1c93fb",fillOpacity:.8}).addTo(c)}c.setView([o.location.latitude,o.location.longitude],16),a.eachLayer(function(e){e.openPopup()})}L.mapbox.accessToken=t;var a,c=L.mapbox.map(r[0],n,{maxZoom:18,minZoom:14,scrollWheelZoom:!1});c.setView([40.4411175,-79.9989563],14),o.$watch("location",function(e,t){console.log(o.location),e&&e.latitude&&s()},!0)}}}angular.module("nsApp.shared").directive("nsMap",e),e.$inject=["LocationManager","MAPBOX_ACCESS_TOKEN","MAPBOX_ID"]}(),function(){function e(e,t,n,o,r){function i(i,s,a){function c(){var t=e.user,n=e.search;if(m.length=0,u(),t){var r=new L.LatLng(t.lat,t.lng);L.circleMarker(r,{color:"white",radius:7,stroke:!0,weight:2,fillColor:"#1c93fb",fillOpacity:.8}).addTo(f),t.lat===n.lat&&m.push(r)}if(i.locations.length)l();else if(n){var s=new L.LatLng(n.lat,n.lng);return f.setView(s,14)}m.length&&o(function(){f.fitBounds(m,{padding:[10,10]})},350)}function l(){for(var e=0,t=i.locations.length;t>e;e++){var n=i.locations[e].id,o=new L.LatLng(i.locations[e].latitude,i.locations[e].longitude),r=L.marker(o,{title:i.locations[e].name,icon:L.mapbox.marker.icon({"marker-size":"medium","marker-symbol":e+1,"marker-color":d(n)}),zIndexOffset:p(n)}).addTo(f).bindPopup("<strong>"+i.locations[e].name+"</strong><br/>"+i.locations[e].address,{closeButton:!1}).on("mouseover",function(e){this.openPopup()}).on("mouseout",function(e){this.closePopup()});v.push(r),m.push(o)}}function u(){for(var e=0,t=v.length;t>e;e++)f.removeLayer(v[e])}function p(e){return r.spot&&r.spot.id==e?9999:0}function d(e){return r.spot&&r.spot.id==e?"#FF4DFF":{eat:"#4DFF4D",drink:"#FF4D4D",attend:"#4DD2FF","":"#000"}[i.sort]}L.mapbox.accessToken=t;var f=L.mapbox.map(s[0],n,{maxZoom:17,minZoom:12,scrollWheelZoom:!1}),m=[],v=[];i.$watchCollection("locations",function(){c()}),i.$watch(function(){return e.search},function(){c()}),i.$watch(function(){return r.spot},function(e,t){u(),l(),e||m.length&&f.fitBounds(m,{padding:[20,20]})})}return{restrict:"A",scope:{locations:"=nsMapList",sort:"@"},link:i}}angular.module("nsApp.shared").directive("nsMapList",e),e.$inject=["LocationManager","MAPBOX_ACCESS_TOKEN","MAPBOX_ID","$timeout","focused"]}(),function(){function e(e,t){var n=this;n.category=e,n.filterParams=t}angular.module("nsApp.spots").controller("categoriesOverlay",e),e.$inject=["Category","filterParams"]}(),function(){function e(){return{restrict:"E",scope:{},bindToController:{sort:"="},controller:["overlay","filterParams",function(e,t){function n(){var t=e.open("components/overlay/categories/"+o.sort+"Overlay.html");t.then(function(e){})}var o=this;o.openOverlay=n,o.filterParams=t}],controllerAs:"ctrl",template:"<button class='ns-filter-btn {{ctrl.sort}}-toggle-btn' ng-click='ctrl.openOverlay()'> Features <span class='ns-filter-count {{ctrl.sort}}' ng-show='ctrl.filterParams[ctrl.sort].length'> {{ ctrl.filterParams[ctrl.sort].length }}</span></button>"}}angular.module("nsApp.overlay").directive("nsCategoriesOverlayBtn",e)}(),function(){function e(e,t){var n=this;n.feature=e,n.filterParams=t}angular.module("nsApp.overlay").controller("featuresOverlay",e),e.$inject=["Feature","filterParams"]}(),function(){function e(){return{restrict:"E",scope:{},controller:["overlay","filterParams",function(e,t){function n(){var t=e.open("components/overlay/features/featuresOverlay.html");t.then(function(e){})}var o=this;o.openOverlay=n,o.filterParams=t}],controllerAs:"ctrl",template:"<button class='ns-filter-btn feature-toggle-btn' ng-click='ctrl.openOverlay()'> Features <span class='ns-filter-count loud' ng-show='ctrl.filterParams.features.length'> {{ctrl.filterParams.features.length }}</span></button>"}}angular.module("nsApp.overlay").directive("nsFeaturesOverlayBtn",e)}(),function(){function e(e,t){function n(){t.setSearch({lat:o.PACLocation.geometry.location.lat(),lng:o.PACLocation.geometry.location.lng(),address:o.PACLocation.formatted_address}),o.address=o.PACLocation.formatted_address}var o=this;o.locationManager=t,o.address=t.search&&t.search.address?t.search.address:"",o.PACLocation=null,o.sliderOptions={floor:1,ceil:8,showSelectionBar:!0,showTicks:!0,onEnd:function(){return t.save()},translate:function(e){return e+" mi"},getSelectionBarColor:function(e){return"#B200B2"},getPointerColor:function(e){return"#FF4DFF"}},e.$watch("locationCtrl.PACLocation",function(e){return e&&e.geometry?n():void 0})}angular.module("nsApp.overlay").controller("locationSettingsOverlay",e),e.$inject=["$scope","LocationManager"]}(),function(){function e(){return{restrict:"E",scope:{},controller:["overlay","LocationManager","$scope","$timeout",function(e,t,n,o){function r(){var t=e.open("components/overlay/location/locationSettingsOverlay.html");i(),t.then(function(e){console.log(e)})["finally"](function(){i()})}function i(){o(function(){n.$broadcast("rzSliderForceRender")})}var s=this;s.openOverlay=r,s.locationManager=t}],controllerAs:"ctrl",template:'{{ctrl.locationManager.search.address}} <button class="ns-filter-btn location-toggle-btn" ng-click="ctrl.openOverlay()"> Location </button>'}}angular.module("nsApp.overlay").directive("nsLocationOverlayBtn",e)}(),function(){function e(e,t,n){function o(){e.user&&e.user.signedIn&&s.spotService.userIndex().then(function(e){s.userSpots=e})}function r(){return e.signOut(),t.resolve({state:"home"})}function i(e){return s.spotService.spot=e,t.resolve({state:"edit.about"})}var s=this;s.overlay=t,s.signOut=r,s.spotService=n,s.userSpots=[],s.update=i,o()}angular.module("nsApp.overlay").controller("navOverlay",e),e.$inject=["$rootScope","overlay","spotService"]}(),function(){function e(e,t,n){function o(){i.spotService.search(i.filterParams.q).then(function(e){i.spots=e})}function r(e){var t="/";return e.eat||e.drink||e.attend?(e.eat&&(t+="e"),e.drink&&(t+="d"),e.attend&&(t+="a")):t+="a",t+=".png"}var i=this;i.overlay=e,i.spotService=t,i.filterParams=n,i.spots=[],i.searchName=o,i.placeholder=r,i.q=""}angular.module("nsApp.spots").controller("searchOverlay",e),e.$inject=["overlay","spotService","filterParams"]}(),function(){function e(e,t,n,o){var r=this;r.imageService=n.init({uri:"spots",imageable_id:e.id}),r.imageService.loadImages(),r.openNow=t,o.index().then(function(t){r.features=t.filter(function(t){return e.feature_ids.indexOf(t.id)>-1})})}angular.module("nsApp.spots").controller("about",e),e.$inject=["spot","openNow","imageService","Feature"]}(),function(){function e(e,t,n){var o=this;o.category=t,o.feature=n,o.prices=[{val:0,label:"N/A"},{val:1,label:"$"},{val:2,label:"$$"},{val:3,label:"$$$"},{val:4,label:"$$$$"}]}angular.module("nsApp.spots").controller("editAbout",e),e.$inject=["spot","Category","Feature"]}(),function(){function e(e,t,n){function o(e){e.$invalid||i.spotService.update()}function r(){i.spotService.destroy().then(function(e){t.go("business")})}var i=this;i.spotService=e,i.update=o,i.destroy=r,i.states=n}angular.module("nsApp.spots").controller("editSpot",e),e.$inject=["spotService","$state","states"]}(),function(){angular.module("nsApp.spots").value("days",{0:"Sun",1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat"})}(),function(){function e(e,t){function n(e){if(e)e.start_date=new Date(e.start_date),e.start_time=new Date(e.start_time),e.end_date&&(e.end_date=new Date(e.end_date)),e.end_time&&(e.end_time=new Date(e.end_time)),r.eventService.event=e;else{var n=new Date;r.eventService.event={start_date:n,start_time:null,entry:"free",age:"all ages"}}var o=t.open({controller:"eventModal",controllerAs:"eventCtrl",templateUrl:"components/spots/events/eventModal.html",size:"md"});o.result.then(function(){r.eventService.event=null})}function o(e){r.eventService.event=e,r.eventService.destroy()}var r=this;new Date;r.eventService=e,r.eventService.loadEvents(),r.openModal=n,r.destroy=o}angular.module("nsApp.spots").controller("editEvents",e),
e.$inject=["eventService","$uibModal"]}(),function(){function e(e,t){var n=e+"/spots/:spot_id/events";return t(e+"/events/:id",{id:"@id",spot_id:"@spot_id"},{index:{method:"GET",url:n,isArray:!0},create:{method:"POST",url:n},update:{method:"PUT"}})}angular.module("nsApp.spots").factory("Event",e),e.$inject=["BASE_API_URL","$resource"]}(),function(){function e(e,t,n){function o(){t.save().then(function(t){return e.close()})}function r(){return e.dismiss(null)}var i=this;i.eventService=t,i.category=n,i.save=o,i.cancel=r,i.minDate=new Date,i.maxDate=(new Date).setDate((new Date).getDate()+180)}angular.module("nsApp.spots").controller("eventModal",e),e.$inject=["$uibModalInstance","eventService","Category"]}(),function(){function e(e,t,n,o){function r(n){if(!l.pending){var n=n||t.spot.id;l.pending=!0,e.index({spot_id:n}).$promise.then(function(t){l.events=t.map(function(t){return t.start_date=new Date(t.start_date),t.start_time=new Date(t.start_time),t.end_date&&(t.end_date=new Date(t.end_date)),t.end_time&&(t.end_time=new Date(t.end_time)),new e(t)})})["finally"](function(){l.pending=!1})}}function i(){return l.pending||!l.event?n.reject():l.event.id?a():s()}function s(){var r=n.defer();return l.pending=!0,l.event.spot_id=t.spot.id,e.create(l.event).$promise.then(function(t){t.start_date=new Date(t.start_date),t.start_time=new Date(t.start_time),t.end_date&&(t.end_date=new Date(t.end_date)),t.end_time&&(t.end_time=new Date(t.end_time));var n=new e(t);l.events.push(n),l.event=null,o.pop("success","Event created"),r.resolve(t)})["catch"](function(e){o.pop("error","Unable to add event"),r.reject(e)})["finally"](function(){l.pending=!1}),r.promise}function a(){var e=n.defer();return l.pending=!0,l.event.$update().then(function(t){o.pop("success","Event updated"),l.event=null,e.resolve(t)})["catch"](function(t){o.pop("error","Unable to update event"),e.reject(t)})["finally"](function(){l.pending=!1}),e.promise}function c(){!l.pending&&l.event&&(l.pending=!0,l.event.$delete().then(function(e){var t=l.events.indexOf(l.event);return l.events.splice(t,1),l.event=null,o.pop("success","Event removed"),e})["catch"](function(e){console.error(e)})["finally"](function(){l.pending=!1}))}var l={pending:!1,events:[],event:null,loadEvents:r,save:i,destroy:c};return l}angular.module("nsApp.spots").factory("eventService",e),e.$inject=["Event","spotService","$q","toaster"]}(),function(){function e(e,t){var n=this;new Date;n.eventService=t,n.eventService.loadEvents(e.id)}angular.module("nsApp.spots").controller("events",e),e.$inject=["spot","eventService"]}(),function(){angular.module("nsApp.spots").value("months",{0:"Jan",1:"Feb",2:"Mar",3:"Apr",4:"May",5:"Jun",6:"Jul",7:"Aug",8:"Sep",9:"Oct",10:"Nov",11:"Dec"})}(),function(){function e(e,t){return function(n){var o,r=new Date(n.start_date),i=r.getDate(),s=t[r.getDay()],a=e[r.getMonth()];if(n.end_date&&n.start_date!=n.end_date){var c=new Date(n.end_date),l=c.getDate(),u=e[c.getMonth()];o=a===u?a+" "+i+" - "+l:a+" "+i+" - "+u+" "+l}else o=s+", "+a+" "+i;return o}}angular.module("nsApp.spots").filter("occurrenceDate",e),e.$inject=["months","days"]}(),function(){function e(e,t,n){function o(e){return t.post(i,{spot_id:e.id}).then(function(e){return n.pop("warning","Spot added to favorites",""),e})}function r(e){return t["delete"](i+("/"+e.id)).then(function(e){return n.pop("warning","Spot removed from favorites",""),e})}var i=e+"/favorites";return{create:o,remove:r}}angular.module("nsApp.spots").factory("Favorite",e),e.$inject=["BASE_API_URL","$http","toaster"]}(),function(){function e(e,t){function n(){o.spotService.favorites()}var o=this;o.spotService=t,n()}angular.module("nsApp.spots").controller("favorites",e),e.$inject=["$scope","spotService"]}(),function(){function e(){return{restrict:"E",scope:{},bindToController:{spot:"="},controller:["$rootScope","Favorite","toaster",function(e,t,n){var o=this;o.isFavorited=function(){return!!(e.user.signedIn&&e.user.favorite_spot_ids.indexOf(o.spot.id)>-1)},o.add=function(){return e.user.signedIn?void t.create(o.spot).then(function(t){o.spot.favorites_count+=1,e.user.favorite_spot_ids.push(o.spot.id)}):void n.pop("info","Please Sign In to track your favorites!")},o.remove=function(){console.log("Removing.."),t.remove(o.spot).then(function(t){console.log(t),o.spot.favorites_count-=1;var n=e.user.favorite_spot_ids.indexOf(o.spot.id);e.user.favorite_spot_ids.splice(n,1)})}}],controllerAs:"favsCtrl",templateUrl:"components/spots/favorites/nsFavoriteBtn.html"}}angular.module("nsApp.spots").directive("nsFavoriteBtn",e)}(),function(){function e(e,t,n){function o(){i.spotService.params={},i.spotService.init()}function r(){return i.filteredSpots=e.$eval("vm.spotService.spots | features:vm.filterParams.features | orderBy:vm.filterParams.order"),i.filteredSpots}var i=this;i.spotService=t,i.filterParams=n,i.filteredSpots=[],i.applyFilters=r,i.today=new Date,o(),e.$watchCollection("vm.spotService.spots",function(){return r()}),e.$watchCollection("vm.filterParams.features",function(){return r()}),e.$watch("vm.filterParams.order",function(){return r()})}angular.module("nsApp.spots").controller("home",e),e.$inject=["$scope","spotService","filterParams"]}(),function(){function e(e,t){var n=e+"/spots/:spot_id/hours";return t(e+"/hours/:id",{id:"@id",spot_id:"@spot_id"},{index:{method:"GET",url:n,isArray:!0},create:{method:"POST",url:n},update:{method:"PUT"}})}angular.module("nsApp.spots").factory("Hour",e),e.$inject=["BASE_API_URL","$resource"]}(),function(){function e(e,t,n,o){function r(){!l.pending&&t.spot&&(l.hours.length=0,l.hours=t.spot.hours.map(function(t){return new e(angular.extend(t,{open:new Date(t.open),close:new Date(t.close),days:t.days.map(Number)}))}))}function i(){return!l.pending&&l.hour?l.hour.id?a():s():void 0}function s(){var r=n.defer();return console.log(l.hour),l.pending=!0,l.hour.spot_id=t.spot.id,e.create(l.hour).$promise.then(function(t){var n=new e(angular.extend(t,{open:new Date(t.open),close:new Date(t.close),days:t.days.map(Number)}));l.hours.push(n),o.pop("success","Hours added"),r.resolve(t)})["catch"](function(e){o.pop("error","Unable to add hours"),r.reject(e)})["finally"](function(){l.pending=!1}),r.promise}function a(){var e=n.defer();return l.pending=!0,l.hour.$update().then(function(t){o.pop("success","Hours updated"),angular.extend(l.hour,{open:new Date(t.open),close:new Date(t.close)}),e.resolve(t)})["catch"](function(t){o.pop("error","Unable to update hours"),e.reject(t)})["finally"](function(){l.pending=!1}),e.promise}function c(){!l.pending&&l.hour&&(l.pending=!0,l.hour.$delete().then(function(e){var t=l.hours.indexOf(l.hour);return l.hours.splice(t,1),l.hour=null,o.pop("success","Hours removed"),e})["catch"](function(e){console.error(e)})["finally"](function(){l.pending=!1}))}var l={pending:!1,hours:[],hour:null,setHours:r,save:i,destroy:c};return l}angular.module("nsApp.spots").factory("hourService",e),e.$inject=["Hour","spotService","$q","toaster"]}(),function(){function e(e,t){function n(){t.save().then(function(t){return e.close()})}function o(){return e.dismiss(null)}var r=this;r.hourService=t,r.save=n,r.cancel=o}angular.module("nsApp.spots").controller("hoursModal",e),e.$inject=["$uibModalInstance","hourService"]}(),function(){function e(e,t){return{restrict:"E",templateUrl:"components/spots/hours/nsEditHours.html",controller:["hourService","$uibModal",function(e,t){function n(e){e?r.hourService.hour=angular.extend(e,{open:new Date(e.open),close:new Date(e.close),days:e.days.map(Number)}):r.hourService.hour={};var n=t.open({controller:"hoursModal",controllerAs:"hrsCtrl",templateUrl:"components/spots/hours/hoursModal.html",size:"md"});n.result.then(function(e){r.hourService.hour=null})}function o(e){e&&(r.hourService.hour=e,r.hourService.destroy().then(function(e){r.hourService.hour=null}))}var r=this;r.hourService=e,r.hourService.setHours(),r.openModal=n,r.remove=o}],controllerAs:"hrsCtrl"}}angular.module("nsApp.spots").directive("nsEditHours",e),e.$inject=["hourService","$uibModal"]}(),function(){function e(e){return{restrict:"E",scope:!0,bindToController:{hours:"="},controller:["openNow",function(e){this.openNow=e,this.open=!1}],controllerAs:"ctrl",templateUrl:"components/spots/hours/nsHoursTable.html"}}angular.module("nsApp.spots").directive("nsHoursTable",e),e.$inject=["openNow"]}(),function(){function e(){return{restrict:"E",controller:["$scope","spotService","imageService","$uibModal",function(e,t,n,o){function r(e){a.imageService.setPrimary(e).then(function(n){a.imageService.loadImages(),t.spot.primary_image=e,e.primary=!0})}function i(e){a.imageService.destroy(e)}function s(){if(a.imgFile){var e=o.open({controller:"cropImageModal",controllerAs:"imgCtrl",templateUrl:"shared/images/cropImageModal.html",size:"md",resolve:{imgFile:function(){return a.imgFile}}});e.result.then(function(e){a.imgFile=null,a.imageService.upload(e,!1).then(function(e){console.log(e)})})}}var a=this;a.imgFile=null,a.imageService=n,a.imageService.init({uri:"spots",imageable_id:t.spot.id}),a.imageService.loadImages(),a.setPrimary=r,a.remove=i,a.openModal=s}],controllerAs:"imgsCtrl",templateUrl:"components/spots/images/nsEditImages.html"}}angular.module("nsApp.spots").directive("nsEditImages",e),e.$inject=["spotService","imageService","$uibModal"]}(),function(){angular.module("nsApp.spots").value("focused",{spot:null})}(),function(){function e(){return{restrict:"E",scope:{},bindToController:{spot:"=",sort:"@",index:"="},controller:["openNow","focused",function(e,t){var n=this;n.openNow=e,n.highlight=!1,n.focus=function(){n.highlight=!0,t.spot=n.spot},n.unfocus=function(){n.highlight=!1,t.spot=null}}],controllerAs:"spotCtrl",templateUrl:"components/spots/list/nsSpotBlock.html"}}angular.module("nsApp.spots").directive("nsSpotBlock",e)}(),function(){function e(e){return{restrict:"E",scope:{},bindToController:{spot:"=",index:"="},controller:["filterParams","focused",function(e,t){var n=this;n.filterParams=e,n.focus=function(){n.highlight=!0,t.spot=n.spot},n.unfocus=function(){n.highlight=!1,t.spot=null}}],controllerAs:"spotCtrl",templateUrl:"components/spots/list/nsVenueBlock.html"}}angular.module("nsApp.spots").directive("nsVenueBlock",e),e.$inject=["filterParams"]}(),function(){function e(e,t){function n(e){s.menuService.menu=e||{};var n=t.open({controller:"menuModal",controllerAs:"menusCtrl",templateUrl:"components/spots/menus/menuModal.html",size:"md"});n.result.then(function(e){s.menuService.menu=null})}function o(e,n){s.menuService.menu=e;var o=t.open({controller:"itemModal",controllerAs:"itemsCtrl",templateUrl:"components/spots/menus/itemModal.html",size:"md",resolve:{item:function(){return n}}});o.result.then(function(e){s.menuService.menu=null})}function r(e){e&&(s.menuService.menu=e,s.menuService.destroy())}function i(e){s.menuService.menu=e,s.menuService.save(),s.menuService.menu=null}var s=this;s.menuService=e,s.menuService.loadMenus(),s.openMenuModal=n,s.openItemModal=o,s.updateMenu=i,s.removeMenu=r}angular.module("nsApp.spots").controller("editMenus",e),e.$inject=["menuService","$uibModal"]}(),function(){function e(e,t,n){function o(){i.item.id||i.menuService.menu.items_attributes.push(i.item),n.save().then(function(e){return t.close()})}function r(){return t.dismiss(null)}var i=this;i.menuService=n,i.save=o,i.cancel=r,i.item=e||{}}angular.module("nsApp.spots").controller("itemModal",e),e.$inject=["item","$uibModalInstance","menuService"]}(),function(){function e(e,t){var n=e+"/spots/:spot_id/menus";return t(e+"/menus/:id",{id:"@id",spot_id:"@spot_id"},{index:{method:"GET",url:n,isArray:!0},create:{method:"POST",url:n},update:{method:"PUT"}})}angular.module("nsApp.spots").factory("Menu",e),e.$inject=["BASE_API_URL","$resource"]}(),function(){function e(e,t){function n(){t.save().then(function(t){return e.close()})}function o(){return e.dismiss(null)}var r=this;r.menuService=t,r.save=n,r.cancel=o}angular.module("nsApp.spots").controller("menuModal",e),e.$inject=["$uibModalInstance","menuService"]}(),function(){function e(e,t,n,o){function r(n){if(!l.pending){l.pending=!0;var n=n||t.spot.id;e.index({spot_id:n}).$promise.then(function(t){l.menus=t.map(function(t){return new e(t)})})["finally"](function(){l.pending=!1})}}function i(){return l.pending||!l.menu?n.reject():l.menu.id?a():s()}function s(){var r=n.defer();return l.pending=!0,l.menu.spot_id=t.spot.id,e.create(l.menu).$promise.then(function(t){var n=new e(t);l.menus.push(n),l.menu=null,o.pop("success","Menu added"),r.resolve(t)})["catch"](function(e){o.pop("error","Unable to add menu"),r.reject(e)})["finally"](function(){l.pending=!1}),r.promise}function a(){var e=n.defer();return l.pending=!0,l.menu.$update().then(function(t){o.pop("success","Menu updated"),l.menu=null,e.resolve(t)})["catch"](function(t){o.pop("error","Unable to update menu"),e.reject(t)})["finally"](function(){l.pending=!1}),e.promise}function c(){!l.pending&&l.menu&&(l.pending=!0,l.menu.$delete().then(function(e){var t=l.menus.indexOf(l.menu);return l.menus.splice(t,1),l.menu=null,o.pop("success","menus removed"),e})["catch"](function(e){console.error(e)})["finally"](function(){l.pending=!1}))}var l={pending:!1,menus:[],menu:null,loadMenus:r,save:i,destroy:c};return l}angular.module("nsApp.spots").factory("menuService",e),e.$inject=["Menu","spotService","$q","toaster"]}(),function(){function e(e,t){var n=this;n.menuService=t,n.menuService.loadMenus(e.id)}angular.module("nsApp.spots").controller("menus",e),e.$inject=["spot","menuService"]}(),function(){function e(e,t,n,o,r,i){function s(){l.spotData.name=l.PACLocation.name,l.spotData.street=[l.PACLocation.address_components[0].long_name,l.PACLocation.address_components[1].short_name].join(", "),l.spotData.city=l.PACLocation.address_components[2].short_name,l.spotData.state=l.PACLocation.address_components[3].short_name,l.spotData.phone=l.PACLocation.formatted_phone_number,l.spotData.website_url=l.PACLocation.website,l.spotData.latitude=l.PACLocation.geometry.location.lat(),l.spotData.longitude=l.PACLocation.geometry.location.lng()}function a(){var e=new google.maps.Geocoder,t=[l.spotData.street,l.spotData.city,l.spotData.state].join(", ");e.geocode({address:t},function(e,t){t==google.maps.GeocoderStatus.OK&&(l.spotData.latitude=e[0].geometry.location.lat(),l.spotData.longitude=e[0].geometry.location.lng())})}function c(){var e=r.open({controller:"newSpotModal",controllerAs:"ctrl",templateUrl:"components/spots/new/newSpotModal.html",size:"md"});e.result.then(function(e){n.create(l.spotData).then(function(e){n.spot=new t(e),o.go("edit.about")})})}var l=this;l.spotData={},l.PACLocation=null,l.openModal=c,l.states=i,e.$watchCollection("[spotForm.street.$valid, spotForm.city.$valid, spotForm.state.$valid]",function(e,t){return e[0]&&e[1]&&e[2]&&!l.spotData.latitude&&!l.spotData.longitude?a():void 0}),e.$watch("vm.PACLocation",function(e){return e&&e.geometry?s():void 0})}angular.module("nsApp.spots").controller("newSpot",e),e.$inject=["$scope","Spot","spotService","$state","$uibModal","states"]}(),function(){function e(e){function t(){return e.close()}function n(){return e.dismiss(null)}var o=this;o.save=t,o.cancel=n}angular.module("nsApp.spots").controller("newSpotModal",e),e.$inject=["$uibModalInstance"]}(),function(){function e(){return{restrict:"E",scope:{},bindToController:{spot_id:"@spot"},controller:["$uibModal",function(e){function t(){e.open({controller:"nsReportModal",controllerAs:"ctrl",templateUrl:"components/spots/reports/nsReportModal.html",size:"sm",resolve:{spot_id:function(){return n.spot_id}}})}var n=this;n.openModal=t}],controllerAs:"ctrl",template:'<span class="ns-report pull-right" ng-click="ctrl.openModal()">!<i class="fa fa-flag"></i> Report Abuse<span>'}}angular.module("nsApp.spots").directive("nsReport",e)}(),function(){function e(e,t,n){function o(){i.report.create(i.reportData).then(function(t){e.close()})}function r(){e.dismiss()}var i=this;i.report=n,i.reportData={spot_id:t},i.send=o,i.cancel=r}angular.module("nsApp.spots").controller("nsReportModal",e),e.$inject=["$uibModalInstance","spot_id","Report"]}(),function(){function e(e,t,n){var o={pending:!1,create:function(r){return o.pending?void 0:(o.pending=!0,t.post(e+"/reports",r).then(function(){n.pop("info","Thank you for your feedback")})["catch"](function(){n.pop("error","Unable to send report. Please contact info@thenitespot.com")})["finally"](function(){o.pending=!1}))}};return o}angular.module("nsApp.spots").factory("Report",e),e.$inject=["BASE_API_URL","$http","toaster"]}(),function(){function e(){return function(e,t){var n=t.length;if(!n)return e;for(var o=[],r=0,i=e.length;i>r;r++){for(var s=0,a=0,c=t.length;c>a;a++)e[r].feature_ids.indexOf(t[a])>-1&&s++;s===n&&o.push(e[r])}return o}}angular.module("nsApp.spots").filter("features",e)}(),function(){function e(){return function(e,t,n){if(!n.length)return e;for(var o=[],r=0,i=e.length;i>r;r++)for(var s=0,a=e[r][t].length;a>s;s++)if(n.indexOf(e[r][t][s])>-1){o.push(e[r]);break}return o}}angular.module("nsApp.spots").filter("idArr",e)}(),function(){function e(){return{restrict:"E",template:"<div class='ns-order-select'>Order by <select class='ns-order-select' ng-model='vm.filterParams.order'><option value='distance'>Distance</option><option value='-favorites_count'>Favorites</option></select></div>"}}angular.module("nsApp.spots").directive("nsOrderSelect",e)}(),function(){function e(e,t,n,o){function r(){s.spotService.params={sort:n},s.spotService.init()}function i(){return s.filteredSpots=e.$eval("vm.spotService.spots | idArr:'category_ids':vm.filterParams[vm.sort] | features:vm.filterParams.features | orderBy:vm.filterParams.order"),s.filteredSpots}var s=this;s.spotService=t,s.sort=n,s.filterParams=o,s.filteredSpots=[],s.applyFilters=i,s.today=new Date,r(),e.$watchCollection("vm.spotService.spots",function(){return i()}),e.$watchCollection("vm.filterParams[vm.sort]",function(){return i()}),e.$watchCollection("vm.filterParams.features",function(){return i()}),e.$watch("vm.filterParams.order",function(){return i()})}angular.module("nsApp.spots").controller("search",e),e.$inject=["$scope","spotService","sort","filterParams"]}(),function(){function e(e,t,n){function o(){r.spotService.params={sort:"attend"},r.spotService.init()}var r=this;r.spotService=t,r.today=new Date,o()}angular.module("nsApp.spots").controller("searchVenues",e),e.$inject=["$scope","spotService","filterParams"]}(),function(){function e(e,t,n,o,r){function i(e){if(e)t.special=angular.extend(e,{start_time:e.start_time?new Date(e.start_time):null,end_time:e.end_time?new Date(e.end_time):null,start_date:new Date(e.start_date),end_date:e.end_date?new Date(e.end_date):null});else{new Date;t.special={start_date:new Date}}var n=r.open({controller:"featuredSpecialModal",controllerAs:"splsCtrl",templateUrl:"components/spots/specials/featured/featuredSpecialModal.html",size:"md"});n.result.then(function(e){t.special=null})}function s(e){e?l.specialService.special=angular.extend(e,{start_time:new Date(e.start_time),end_time:new Date(e.end_time),days:e.days.map(Number)}):l.specialService.special={};var t=r.open({controller:"specialModal",controllerAs:"splsCtrl",templateUrl:"components/spots/specials/specialModal.html",size:"md"});t.result.then(function(e){l.specialService.special=null,l.specialService.sortSpecials()})}function a(e){e&&(l.specialService.special=e,l.specialService.destroy())}function c(e){e&&(l.featuredSpecialService.special=e,l.featuredSpecialService.destroy())}var l=this;l.specialService=e,l.specialService.loadSpecials(),l.featuredSpecialService=t,l.featuredSpecialService.loadSpecials(),l.headings=n,l.openNow=o,l.openWeeklySpecialModal=s,l.openFeaturedSpecialModal=i,l.remove=a,l.removeFeatured=c}angular.module("nsApp.spots").controller("editSpecials",e),e.$inject=["specialService","featuredSpecialService","specialHeadings","openNow","$uibModal"]}(),function(){function e(e,t){var n=e+"/spots/:spot_id/specials";return t(e+"/specials/:id",{id:"@id",spot_id:"@spot_id"},{index:{method:"GET",url:n,isArray:!0},weekly:{method:"GET",url:n+"/weekly",isArray:!0},featured:{method:"GET",url:n+"/featured",isArray:!0},create:{method:"POST",url:n},update:{method:"PUT"}})}angular.module("nsApp.spots").factory("Special",e),e.$inject=["BASE_API_URL","$resource"]}(),function(){angular.module("nsApp.spots").value("specialHeadings",{0:"* Daily",1:"Mondays",2:"Tuesdays",3:"Wednesdays",4:"Thursdays",5:"Fridays",6:"Saturdays",7:"Sundays"})}(),function(){function e(e,t){function n(){t.save().then(function(t){return e.close()})}function o(){return e.dismiss(null)}var r=this;r.specialService=t,r.save=n,r.cancel=o,r.minDate=new Date,r.maxDate=(new Date).setDate((new Date).getDate()+30)}angular.module("nsApp.spots").controller("specialModal",e),e.$inject=["$uibModalInstance","specialService"]}(),function(){function e(e,t,n,o){function r(n){if(!u.pending){u.pending=!0;var n=n||t.spot.id;e.weekly({spot_id:n}).$promise.then(function(t){u.specials=t.map(function(t){return new e(t)}),i()})["finally"](function(){u.pending=!1})}}function i(){Object.keys(u.sortedSpecials).map(function(e,t){u.sortedSpecials[e].length=0});for(var e=0,t=u.specials.length;t>e;e++)if(7==u.specials[e].days.length)u.sortedSpecials[0].push(u.specials[e]);else for(var n=0;8>n;n++)u.specials[e].days.indexOf(""+n)>-1&&u.sortedSpecials[n].push(u.specials[e])}function s(){return!u.pending&&u.special?u.special.id?c():a():void 0}function a(){var r=n.defer();return u.pending=!0,u.special.spot_id=t.spot.id,e.create(u.special).$promise.then(function(t){var n=new e(t);u.specials.push(n),u.special=null,o.pop("success","Special added"),i(),r.resolve(t)})["catch"](function(e){o.pop("error","Unable to add special"),r.reject(e)})["finally"](function(){u.pending=!1}),r.promise}function c(){var e=n.defer();return u.pending=!0,u.special.$update().then(function(t){o.pop("success","Special updated"),u.special=null,i(),e.resolve(t)})["catch"](function(t){o.pop("error","Unable to update special"),e.reject(t)})["finally"](function(){u.pending=!1}),e.promise}function l(){!u.pending&&u.special&&(u.pending=!0,u.special.$delete().then(function(e){var t=u.specials.indexOf(u.special);return u.specials.splice(t,1),u.special=null,o.pop("success","Special removed"),i(),e})["catch"](function(e){console.error(e)})["finally"](function(){u.pending=!1}))}var u={pending:!1,specials:[],sortedSpecials:{0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[]},sortSpecials:i,special:null,loadSpecials:r,save:s,destroy:l};return u}angular.module("nsApp.spots").factory("specialService",e),e.$inject=["Special","spotService","$q","toaster"]}(),function(){function e(e,t,n,o){var r=this;r.specialService=t,r.specialService.loadSpecials(e.id),r.headings=n,r.openNow=o}angular.module("nsApp.spots").controller("specials",e),e.$inject=["spot","specialService","specialHeadings","openNow"]}(),function(){function e(e,t,n){return{restrict:"E",templateUrl:"components/spots/userRoles/nsSearchUsers.html",link:function(o,r,i){function s(){n.get(t+"/users/search",{params:{q:o.query}}).then(function(e){o.users=e.data})}function a(t){for(var n=0,o=e.roles.length;o>n;n++)if(e.roles[n].user.id===t.id)return!0;return!1}o.users=[],o.userRoleService=e,o.searchUsers=s,o.userBelongs=a}}}angular.module("nsApp.spots").directive("nsSearchUsers",e),e.$inject=["userRoleService","BASE_API_URL","$http"]}(),function(){function e(e,t,n){return{restrict:"E",templateUrl:"components/spots/userRoles/nsUserRoles.html",controller:["$rootScope","userRoleService","spotService",function(e,t,n){var o=this;o.userRoleService=t,o.userRoleService.loadRoles(),o.isAdmin=!1,function(){for(var t=0,r=e.user.user_roles.length;r>t;t++)if(e.user.user_roles[t].spot_id===n.spot.id&&"admin"===e.user.user_roles[t].role)return o.isAdmin=!0}()}],controllerAs:"rolesCtrl"}}angular.module("nsApp.spots").directive("nsUserRoles",e),e.$inject=["$rootScope","userRoleService","spotService"]}(),function(){function e(e,t){var n=e+"/spots/:spot_id/user_roles";return t(e+"/user_roles/:id",{id:"@id",spot_id:"@spot_id"},{index:{method:"GET",url:n,isArray:!0},create:{method:"POST",url:n},update:{method:"PUT"}})}angular.module("nsApp.spots").factory("UserRole",e),e.$inject=["BASE_API_URL","$resource"]}(),function(){function e(e,t,n,o){function r(){e.index({spot_id:t.spot.id}).$promise.then(function(t){c.roles=t.map(function(t){return new e(t)})})}function i(r){if(t.spot&&r){var i=n.defer();return c.pending=!0,e.create({user_id:r.id,spot_id:t.spot.id}).$promise.then(function(t){c.roles.push(new e(t)),o.pop("success","User added"),i.resolve(t)})["catch"](function(e){o.pop("error","Unable to add user"),i.reject(e)})["finally"](function(){c.pending=!1}),i.promise}}function s(e){e&&e.$update().then(function(e){o.pop("success","User updated")})["catch"](function(e){o.pop("error","Unable to update user")})}function a(e){e&&e.$delete().then(function(t){var n=c.roles.indexOf(e);return c.roles.splice(n,1),o.pop("success","User removed"),t})["catch"](function(e){console.error(e)})}var c={pending:!1,roles:[],role:null,loadRoles:r,create:i,update:s,destroy:a};return c}angular.module("nsApp.spots").factory("userRoleService",e),e.$inject=["UserRole","spotService","$q","toaster"]}(),function(){function e(e){return{restrict:"E",scope:{},bindToController:{spot:"="},template:"<ul class='ns-tags'><li ng-if='listCtrl.spot.price != 0'><span ng-repeat='price in listCtrl.prices track by $index' ng-class='{eat: listCtrl.spot.price > $index}'>$</span></li><li ng-repeat='ctg in listCtrl.categoryObjs' ng-class='ctg.sort'>{{ctg.name}}</li></ul>",controller:["Category",function(e){var t=this;t.prices=new Array(4),e.index().then(function(e){t.categoryObjs=e.filter(function(e){return t.spot.category_ids.indexOf(e.id)>-1})})}],controllerAs:"listCtrl"}}angular.module("nsApp").directive("nsTagList",e),e.$inject=["Category"]}(),function(){function e(e){var t=this;t.spot=e,t.today=Date.now(),t.placeholder=function(){var e="/";return t.spot.eat||t.spot.drink||t.spot.attend?(t.spot.eat&&(e+="e"),t.spot.drink&&(e+="d"),t.spot.attend&&(e+="a")):e+="a",e+=".png"}}angular.module("nsApp.spots").controller("viewSpot",e),e.$inject=["spot"]}(),function(){function e(){return function(e){if(!e.distance)return"";var t=Math.round(e.distance/2.5*60);return t>0&&30>t?t+2+"mins":""}}angular.module("nsApp.spots").filter("walkingTime",e)}(),function(){function e(e,t){function n(t){t.$valid&&e.update()["finally"](function(e){t.$setPristine()})}function o(n){n.$valid&&e.destroy().then(function(e){t.go("home")})}var r=this;e.setCurrentAccount(),r.userService=e,r.updateAccount=n,r.destroyAccount=o}angular.module("nsApp.users").controller("editAccount",e),e.$inject=["userService","$state"]}(),function(){function e(e,t){function n(n){n.$valid&&e.register().then(function(e){t.go("home")})}var o=this;o.userService=e,o.userService.account={dob:new Date,password:"",password_confirmation:""},o.createAccount=n}angular.module("nsApp.users").controller("newAccount",e),e.$inject=["userService","$state"]}(),function(){function e(e,t){function n(n){n.$valid&&e.requestPasswordReset().then(function(e){t.go("login")})}var o=this;o.userService=e,o.userService.account={},o.requestPasswordReset=n}angular.module("nsApp.users").controller("requestPasswordReset",e),e.$inject=["userService","$state"]}(),function(){function e(e,t){function n(n){n&&e.resetPassword().then(function(e){t.go("home")})}var o=this;o.userService=e,o.userService.account={},o.resetPassword=n}angular.module("nsApp.users").controller("resetPassword",e),e.$inject=["userService","$state"]}(),function(){function e(e,t){function n(){if(o.imgFile){var n=t.open({controller:"cropImageModal",controllerAs:"imgCtrl",templateUrl:"shared/images/cropImageModal.html",size:"md",resolve:{imgFile:function(){return o.imgFile}}});n.result.then(function(t){o.imgFile=null,e.upload(t)})}}var o=this;o.avatar=e,o.imgFile=null,o.openModal=n}angular.module("nsApp.users").controller("avatar",e),e.$inject=["Avatar","$uibModal"]}(),function(){function e(e,t,n,o,r){function i(t){return c.pending?void 0:(c.pending=!0,e.upload({url:a,method:"PUT",data:{avatar_data_uri:t}}).then(function(e){return r.pop("success","Avatar uploaded."),n.user.avatar=e.data.data.avatar,e.data})["catch"](function(e){r.pop("error","Unable to upload avatar.")})["finally"](function(){c.pending=!1}))}function s(){return c.pending?void 0:(c.pending=!0,o.put(a,{remove_avatar:!0}).then(function(e){return r.pop("success","Avatar removed."),n.user.avatar=null,e.data})["catch"](function(e){return r.pop("error","Unable to remove avatar."),e.data})["finally"](function(){c.pending=!1}))}var a=t.apiUrl()+t.getConfig().accountUpdatePath,c={pending:!1,upload:i,remove:s};return c}angular.module("nsApp.users").factory("Avatar",e),e.$inject=["Upload","$auth","$rootScope","$http","toaster"]}(),function(){function e(e,t){function n(n){return n.$invalid?void 0:e.login().then(function(e){t.go("home")})}var o=this;o.userService=e,o.submitLogin=n}angular.module("nsApp.users").controller("loginUser",e),e.$inject=["userService","$state"]}(),function(){function e(e,t){function n(){t.save().then(function(t){return e.close()})}function o(){return e.dismiss(null)}var r=this;r.specialService=t,r.save=n,r.cancel=o,r.minDate=new Date,r.maxDate=(new Date).setDate((new Date).getDate()+30)}angular.module("nsApp.spots").controller("featuredSpecialModal",e),e.$inject=["$uibModalInstance","featuredSpecialService"]}(),function(){function e(e,t,n,o){function r(n){if(!l.pending){l.pending=!0;var n=n||t.spot.id;e.featured({spot_id:n}).$promise.then(function(t){l.specials=t.map(function(t){return new e(t)})})["finally"](function(){l.pending=!1})}}function i(){return!l.pending&&l.special?l.special.id?a():s():void 0}function s(){var r=n.defer();return l.pending=!0,l.special.spot_id=t.spot.id,console.log(l.special),e.create(l.special).$promise.then(function(t){var n=new e(t);l.specials.push(n),l.special=null,o.pop("success","Special added"),r.resolve(t)})["catch"](function(e){o.pop("error","Unable to add special"),r.reject(e)})["finally"](function(){l.pending=!1}),r.promise}function a(){var t=n.defer();return l.pending=!0,l.special.$update().then(function(n){var r=l.specials.indexOf(l.special);l.specials[r]=new e(n),l.special=null,o.pop("success","Special updated"),t.resolve(n)})["catch"](function(e){o.pop("error","Unable to update special"),t.reject(e)})["finally"](function(){l.pending=!1}),t.promise}function c(){!l.pending&&l.special&&(l.pending=!0,l.special.$delete().then(function(e){var t=l.specials.indexOf(l.special);return l.specials.splice(t,1),l.special=null,o.pop("success","Special removed"),e})["catch"](function(e){console.error(e)})["finally"](function(){l.pending=!1}))}var l={pending:!1,specials:[],special:null,loadSpecials:r,save:i,destroy:c};return l}angular.module("nsApp.spots").factory("featuredSpecialService",e),e.$inject=["Special","spotService","$q","toaster"]}(),function(){function e(){return{restrict:"E",scope:{},bindToController:{spot:"="},controller:["featuredSpecialService",function(e){var t=this;t.featuredSpecialService=e,t.featuredSpecialService.loadSpecials(t.spot.id)}],controllerAs:"fSplsCtrl",templateUrl:"components/spots/specials/featured/nsFeaturedSpecialsList.html"}}angular.module("nsApp.spots").directive("nsFeaturedSpecialsList",e)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJuc0FwcC5tb2QuanMiLCJjb3JlL2NvcmUubW9kLmpzIiwic2hhcmVkL3NoYXJlZC5tb2QuanMiLCJzdGF0aWMvc3RhdGljLm1vZC5qcyIsImNvbXBvbmVudHMvbGF5b3V0L2xheW91dC5tb2QuanMiLCJjb21wb25lbnRzL3NwbGFzaC9zcGxhc2gubW9kLmpzIiwiY29tcG9uZW50cy9vdmVybGF5L292ZXJsYXkubW9kLmpzIiwiY29tcG9uZW50cy9zcG90cy9zcG90cy5tb2QuanMiLCJjb21wb25lbnRzL3VzZXJzL3VzZXJzLm1vZC5qcyIsImNvcmUvY29yZS5jb24uanMiLCJjb3JlL2NvcmVSb3V0ZXMuY2ZnLmpzIiwic2hhcmVkL2NhdGVnb3J5LmZjdC5qcyIsInNoYXJlZC9kYXlTcGFuLmZ0ci5qcyIsInNoYXJlZC9mZWF0dXJlLmZjdC5qcyIsInNoYXJlZC9maWx0ZXJQYXJhbXMuZmN0LmpzIiwic2hhcmVkL2xpbmtUYWcuZnRyLmpzIiwic2hhcmVkL29wZW5Ob3cudmFsLmpzIiwic3RhdGljL3N0YXRpY1JvdXRlcy5jZmcuanMiLCJjb21wb25lbnRzL2xheW91dC9uYXYuY3RybC5qcyIsImNvbXBvbmVudHMvbGF5b3V0L25zUmVwbGFjZUluY2x1ZGUuZHJjdC5qcyIsImNvbXBvbmVudHMvbGF5b3V0L25zVG9wYmFyLmRyY3QuanMiLCJjb21wb25lbnRzL3NwbGFzaC9uc1NwbGFzaC5kcmN0LmpzIiwiY29tcG9uZW50cy9vdmVybGF5L25zT3ZlcmxheS5kcmN0LmpzIiwiY29tcG9uZW50cy9vdmVybGF5L292ZXJsYXkuc3J2LmpzIiwiY29tcG9uZW50cy9zcG90cy9zcG90LmZjdC5qcyIsImNvbXBvbmVudHMvc3BvdHMvc3BvdFJvdXRlcy5jZmcuanMiLCJjb21wb25lbnRzL3Nwb3RzL3Nwb3RTZXJ2aWNlLmZjdC5qcyIsImNvbXBvbmVudHMvdXNlcnMvYXV0aC5jZmcuanMiLCJjb21wb25lbnRzL3VzZXJzL2F1dGhFdmVudHMucnVuLmpzIiwiY29tcG9uZW50cy91c2Vycy91c2VyUm91dGVzLmNmZy5qcyIsImNvbXBvbmVudHMvdXNlcnMvdXNlclNlcnZpY2UuZmN0LmpzIiwic2hhcmVkL2ltYWdlcy9jcm9wSW1hZ2VNb2RhbC5jdHJsLmpzIiwic2hhcmVkL2ltYWdlcy9kZWZhdWx0SW1nLmZ0ci5qcyIsInNoYXJlZC9pbWFnZXMvaW1hZ2VTZXJ2aWNlLmZjdC5qcyIsInNoYXJlZC9pbWFnZXMvbnNQcmltYXJ5SW1hZ2UuZHJjdC5qcyIsInNoYXJlZC9pbWFnZXMvcHJpbWFyeUltYWdlLmZ0ci5qcyIsInNoYXJlZC9mb3Jtcy9uc0NvbmZpcm0uZHJjdC5qcyIsInNoYXJlZC9mb3Jtcy9uc0Zvcm1JbnB1dC5kcmN0LmpzIiwic2hhcmVkL2Zvcm1zL25zTWF0Y2hlcy5kcmN0LmpzIiwic2hhcmVkL2Zvcm1zL25zU3BvdFByaWNlU2VsZWN0LmRyY3QuanMiLCJzaGFyZWQvZm9ybXMvbnNTcG90U2VydmljZVNlbGVjdC5kcmN0LmpzIiwic2hhcmVkL2Zvcm1zL25zVW5pcXVlRW1haWwuZHJjdC5qcyIsInNoYXJlZC9mb3Jtcy9uc1VuaXF1ZVNwb3QuZHJjdC5qcyIsInNoYXJlZC9mb3Jtcy9zdGF0ZXMudmFsLmpzIiwic2hhcmVkL2xvY2F0aW9uL2xvY2F0aW9uTWFuYWdlci5mY3QuanMiLCJzaGFyZWQvbWFwL25zTWFwLmRyY3QuanMiLCJzaGFyZWQvbWFwL25zTWFwTGlzdC5kcmN0LmpzIiwiY29tcG9uZW50cy9vdmVybGF5L2NhdGVnb3JpZXMvY2F0ZWdvcmllc092ZXJsYXkuY3RybC5qcyIsImNvbXBvbmVudHMvb3ZlcmxheS9jYXRlZ29yaWVzL25zQ2F0ZWdvcmllc092ZXJsYXlCdG4uZHJjdC5qcyIsImNvbXBvbmVudHMvb3ZlcmxheS9mZWF0dXJlcy9mZWF0dXJlc092ZXJsYXkuY3RybC5qcyIsImNvbXBvbmVudHMvb3ZlcmxheS9mZWF0dXJlcy9uc0ZlYXR1cmVzT3ZlcmxheUJ0bi5kcmN0LmpzIiwiY29tcG9uZW50cy9vdmVybGF5L2xvY2F0aW9uL2xvY2F0aW9uU2V0dGluZ3NPdmVybGF5LmN0cmwuanMiLCJjb21wb25lbnRzL292ZXJsYXkvbG9jYXRpb24vbnNMb2NhdGlvbk92ZXJsYXlCdG4uZHJjdC5qcyIsImNvbXBvbmVudHMvb3ZlcmxheS9uYXYvbmF2T3ZlcmxheS5jdHJsLmpzIiwiY29tcG9uZW50cy9vdmVybGF5L3NlYXJjaC9zZWFyY2hPdmVybGF5LmN0cmwuanMiLCJjb21wb25lbnRzL3Nwb3RzL2Fib3V0L2Fib3V0LmN0cmwuanMiLCJjb21wb25lbnRzL3Nwb3RzL2Fib3V0L2VkaXRBYm91dC5jdHJsLmpzIiwiY29tcG9uZW50cy9zcG90cy9lZGl0L2VkaXRTcG90LmN0cmwuanMiLCJjb21wb25lbnRzL3Nwb3RzL2V2ZW50cy9kYXlzLnZhbC5qcyIsImNvbXBvbmVudHMvc3BvdHMvZXZlbnRzL2VkaXRFdmVudHMuY3RybC5qcyIsImNvbXBvbmVudHMvc3BvdHMvZXZlbnRzL2V2ZW50LmZjdC5qcyIsImNvbXBvbmVudHMvc3BvdHMvZXZlbnRzL2V2ZW50TW9kYWwuY3RybC5qcyIsImNvbXBvbmVudHMvc3BvdHMvZXZlbnRzL2V2ZW50U2VydmljZS5mY3QuanMiLCJjb21wb25lbnRzL3Nwb3RzL2V2ZW50cy9ldmVudHMuY3RybC5qcyIsImNvbXBvbmVudHMvc3BvdHMvZXZlbnRzL21vbnRocy52YWwuanMiLCJjb21wb25lbnRzL3Nwb3RzL2V2ZW50cy9vY2N1cnJlbmNlRGF0ZS5mdHIuanMiLCJjb21wb25lbnRzL3Nwb3RzL2Zhdm9yaXRlcy9mYXZvcml0ZS5mY3QuanMiLCJjb21wb25lbnRzL3Nwb3RzL2Zhdm9yaXRlcy9mYXZvcml0ZXMuY3RybC5qcyIsImNvbXBvbmVudHMvc3BvdHMvZmF2b3JpdGVzL25zRmF2b3JpdGVCdG4uZHJjdC5qcyIsImNvbXBvbmVudHMvc3BvdHMvaG9tZS9ob21lLmN0cmwuanMiLCJjb21wb25lbnRzL3Nwb3RzL2hvdXJzL2hvdXIuZmN0LmpzIiwiY29tcG9uZW50cy9zcG90cy9ob3Vycy9ob3VyU2VydmljZS5mY3QuanMiLCJjb21wb25lbnRzL3Nwb3RzL2hvdXJzL2hvdXJzTW9kYWwuY3RybC5qcyIsImNvbXBvbmVudHMvc3BvdHMvaG91cnMvbnNFZGl0SG91cnMuZHJjdC5qcyIsImNvbXBvbmVudHMvc3BvdHMvaG91cnMvbnNIb3Vyc1RhYmxlLmRyY3QuanMiLCJjb21wb25lbnRzL3Nwb3RzL2ltYWdlcy9uc0VkaXRJbWFnZXMuZHJjdC5qcyIsImNvbXBvbmVudHMvc3BvdHMvbGlzdC9mb2N1c2VkLnZhbC5qcyIsImNvbXBvbmVudHMvc3BvdHMvbGlzdC9uc1Nwb3RCbG9jay5kcmN0LmpzIiwiY29tcG9uZW50cy9zcG90cy9saXN0L25zVmVudWVCbG9jay5kcmN0LmpzIiwiY29tcG9uZW50cy9zcG90cy9tZW51cy9lZGl0TWVudXMuY3RybC5qcyIsImNvbXBvbmVudHMvc3BvdHMvbWVudXMvaXRlbU1vZGFsLmN0cmwuanMiLCJjb21wb25lbnRzL3Nwb3RzL21lbnVzL21lbnUuZmN0LmpzIiwiY29tcG9uZW50cy9zcG90cy9tZW51cy9tZW51TW9kYWwuY3RybC5qcyIsImNvbXBvbmVudHMvc3BvdHMvbWVudXMvbWVudVNlcnZpY2UuZmN0LmpzIiwiY29tcG9uZW50cy9zcG90cy9tZW51cy9tZW51cy5jdHJsLmpzIiwiY29tcG9uZW50cy9zcG90cy9uZXcvbmV3U3BvdC5jdHJsLmpzIiwiY29tcG9uZW50cy9zcG90cy9uZXcvbmV3U3BvdE1vZGFsLmN0cmwuanMiLCJjb21wb25lbnRzL3Nwb3RzL3JlcG9ydHMvbnNSZXBvcnQuZHJjdC5qcyIsImNvbXBvbmVudHMvc3BvdHMvcmVwb3J0cy9uc1JlcG9ydE1vZGFsLmN0cmwuanMiLCJjb21wb25lbnRzL3Nwb3RzL3JlcG9ydHMvcmVwb3J0LmZjdC5qcyIsImNvbXBvbmVudHMvc3BvdHMvc2VhcmNoL2ZlYXR1cmVzLmZydC5qcyIsImNvbXBvbmVudHMvc3BvdHMvc2VhcmNoL2lkQXJyLmZ0ci5qcyIsImNvbXBvbmVudHMvc3BvdHMvc2VhcmNoL25zT3JkZXJTZWxlY3QuZHJjdC5qcyIsImNvbXBvbmVudHMvc3BvdHMvc2VhcmNoL3NlYXJjaC5jdHJsLmpzIiwiY29tcG9uZW50cy9zcG90cy9zZWFyY2gvc2VhcmNoVmVudWVzLmN0cmwuanMiLCJjb21wb25lbnRzL3Nwb3RzL3NwZWNpYWxzL2VkaXRTcGVjaWFscy5jdHJsLmpzIiwiY29tcG9uZW50cy9zcG90cy9zcGVjaWFscy9zcGVjaWFsLmZjdC5qcyIsImNvbXBvbmVudHMvc3BvdHMvc3BlY2lhbHMvc3BlY2lhbEhlYWRpbmdzLnZhbC5qcyIsImNvbXBvbmVudHMvc3BvdHMvc3BlY2lhbHMvc3BlY2lhbE1vZGFsLmN0cmwuanMiLCJjb21wb25lbnRzL3Nwb3RzL3NwZWNpYWxzL3NwZWNpYWxTZXJ2aWNlLmZjdC5qcyIsImNvbXBvbmVudHMvc3BvdHMvc3BlY2lhbHMvc3BlY2lhbHMuY3RybC5qcyIsImNvbXBvbmVudHMvc3BvdHMvdXNlclJvbGVzL25zU2VhcmNoVXNlcnMuZHJjdC5qcyIsImNvbXBvbmVudHMvc3BvdHMvdXNlclJvbGVzL25zVXNlclJvbGVzLmRyY3QuanMiLCJjb21wb25lbnRzL3Nwb3RzL3VzZXJSb2xlcy91c2VyUm9sZS5mY3QuanMiLCJjb21wb25lbnRzL3Nwb3RzL3VzZXJSb2xlcy91c2VyUm9sZVNlcnZpY2UuZmN0LmpzIiwiY29tcG9uZW50cy9zcG90cy92aWV3L25zVGFnTGlzdC5kcmN0LmpzIiwiY29tcG9uZW50cy9zcG90cy92aWV3L3ZpZXdTcG90LmN0cmwuanMiLCJjb21wb25lbnRzL3Nwb3RzL3ZpZXcvd2Fsa2luZ1RpbWUuZnRyLmpzIiwiY29tcG9uZW50cy91c2Vycy9hY2NvdW50L2VkaXRBY2NvdW50LmN0cmwuanMiLCJjb21wb25lbnRzL3VzZXJzL2FjY291bnQvbmV3QWNjb3VudC5jdHJsLmpzIiwiY29tcG9uZW50cy91c2Vycy9hY2NvdW50L3JlcXVlc3RQYXNzd29yZFJlc2V0LmN0cmwuanMiLCJjb21wb25lbnRzL3VzZXJzL2FjY291bnQvcmVzZXRQYXNzd29yZC5jdHJsLmpzIiwiY29tcG9uZW50cy91c2Vycy9hdmF0YXIvYXZhdGFyLmN0cmwuanMiLCJjb21wb25lbnRzL3VzZXJzL2F2YXRhci9hdmF0YXIuZmN0LmpzIiwiY29tcG9uZW50cy91c2Vycy9sb2dpbi9sb2dpblVzZXIuY3RybC5qcyIsImNvbXBvbmVudHMvc3BvdHMvc3BlY2lhbHMvZmVhdHVyZWQvZmVhdHVyZWRTcGVjaWFsTW9kYWwuY3RybC5qcyIsImNvbXBvbmVudHMvc3BvdHMvc3BlY2lhbHMvZmVhdHVyZWQvZmVhdHVyZWRTcGVjaWFsU2VydmljZS5mY3QuanMiLCJjb21wb25lbnRzL3Nwb3RzL3NwZWNpYWxzL2ZlYXR1cmVkL25zRmVhdHVyZWRTcGVjaWFsc0xpc3QuZHJjdC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uc3RhbnQiLCJyb3V0ZXMiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJjb25maWciLCIkaW5qZWN0IiwiQ2F0ZWdvcnkiLCJCQVNFX0FQSV9VUkwiLCIkaHR0cCIsImluZGV4IiwiZ2V0IiwiY2F0ZWdvcmllc191cmwiLCJoZWFkZXJzIiwiY29udGVudC10eXBlIiwiY2FjaGUiLCJ0aGVuIiwicmVzcCIsInNlbGYiLCJjYXRlZ29yaWVzIiwiZGF0YSIsImZhY3RvcnkiLCJkYXlTcGFuIiwiZ3JvdXBEYXlzIiwiZGF5cyIsInJldCIsInByZXYiLCJpIiwibiIsImQiLCJsZW5ndGgiLCJwdXNoIiwiZG93IiwxLDIsMyw0LDUsNiw3LCJpbnB1dCIsImlzQXJyYXkiLCJzb3J0IiwibWFwIiwiTnVtYmVyIiwic3BhbnMiLCJ2YWwiLCJ2Iiwiam9pbiIsImZpcnN0Iiwic2hpZnQiLCJsYXN0IiwicG9wIiwiZmlsdGVyIiwiRmVhdHVyZSIsImZlYXR1cmVzX3VybCIsImZlYXR1cmVzIiwiZmlsdGVyUGFyYW1zIiwiJHJvb3RTY29wZSIsImxvY2FsU3RvcmFnZVNlcnZpY2UiLCJlYXQiLCJkcmluayIsImF0dGVuZCIsInEiLCJwcmljZSIsIm9yZGVyIiwic2F2ZSIsInNldCIsImxzIiwibGlua1RhZyIsInJlcGxhY2UiLCJvcGVuTm93IiwiZGF5c0FyciIsIm8iLCJjIiwiRGF0ZSIsIm5vdyIsInRvVGltZVN0cmluZyIsInRvZGF5IiwiZ2V0RGF5IiwieWVzdGVyZGF5Iiwib3BlbiIsImNsb3NlIiwiaW5kZXhPZiIsInZhbHVlIiwiJHN0YXRlUHJvdmlkZXIiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwibmF2Iiwib3ZlcmxheSIsIiRzdGF0ZSIsIm9wZW5TZWFyY2hPdmVybGF5IiwiaWQiLCJnbyIsIm9wZW5OYXZPdmVybGF5IiwiY3RybCIsInRoaXMiLCJjb250cm9sbGVyIiwibnNSZXBsYWNlSW5jbHVkZSIsInJlcXVpcmUiLCJyZXN0cmljdCIsImxpbmsiLCJzY29wZSIsImVsZW0iLCJhdHRycyIsInJlcGxhY2VXaXRoIiwiY2hpbGRyZW4iLCJkaXJlY3RpdmUiLCJuc1RvcGJhciIsImNvbnRyb2xsZXJBcyIsIm5zU3BsYXNoIiwiTG9jYXRpb25NYW5hZ2VyIiwiJHRpbWVvdXQiLCJsb2NhdGlvbiIsIm5zT3ZlcmxheSIsImRpc21pc3MiLCJzaG93T3ZlcmxheSIsIiRvbiIsImV2ZW50IiwidHlwZSIsIiRxIiwiZGVmZXIiLCIkZW1pdCIsInByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic2VydmljZSIsIlNwb3QiLCIkcmVzb3VyY2UiLCJuZWFyIiwibWV0aG9kIiwidXNlckluZGV4IiwiZmF2b3JpdGVzIiwic2VhcmNoIiwidXBkYXRlIiwiYXV0aCIsIiRhdXRoIiwidmFsaWRhdGVVc2VyIiwiYWJzdHJhY3QiLCJzcG90IiwiJHN0YXRlUGFyYW1zIiwiJHByb21pc2UiLCJkaXN0YW5jZSIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwic3BvdFNlcnZpY2UiLCJ3aGVuIiwidG9hc3RlciIsIiRjYWNoZUZhY3RvcnkiLCJpbml0IiwicGVuZGluZyIsInNwb3RzIiwibGF0IiwibG5nIiwiciIsInJhZGl1cyIsIl9zZXRTcG90cyIsIl9oYW5kbGVFcnJvciIsImNyZWF0ZSIsInJlbW92ZSIsIiR1cGRhdGUiLCJkZXN0cm95IiwiJGRlbGV0ZSIsIm9iaiIsInF1ZXJ5IiwicmVzdWx0cyIsImoiLCIkYXV0aFByb3ZpZGVyIiwiY29uZmlndXJlIiwiYXBpVXJsIiwiYXV0aFByb3ZpZGVyUGF0aHMiLCJmYWNlYm9vayIsIm9tbmlhdXRoV2luZG93VHlwZSIsInBhc3N3b3JkUmVzZXRTdWNjZXNzVXJsIiwiYXV0aEV2ZW50cyIsInVzZXJTZXJ2aWNlIiwiYWNjb3VudCIsInJ1biIsInVzZXIiLCJzaWduZWRJbiIsInNldEN1cnJlbnRBY2NvdW50IiwiY29weSIsImxvZ2luIiwic3VibWl0TG9naW4iLCJmaXJzdF9uYW1lIiwicGFzc3dvcmQiLCJyZWdpc3RlciIsInN1Ym1pdFJlZ2lzdHJhdGlvbiIsInVwZGF0ZUFjY291bnQiLCJwYXNzd29yZF9jb25maXJtYXRpb24iLCJjdXJyZW50X3Bhc3N3b3JkIiwicmVxdWVzdFBhc3N3b3JkUmVzZXQiLCJjb25zb2xlIiwiaW5mbyIsImVtYWlsIiwiZXJyb3IiLCJzdGF0dXMiLCJyZXNldFBhc3N3b3JkIiwidXBkYXRlUGFzc3dvcmQiLCJsb2ciLCJkZXN0cm95QWNjb3VudCIsInNpZ25PdXQiLCJldiIsInJlYXNvbiIsImNyb3BJbWFnZU1vZGFsIiwiaW1nRmlsZSIsIiR1aWJNb2RhbEluc3RhbmNlIiwidXBsb2FkIiwiZGF0YVVybCIsImNhbmNlbCIsImRlZmF1bHRJbWciLCJwYXJhbSIsImltYWdlU2VydmljZSIsIlVwbG9hZCIsImV4dGVuZCIsInVyaSIsImltYWdlYWJsZV9pZCIsImxvYWRJbWFnZXMiLCJpbWFnZXMiLCJwcmltYXJ5IiwiZmlsZV9kYXRhX3VyaSIsInNldFByaW1hcnkiLCJpbWFnZSIsInB1dCIsInNwbGljZSIsIm5zUHJpbWFyeUltYWdlIiwiJHVpYk1vZGFsIiwicmVzdGljdCIsImJpbmRUb0NvbnRyb2xsZXIiLCJpbWFnZWFibGUiLCIkc2NvcGUiLCJwcmltYXJ5X2ltYWdlIiwib3Blbk1vZGFsIiwibW9kYWxJbnN0YW5jZSIsInNpemUiLCJyZXN1bHQiLCJyZXMiLCIkd2F0Y2giLCJwcmltYXJ5SW1hZ2UiLCJwYXRoIiwiaGFzT3duUHJvcGVydHkiLCJuc0NvbmZpcm0iLCJ1bmJpbmQiLCJiaW5kIiwiZSIsInByZXZlbnREZWZhdWx0IiwibWkiLCJ0ZW1wbGF0ZSIsIm1lc3NhZ2UiLCJjb25maXJtIiwibmdDbGljayIsInByaW9yaXR5IiwibnNGb3JtSW5wdXQiLCJmb3JtQ3RybCIsImVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmFtZSIsImF0dHJpYnV0ZXMiLCIkd2F0Y2hDb2xsZWN0aW9uIiwiJGRpcnR5IiwiJGludmFsaWQiLCJyZXRWYWwiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwibnNNYXRjaGVzIiwiYXR0ciIsIm5nTW9kZWwiLCIkdmFsaWRhdG9ycyIsIm1hdGNoZXMiLCJtb2RlbFZhbCIsIiR2YWxpZGF0ZSIsIm5zU3BvdFByaWNlU2VsZWN0IiwibnNTcG90UHJpY2VTZWxlY3RDdHJsIiwiY2xpY2siLCIkaW5kZXgiLCJtb3VzZW92ZXIiLCJwcmV2aWV3IiwibW91c2VvdXQiLCJzdHlsZXMiLCJwcmljZXMiLCJBcnJheSIsImNsZWFyIiwibnNTcG90U2VydmljZVNlbGVjdCIsInZhbGlkIiwiJHdhdGNoR3JvdXAiLCJuc1VuaXF1ZUVtYWlsIiwiZW1haWxFeGlzdHMiLCJ2aWV3VmFsIiwicGFyYW1zIiwiJGFzeW5jVmFsaWRhdG9ycyIsImVtYWlsZXhpc3RzIiwibnNVbmlxdWVTcG90Iiwic3BvdEV4aXN0cyIsIkFMIiwiQUsiLCJBUyIsIkFaIiwiQVIiLCJDQSIsIkNPIiwiQ1QiLCJERSIsIkRDIiwiRk0iLCJGTCIsIkdBIiwiR1UiLCJISSIsIklEIiwiSUwiLCJJTiIsIklBIiwiS1MiLCJLWSIsIkxBIiwiTUUiLCJNSCIsIk1EIiwiTUEiLCJNSSIsIk1OIiwiTVMiLCJNTyIsIk1UIiwiTkUiLCJOViIsIk5IIiwiTkoiLCJOTSIsIk5ZIiwiTkMiLCJORCIsIk1QIiwiT0giLCJPSyIsIk9SIiwiUFciLCJQQSIsIlBSIiwiUkkiLCJTQyIsIlNEIiwiVE4iLCJUWCIsIlVUIiwiVlQiLCJWSSIsIlZBIiwiV0EiLCJXViIsIldJIiwiV1kiLCIkZ2VvbG9jYXRpb24iLCJwIiwiX3NhdmUiLCJzZXRVc2VyTG9jYXRpb24iLCJnZXRDdXJyZW50UG9zaXRpb24iLCJwb3MiLCJjb29yZHMiLCJzZXRTZWFyY2giLCJsYXRsbmciLCJzZXRTZWFyY2hUb1VzZXIiLCJsb24iLCJyYWRsYXQxIiwiTWF0aCIsIlBJIiwicmFkbGF0MiIsInRoZXRhIiwicmFkdGhldGEiLCJkaXN0Iiwic2luIiwiY29zIiwiYWNvcyIsInJvdW5kIiwibnNNYXAiLCJNQVBCT1hfQUNDRVNTX1RPS0VOIiwiTUFQQk9YX0lEIiwiZHJhd01hcCIsInVsIiwiZiIsInJlbW92ZUxheWVyIiwiTCIsIm1hcGJveCIsImZlYXR1cmVMYXllciIsImdlb21ldHJ5IiwiY29vcmRpbmF0ZXMiLCJwcm9wZXJ0aWVzIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImFkZHJlc3MiLCJtYXJrZXItc2l6ZSIsIm1hcmtlci1jb2xvciIsImFkZFRvIiwidXNlckxhdExuZyIsIkxhdExuZyIsImNpcmNsZU1hcmtlciIsImNvbG9yIiwic3Ryb2tlIiwid2VpZ2h0IiwiZmlsbENvbG9yIiwiZmlsbE9wYWNpdHkiLCJzZXRWaWV3IiwiZWFjaExheWVyIiwibSIsIm9wZW5Qb3B1cCIsImFjY2Vzc1Rva2VuIiwibWF4Wm9vbSIsIm1pblpvb20iLCJzY3JvbGxXaGVlbFpvb20iLCJuZXdWYWwiLCJvbGRWYWwiLCJuc01hcExpc3QiLCJmb2N1c2VkIiwic2wiLCJib3VuZHMiLCJjbGVhck1hcmtlcnMiLCJsb2NhdGlvbnMiLCJzZXRNYXJrZXJzIiwic2VhcmNoTGF0TG5nIiwiZml0Qm91bmRzIiwicGFkZGluZyIsImsiLCJsIiwibWFya2VyIiwiaWNvbiIsIm1hcmtlci1zeW1ib2wiLCJtYXJrZXJDb2xvciIsInpJbmRleE9mZnNldCIsIm1hcmtlckluZGV4IiwiYmluZFBvcHVwIiwiY2xvc2VCdXR0b24iLCJvbiIsImNsb3NlUG9wdXAiLCJtYXJrZXJzIiwiIiwiY2F0ZWdvcmllc092ZXJsYXkiLCJjYXRlZ29yeSIsIm5zQ2F0ZWdvcmllc092ZXJsYXlCdG4iLCJvcGVuT3ZlcmxheSIsImZlYXR1cmVzT3ZlcmxheSIsImZlYXR1cmUiLCJuc0ZlYXR1cmVzT3ZlcmxheUJ0biIsImxvY2F0aW9uU2V0dGluZ3NPdmVybGF5Iiwic2VhcmNoUEFDTG9jYXRpb24iLCJQQUNMb2NhdGlvbiIsImZvcm1hdHRlZF9hZGRyZXNzIiwibG9jYXRpb25NYW5hZ2VyIiwic2xpZGVyT3B0aW9ucyIsImZsb29yIiwiY2VpbCIsInNob3dTZWxlY3Rpb25CYXIiLCJzaG93VGlja3MiLCJvbkVuZCIsInRyYW5zbGF0ZSIsImdldFNlbGVjdGlvbkJhckNvbG9yIiwiZ2V0UG9pbnRlckNvbG9yIiwibnNMb2NhdGlvbk92ZXJsYXlCdG4iLCJyZWZyZXNoU2xpZGVyIiwiJGJyb2FkY2FzdCIsIm5hdk92ZXJsYXkiLCJ1c2VyU3BvdHMiLCJzZWFyY2hPdmVybGF5Iiwic2VhcmNoTmFtZSIsInBsYWNlaG9sZGVyIiwiZmlsZSIsImFib3V0IiwiZmVhdHVyZV9pZHMiLCJlZGl0QWJvdXQiLCJsYWJlbCIsImVkaXRTcG90Iiwic3RhdGVzIiwiZm9ybSIsInZtIiwwLCJlZGl0RXZlbnRzIiwiZXZlbnRTZXJ2aWNlIiwic3RhcnRfZGF0ZSIsInN0YXJ0X3RpbWUiLCJlbmRfZGF0ZSIsImVuZF90aW1lIiwiZW50cnkiLCJhZ2UiLCJsb2FkRXZlbnRzIiwiRXZlbnQiLCJuZXN0ZWRVcmwiLCJzcG90X2lkIiwiZXZlbnRNb2RhbCIsIm1pbkRhdGUiLCJtYXhEYXRlIiwic2V0RGF0ZSIsImdldERhdGUiLCJldmVudHMiLDgsOSwxMCwxMSwib2NjdXJyZW5jZURhdGUiLCJtb250aHMiLCJzdHIiLCJzRGF0ZSIsInNEYXkiLCJzRG93Iiwic01vbnRoIiwiZ2V0TW9udGgiLCJlRGF0ZSIsImVEYXkiLCJlTW9udGgiLCJGYXZvcml0ZSIsInBvc3QiLCJuc0Zhdm9yaXRlQnRuIiwiaXNGYXZvcml0ZWQiLCJmYXZvcml0ZV9zcG90X2lkcyIsImFkZCIsImZhdm9yaXRlc19jb3VudCIsImhvbWUiLCJhcHBseUZpbHRlcnMiLCJmaWx0ZXJlZFNwb3RzIiwiJGV2YWwiLCJIb3VyIiwiaG91clNlcnZpY2UiLCJzZXRIb3VycyIsImhvdXJzIiwiaG91ciIsImhvdXJzTW9kYWwiLCJuc0VkaXRIb3VycyIsIm5zSG91cnNUYWJsZSIsIm5zRWRpdEltYWdlcyIsImltZyIsIm5zU3BvdEJsb2NrIiwiaGlnaGxpZ2h0IiwiZm9jdXMiLCJ1bmZvY3VzIiwibnNWZW51ZUJsb2NrIiwiZWRpdE1lbnVzIiwibWVudVNlcnZpY2UiLCJvcGVuTWVudU1vZGFsIiwibWVudSIsIm9wZW5JdGVtTW9kYWwiLCJfaXRlbSIsIml0ZW0iLCJyZW1vdmVNZW51IiwidXBkYXRlTWVudSIsImxvYWRNZW51cyIsIml0ZW1Nb2RhbCIsIml0ZW1zX2F0dHJpYnV0ZXMiLCJNZW51IiwibmVzdGVkX3VybCIsIm1lbnVNb2RhbCIsIm1lbnVzIiwibmV3U3BvdCIsInNldFNwb3RGcm9tUEFDIiwic3BvdERhdGEiLCJzdHJlZXQiLCJhZGRyZXNzX2NvbXBvbmVudHMiLCJsb25nX25hbWUiLCJzaG9ydF9uYW1lIiwiY2l0eSIsInBob25lIiwiZm9ybWF0dGVkX3Bob25lX251bWJlciIsIndlYnNpdGVfdXJsIiwid2Vic2l0ZSIsImxvb2t1cEFkZHJlc3MiLCJnZW9jb2RlciIsImdvb2dsZSIsIm1hcHMiLCJHZW9jb2RlciIsImdlb2NvZGUiLCJHZW9jb2RlclN0YXR1cyIsIm5ld1Nwb3RNb2RhbCIsIm5zUmVwb3J0IiwibnNSZXBvcnRNb2RhbCIsIlJlcG9ydCIsInNlbmQiLCJyZXBvcnQiLCJyZXBvcnREYXRhIiwiZmwiLCJsZW4iLCJpZEFyciIsImFycjEiLCJhcnIyIiwiaW5wdXRsZW4iLCJhcnIxbGVuIiwibnNPcmRlclNlbGVjdCIsInNlYXJjaFZlbnVlcyIsImVkaXRTcGVjaWFscyIsInNwZWNpYWxTZXJ2aWNlIiwiZmVhdHVyZWRTcGVjaWFsU2VydmljZSIsInNwZWNpYWxIZWFkaW5ncyIsIm9wZW5GZWF0dXJlZFNwZWNpYWxNb2RhbCIsInNwbCIsInNwZWNpYWwiLCJvcGVuV2Vla2x5U3BlY2lhbE1vZGFsIiwic29ydFNwZWNpYWxzIiwicmVtb3ZlRmVhdHVyZWQiLCJsb2FkU3BlY2lhbHMiLCJoZWFkaW5ncyIsIlNwZWNpYWwiLCJ3ZWVrbHkiLCJmZWF0dXJlZCIsInNwZWNpYWxNb2RhbCIsInNwZWNpYWxzIiwiT2JqZWN0Iiwia2V5cyIsInNvcnRlZFNwZWNpYWxzIiwibnNTZWFyY2hVc2VycyIsInVzZXJSb2xlU2VydmljZSIsInNlYXJjaFVzZXJzIiwidXNlcnMiLCJ1c2VyQmVsb25ncyIsInJvbGVzIiwibnNVc2VyUm9sZXMiLCJsb2FkUm9sZXMiLCJpc0FkbWluIiwidXNlcl9yb2xlcyIsInJvbGUiLCJVc2VyUm9sZSIsInJlc291cmNlVXJsIiwidXNlcl9pZCIsInVzZXJSb2xlIiwibnNUYWdMaXN0IiwiY2F0ZWdvcnlPYmpzIiwiY2F0ZWdvcnlfaWRzIiwidmlld1Nwb3QiLCJmaWxlbmFtZSIsIndhbGtpbmdUaW1lIiwidGltZSIsImVkaXRBY2NvdW50IiwiJHZhbGlkIiwiJHNldFByaXN0aW5lIiwibmV3QWNjb3VudCIsImNyZWF0ZUFjY291bnQiLCJkb2IiLCJhdmF0YXIiLCJBdmF0YXIiLCJhdmF0YXJQYXRoIiwiYXZhdGFyX2RhdGFfdXJpIiwicmVtb3ZlX2F2YXRhciIsImdldENvbmZpZyIsImFjY291bnRVcGRhdGVQYXRoIiwibG9naW5Vc2VyIiwiZmVhdHVyZWRTcGVjaWFsTW9kYWwiLCJuc0ZlYXR1cmVkU3BlY2lhbHNMaXN0Il0sIm1hcHBpbmdzIjoiQUFBQSxjQ0FBLFdBRUFBLFFBQUFDLE9BQUEsU0FDQSxhQUNBLGtCQUNBLGVBQ0EsZ0JBQ0EsZUFDQSxj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QUNBZ0csUUFBQUEsRUFSQSxPQVdBaEosR0FoQkFuQixRQUVBQyxPQUFBLGVBQ0FxQixRQUFBLHlCQUFBc2pCLEdBSEFBLEVBc0ZBcmtCLFNBQUEsVUFBQSxjQUFBLEtBQUEsY0N0RkEsV0FBQSxRQU1BNG5CLEtBRUEsT0FDQTdoQixTQUFBLElBQ0FFLFNBQ0E4SCxrQkFDQXpGLEtBQUEsS0FFQTFDLFlBQUEseUJBQUEsU0FBQXllLEdBQ0EsR0FBQTNlLEdBQUFDLElBREFELEdBRUEyZSx1QkFBQUEsRUFGQTNlLEVBR0EyZSx1QkFBQVEsYUFBQW5mLEVBQUE0QyxLQUFBL0MsTUFFQWlCLGFBQUEsWUFDQXRCLFlBQUEsa0VBcEJBekYsUUFHQUMsT0FBQSxlQUNBNEcsVUFBQSx5QkFBQXNoQiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jyxhbmd1bGFyLm1vZHVsZSgnbnNBcHAnLFsnbnNBcHAuY29yZScsJ25zQXBwLnRlbXBsYXRlcycsJ25zQXBwLmxheW91dCcsJ25zQXBwLm92ZXJsYXknLCduc0FwcC5zaGFyZWQnLCduc0FwcC51c2VycycsJ25zQXBwLnNwb3RzJywnbnNBcHAuc3BsYXNoJywnbnNBcHAuc3RhdGljJyAvLyAnbnNBcHAuZXZlbnRzJyxcbi8vICduc0FwcC5pbWFnZXMnXG5dKTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuY29yZScsWyduZ1Jlc291cmNlJywnbmdNZXNzYWdlcycsJ25nQW5pbWF0ZScsJ3VpLnJvdXRlcicsJ3VpLmJvb3RzdHJhcCcsJ25nLXRva2VuLWF1dGgnLCdMb2NhbFN0b3JhZ2VNb2R1bGUnLCduZ0dlb2xvY2F0aW9uJywnbmdBdXRvY29tcGxldGUnLCd0b2FzdGVyJywnYW5ndWxhci1sYWRkYScsJ25nRmlsZVVwbG9hZCcsJ25nSW1nQ3JvcCcsJ2FuZ3VsYXItbG9hZGluZy1iYXInLCdjaGVja2xpc3QtbW9kZWwnLCdhbmd1bGFyLWNvbmZpcm0nLCdyek1vZHVsZScsJ2FuZ3VsYXJTcGlubmVyJ10pO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnLGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zaGFyZWQnLFtdKTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jyxhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3RhdGljJyxbXSk7fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCcsYW5ndWxhci5tb2R1bGUoJ25zQXBwLmxheW91dCcsW10pO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zcGxhc2gnLFtdKTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jyxhbmd1bGFyLm1vZHVsZSgnbnNBcHAub3ZlcmxheScsW10pO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnLGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycsW10pO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnLGFuZ3VsYXIubW9kdWxlKCduc0FwcC51c2VycycsW10pO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5jb3JlJykuY29uc3RhbnQoJ0JBU0VfQVBJX1VSTCcsJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcpIC8vICAgIC5jb25zdGFudCgnQkFTRV9BUElfVVJMJywgJ2h0dHBzOi8vc3RpbGwtYmFkbGFuZHMtMzI1MDQuaGVyb2t1YXBwLmNvbS8nKVxuLy8gICAgICAgIC5jb25zdGFudCgnQkFTRV9BUElfVVJMJywgJ2h0dHA6Ly8xMC4xLjEwLjE2OjMwMDAnKVxuLmNvbnN0YW50KCdNQVBCT1hfSUQnLCdyb3dsYW5kcnVkb2xmLmY3ZmU3YjQzJykuY29uc3RhbnQoJ01BUEJPWF9BQ0NFU1NfVE9LRU4nLCdway5leUoxSWpvaWNtOTNiR0Z1WkhKMVpHOXNaaUlzSW1FaU9pSmphV2RwZDNweGJHY3dNREJtZFdwc2VtZDRlRE5oWTJGeEluMC5GaWVadUZsUmdndnlZZHM4VnlrVndBJyk7fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLmNvcmUnKS5jb25maWcocm91dGVzKTtmdW5jdGlvbiByb3V0ZXMoJHVybFJvdXRlclByb3ZpZGVyKXskdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7fTtyb3V0ZXMuJGluamVjdD1bJyR1cmxSb3V0ZXJQcm92aWRlciddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zaGFyZWQnKS5mYWN0b3J5KCdDYXRlZ29yeScsQ2F0ZWdvcnkpO2Z1bmN0aW9uIENhdGVnb3J5KEJBU0VfQVBJX1VSTCwkaHR0cCl7dmFyIGNhdGVnb3JpZXNfdXJsPUJBU0VfQVBJX1VSTCsnL2NhdGVnb3JpZXMnO3ZhciBzZWxmPXtjYXRlZ29yaWVzOltdLGluZGV4OmluZGV4fTtzZWxmLmluZGV4KCk7cmV0dXJuIHNlbGY7ZnVuY3Rpb24gaW5kZXgoKXtyZXR1cm4gJGh0dHAuZ2V0KGNhdGVnb3JpZXNfdXJsLHtoZWFkZXJzOnsnY29udGVudC10eXBlJzonYXBwbGljYXRpb24vanNvbid9LGNhY2hlOnRydWV9KS50aGVuKGZ1bmN0aW9uKHJlc3Ape3NlbGYuY2F0ZWdvcmllcz1yZXNwLmRhdGE7cmV0dXJuIHNlbGYuY2F0ZWdvcmllczt9KTt9fUNhdGVnb3J5LiRpbmplY3Q9WydCQVNFX0FQSV9VUkwnLCckaHR0cCddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zaGFyZWQnKS5maWx0ZXIoJ2RheVNwYW4nLGRheVNwYW4pO2Z1bmN0aW9uIGRheVNwYW4oKXt2YXIgZG93PXsxOidNb24nLDI6J1R1ZScsMzonV2VkJyw0OidUaHUnLDU6J0ZyaScsNjonU2F0Jyw3OidTdW4nfTtyZXR1cm4gZnVuY3Rpb24oaW5wdXQpe2lmKGFuZ3VsYXIuaXNBcnJheShpbnB1dCkmJmlucHV0Lmxlbmd0aCl7dmFyIGRheXM9aW5wdXQuc29ydCgpLm1hcChOdW1iZXIpO3ZhciBzcGFucz1bXTtncm91cERheXMoZGF5cykubWFwKGZ1bmN0aW9uKHZhbCl7aWYodmFsLmxlbmd0aDw9Mil7c3BhbnMucHVzaCh2YWwubWFwKGZ1bmN0aW9uKHYpe3JldHVybiBkb3dbdl07fSkuam9pbignLCAnKSk7fWVsc2Uge3ZhciBmaXJzdD12YWwuc2hpZnQoKTt2YXIgbGFzdD12YWwucG9wKCk7c3BhbnMucHVzaChkb3dbZmlyc3RdKycgLSAnK2Rvd1tsYXN0XSk7fX0pO3JldHVybiBzcGFucy5qb2luKCcsICcpO319O2Z1bmN0aW9uIGdyb3VwRGF5cyhkYXlzKXt2YXIgcmV0PVtdO3ZhciBwcmV2PWRheXNbMF07Zm9yKHZhciBpPTAsbj0tMSxkPWRheXMubGVuZ3RoO2k8ZDtpKyspe2lmKHByZXYrMSE9ZGF5c1tpXSl7cmV0LnB1c2goW2RheXNbaV1dKTtuKys7fWVsc2Uge3JldFtuXS5wdXNoKGRheXNbaV0pO31wcmV2PWRheXNbaV07fXJldHVybiByZXQ7fTt9O30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zaGFyZWQnKS5mYWN0b3J5KCdGZWF0dXJlJyxGZWF0dXJlKTtmdW5jdGlvbiBGZWF0dXJlKEJBU0VfQVBJX1VSTCwkaHR0cCl7dmFyIGZlYXR1cmVzX3VybD1CQVNFX0FQSV9VUkwrJy9mZWF0dXJlcyc7dmFyIHNlbGY9e2ZlYXR1cmVzOltdLGluZGV4OmluZGV4fTtzZWxmLmluZGV4KCk7cmV0dXJuIHNlbGY7ZnVuY3Rpb24gaW5kZXgoKXtyZXR1cm4gJGh0dHAuZ2V0KGZlYXR1cmVzX3VybCx7aGVhZGVyczp7J2NvbnRlbnQtdHlwZSc6J2FwcGxpY2F0aW9uL2pzb24nfSxjYWNoZTp0cnVlfSkudGhlbihmdW5jdGlvbihyZXNwKXtzZWxmLmZlYXR1cmVzPXJlc3AuZGF0YTtyZXR1cm4gc2VsZi5mZWF0dXJlczt9KTt9fUZlYXR1cmUuJGluamVjdD1bJ0JBU0VfQVBJX1VSTCcsJyRodHRwJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNoYXJlZCcpLmZhY3RvcnkoJ2ZpbHRlclBhcmFtcycsZmlsdGVyUGFyYW1zKTtmdW5jdGlvbiBmaWx0ZXJQYXJhbXMoJHJvb3RTY29wZSxsb2NhbFN0b3JhZ2VTZXJ2aWNlKXt2YXIgZGF0YT17ZWF0OltdLGRyaW5rOltdLGF0dGVuZDpbXSxmZWF0dXJlczpbXSxxOicnLHByaWNlOjAsb3JkZXI6J2Rpc3RhbmNlJyxzYXZlOmZ1bmN0aW9uIHNhdmUoKXtsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldCgnZmlsdGVyUGFyYW1zJyxkYXRhKTt9fTt2YXIgbHM9bG9jYWxTdG9yYWdlU2VydmljZS5nZXQoJ2ZpbHRlclBhcmFtcycpO2lmKGxzIT09bnVsbCl7ZGF0YS5lYXQ9bHMuZWF0O2RhdGEuZHJpbms9bHMuZHJpbms7ZGF0YS5hdHRlbmQ9bHMuYXR0ZW5kO2RhdGEuZmVhdHVyZXM9bHMuZmVhdHVyZXM7ZGF0YS5wcmljZT1scy5wcmljZTtkYXRhLm9yZGVyPWxzLm9yZGVyO2RhdGEucT1scy5xO31yZXR1cm4gZGF0YTt9O2ZpbHRlclBhcmFtcy4kaW5qZWN0PVsnJHJvb3RTY29wZScsJ2xvY2FsU3RvcmFnZVNlcnZpY2UnXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc2hhcmVkJykuZmlsdGVyKCdsaW5rVGFnJyxsaW5rVGFnKTtmdW5jdGlvbiBsaW5rVGFnKCl7cmV0dXJuIGZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gaW5wdXQucmVwbGFjZSgvKGh0dHA6XFwvXFwvd3d3LnxodHRwczpcXC9cXC93d3cuKS8sJycpO307fTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc2hhcmVkJykudmFsdWUoJ29wZW5Ob3cnLG9wZW5Ob3cpO2Z1bmN0aW9uIG9wZW5Ob3coZGF5c0FycixvLGMpe3ZhciBkPW5ldyBEYXRlKCksbm93PWQudG9UaW1lU3RyaW5nKCksdG9kYXk9ZC5nZXREYXkoKT09PTA/NzpkLmdldERheSgpLHllc3RlcmRheT10b2RheS0xLGRheXM9ZGF5c0Fyci5tYXAoTnVtYmVyKSxvcGVuPW5ldyBEYXRlKG8pLnRvVGltZVN0cmluZygpLGNsb3NlPW5ldyBEYXRlKGMpLnRvVGltZVN0cmluZygpO2lmKGRheXMuaW5kZXhPZih0b2RheSk+LTEpe2lmKG9wZW49PWNsb3NlKXtyZXR1cm4gdHJ1ZTt9ZWxzZSBpZihvcGVuPGNsb3NlKXtpZihvcGVuPD1ub3cmJm5vdzw9Y2xvc2Upe3JldHVybiB0cnVlO31lbHNlIHtyZXR1cm4gZmFsc2U7fX1lbHNlIGlmKG9wZW4+Y2xvc2Upe2lmKG9wZW48PW5vdyl7IC8vfHwgbm93IDw9IGNsb3NlKXsgICAvLyAgICBNb24sIFdlZCAtIFNhdFx0MTE6MDAgUE0gLSAyOjAwIEFNIEAgMTozOWFtLi5cbnJldHVybiB0cnVlO31lbHNlIHtpZihkYXlzLmluZGV4T2YoeWVzdGVyZGF5KT4tMSYmKG9wZW48PW5vd3x8bm93PD1jbG9zZSkpe3JldHVybiB0cnVlO31lbHNlIHtyZXR1cm4gZmFsc2U7fX19fWVsc2UgaWYoZGF5cy5pbmRleE9mKHllc3RlcmRheSk+LTEmJm9wZW4+Y2xvc2Upe2lmKG5vdzw9Y2xvc2Upe3JldHVybiB0cnVlO319cmV0dXJuIGZhbHNlO319KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5jb25maWcocm91dGVzKTtmdW5jdGlvbiByb3V0ZXMoJHN0YXRlUHJvdmlkZXIpeyRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdidXNpbmVzcycse3VybDonL2J1c2luZXNzJyx0ZW1wbGF0ZVVybDonc3RhdGljL2J1c2luZXNzLmh0bWwnfSkuc3RhdGUoJ3Rlcm1zJyx7dXJsOicvdGVybXMtYW5kLWNvbmRpdGlvbnMnLHRlbXBsYXRlVXJsOidzdGF0aWMvdGVybXMtYW5kLWNvbmRpdGlvbnMuaHRtbCd9KTt9cm91dGVzLiRpbmplY3Q9Wyckc3RhdGVQcm92aWRlciddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5sYXlvdXQnKS5jb250cm9sbGVyKCduYXYnLG5hdik7ZnVuY3Rpb24gbmF2KCRyb290U2NvcGUsb3ZlcmxheSwkc3RhdGUsZmlsdGVyUGFyYW1zKXt2YXIgY3RybD10aGlzO2N0cmwub3Blbk5hdk92ZXJsYXk9b3Blbk5hdk92ZXJsYXk7Y3RybC5vcGVuU2VhcmNoT3ZlcmxheT1vcGVuU2VhcmNoT3ZlcmxheTtjdHJsLmZpbHRlclBhcmFtcz1maWx0ZXJQYXJhbXM7ZnVuY3Rpb24gb3BlblNlYXJjaE92ZXJsYXkoKXtvdmVybGF5Lm9wZW4oJ2NvbXBvbmVudHMvb3ZlcmxheS9zZWFyY2gvc2VhcmNoT3ZlcmxheS5odG1sJykudGhlbihmdW5jdGlvbihyZXNwKXtpZihyZXNwLmlkKXskc3RhdGUuZ28ocmVzcC5zdGF0ZSx7aWQ6cmVzcC5pZH0pO31lbHNlIHskc3RhdGUuZ28ocmVzcC5zdGF0ZSk7fX0pO31mdW5jdGlvbiBvcGVuTmF2T3ZlcmxheSgpe292ZXJsYXkub3BlbignY29tcG9uZW50cy9vdmVybGF5L25hdi9uYXZPdmVybGF5Lmh0bWwnKS50aGVuKGZ1bmN0aW9uKHJlc3Ape2lmKHJlc3AuaWQpeyRzdGF0ZS5nbyhyZXNwLnN0YXRlLHtpZDpyZXNwLmlkfSk7fWVsc2UgeyRzdGF0ZS5nbyhyZXNwLnN0YXRlKTt9fSk7fTt9O25hdi4kaW5qZWN0PVsnJHJvb3RTY29wZScsJ292ZXJsYXknLCckc3RhdGUnLCdmaWx0ZXJQYXJhbXMnXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAubGF5b3V0JykuZGlyZWN0aXZlKCduc1JlcGxhY2VJbmNsdWRlJyxuc1JlcGxhY2VJbmNsdWRlKTtmdW5jdGlvbiBuc1JlcGxhY2VJbmNsdWRlKCl7cmV0dXJuIHtyZXF1aXJlOiduZ0luY2x1ZGUnLHJlc3RyaWN0OidBJyxsaW5rOmZ1bmN0aW9uIGxpbmsoc2NvcGUsZWxlbSxhdHRycyl7ZWxlbS5yZXBsYWNlV2l0aChlbGVtLmNoaWxkcmVuKCkpO319O307fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLmxheW91dCcpLmRpcmVjdGl2ZSgnbnNUb3BiYXInLG5zVG9wYmFyKTtmdW5jdGlvbiBuc1RvcGJhcigpe3JldHVybiB7cmVzdHJpY3Q6J0UnLHJlcGxhY2U6dHJ1ZSx0ZW1wbGF0ZVVybDonY29tcG9uZW50cy9sYXlvdXQvbnNUb3BiYXIuaHRtbCcsY29udHJvbGxlcjonbmF2Jyxjb250cm9sbGVyQXM6J25hdkN0cmwnLGxpbms6ZnVuY3Rpb24gbGluayhzY29wZSxlbGVtLGF0dHJzKXt9fTt9O30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zcGxhc2gnKS5kaXJlY3RpdmUoJ25zU3BsYXNoJyxuc1NwbGFzaCk7ZnVuY3Rpb24gbnNTcGxhc2goTG9jYXRpb25NYW5hZ2VyLCR0aW1lb3V0KXtyZXR1cm4ge3Jlc3RyaWN0OidBJyxsaW5rOmxpbmt9O2Z1bmN0aW9uIGxpbmsoc2NvcGUsZWxlbSxhdHRycyl7c2NvcGUubG9jYXRpb249TG9jYXRpb25NYW5hZ2VyO307fW5zU3BsYXNoLiRpbmplY3Q9WydMb2NhdGlvbk1hbmFnZXInLCckdGltZW91dCddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5vdmVybGF5JykuZGlyZWN0aXZlKCduc092ZXJsYXknLG5zT3ZlcmxheSk7ZnVuY3Rpb24gbnNPdmVybGF5KCRyb290U2NvcGUsb3ZlcmxheSl7cmV0dXJuIHtyZXN0cmljdDonQScsc2NvcGU6dHJ1ZSxsaW5rOmZ1bmN0aW9uIGxpbmsoc2NvcGUsZWxlbSxhdHRycyl7c2NvcGUuc2hvd092ZXJsYXk9bnVsbDtzY29wZS5kaXNtaXNzPWRpc21pc3M7ZnVuY3Rpb24gZGlzbWlzcygpe3Njb3BlLnNob3dPdmVybGF5PW51bGw7fTskcm9vdFNjb3BlLiRvbignb3ZlcmxheS5vcGVuJyxmdW5jdGlvbihldmVudCx0eXBlKXtzY29wZS5zaG93T3ZlcmxheT10eXBlO30pOyRyb290U2NvcGUuJG9uKCdvdmVybGF5LmNsb3NlJyxmdW5jdGlvbihldmVudCl7c2NvcGUuc2hvd092ZXJsYXk9bnVsbDt9KTt9fTt9O25zT3ZlcmxheS4kaW5qZWN0PVsnJHJvb3RTY29wZScsJ292ZXJsYXknXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAub3ZlcmxheScpLnNlcnZpY2UoJ292ZXJsYXknLG92ZXJsYXkpO2Z1bmN0aW9uIG92ZXJsYXkoJHJvb3RTY29wZSwkcSl7dmFyIGQ9bnVsbDtyZXR1cm4ge29wZW46b3BlbixyZXNvbHZlOnJlc29sdmUscmVqZWN0OnJlamVjdH07ZnVuY3Rpb24gb3Blbih0eXBlKXtkPSRxLmRlZmVyKCk7JHJvb3RTY29wZS4kZW1pdCgnb3ZlcmxheS5vcGVuJyx0eXBlKTtyZXR1cm4gZC5wcm9taXNlO31mdW5jdGlvbiByZXNvbHZlKHJlc3Ape2lmKCFkKXJldHVybjskcm9vdFNjb3BlLiRlbWl0KCdvdmVybGF5LmNsb3NlJyk7cmV0dXJuIGQucmVzb2x2ZShyZXNwKTt9ZnVuY3Rpb24gcmVqZWN0KHJlc3Ape2lmKCFkKXJldHVybjskcm9vdFNjb3BlLiRlbWl0KCdvdmVybGF5LmNsb3NlJyk7cmV0dXJuIGQucmVqZWN0KHJlc3ApO307fTtvdmVybGF5LiRpbmplY3Q9Wyckcm9vdFNjb3BlJywnJHEnXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztmdW5jdGlvbiBTcG90KEJBU0VfQVBJX1VSTCwkcmVzb3VyY2Upe3JldHVybiAkcmVzb3VyY2UoQkFTRV9BUElfVVJMKycvc3BvdHMvOmlkJyx7aWQ6J0BpZCd9LHtuZWFyOnttZXRob2Q6J0dFVCcsdXJsOkJBU0VfQVBJX1VSTCsnL3Nwb3RzL25lYXInLGlzQXJyYXk6dHJ1ZX0sdXNlckluZGV4OnttZXRob2Q6J0dFVCcsdXJsOkJBU0VfQVBJX1VSTCsnL3Nwb3RzL3VzZXJfaW5kZXgnLGlzQXJyYXk6dHJ1ZSxjYWNoZTp0cnVlfSxmYXZvcml0ZXM6e21ldGhvZDonR0VUJyx1cmw6QkFTRV9BUElfVVJMKycvc3BvdHMvZmF2b3JpdGVzJyxpc0FycmF5OnRydWV9LHNlYXJjaDp7bWV0aG9kOidHRVQnLHVybDpCQVNFX0FQSV9VUkwrJy9zcG90cy9zZWFyY2gnLGlzQXJyYXk6dHJ1ZX0sdXBkYXRlOnttZXRob2Q6J1BVVCd9fSk7fTtTcG90LiRpbmplY3Q9WydCQVNFX0FQSV9VUkwnLCckcmVzb3VyY2UnXTthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5mYWN0b3J5KCdTcG90JyxTcG90KTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5jb25maWcocm91dGVzKTtmdW5jdGlvbiByb3V0ZXMoJHN0YXRlUHJvdmlkZXIsJHVybFJvdXRlclByb3ZpZGVyLExvY2F0aW9uTWFuYWdlcil7JHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2hvbWUnLHt1cmw6Jy8nLHRlbXBsYXRlVXJsOidjb21wb25lbnRzL3Nwb3RzL2hvbWUvaG9tZS5odG1sJyxjb250cm9sbGVyOidob21lJyxjb250cm9sbGVyQXM6J3ZtJ30pLnN0YXRlKCdlYXQnLHt1cmw6Jy9lYXQnLGNvbnRyb2xsZXI6J3NlYXJjaCcsY29udHJvbGxlckFzOid2bScsdGVtcGxhdGVVcmw6J2NvbXBvbmVudHMvc3BvdHMvc2VhcmNoL3NlYXJjaC5odG1sJyxyZXNvbHZlOntzb3J0OmZ1bmN0aW9uIHNvcnQoKXtyZXR1cm4gJ2VhdCc7fX19KS5zdGF0ZSgnZHJpbmsnLHt1cmw6Jy9kcmluaycsY29udHJvbGxlcjonc2VhcmNoJyxjb250cm9sbGVyQXM6J3ZtJyx0ZW1wbGF0ZVVybDonY29tcG9uZW50cy9zcG90cy9zZWFyY2gvc2VhcmNoLmh0bWwnLHJlc29sdmU6e3NvcnQ6ZnVuY3Rpb24gc29ydCgpe3JldHVybiAnZHJpbmsnO319fSkuc3RhdGUoJ2F0dGVuZCcse3VybDonL2F0dGVuZCcsY29udHJvbGxlcjonc2VhcmNoVmVudWVzJyxjb250cm9sbGVyQXM6J3ZtJyx0ZW1wbGF0ZVVybDonY29tcG9uZW50cy9zcG90cy9zZWFyY2gvc2VhcmNoVmVudWVzLmh0bWwnLCAvL3ZlbnVlc1xucmVzb2x2ZTp7c29ydDpmdW5jdGlvbiBzb3J0KCl7cmV0dXJuICdhdHRlbmQnO319fSkuc3RhdGUoJ2Zhdm9yaXRlcycse3VybDonL2Zhdm9yaXRlcycsY29udHJvbGxlcjonZmF2b3JpdGVzJyxjb250cm9sbGVyQXM6J3ZtJyx0ZW1wbGF0ZVVybDonY29tcG9uZW50cy9zcG90cy9mYXZvcml0ZXMvZmF2b3JpdGVzLmh0bWwnLHJlc29sdmU6e2F1dGg6WyckYXV0aCcsZnVuY3Rpb24oJGF1dGgpe3JldHVybiAkYXV0aC52YWxpZGF0ZVVzZXIoKTt9XX19KS5zdGF0ZSgndmlld1Nwb3QnLHt1cmw6Jy9zcG90cy86aWQnLGFic3RyYWN0OnRydWUsdGVtcGxhdGVVcmw6J2NvbXBvbmVudHMvc3BvdHMvdmlldy92aWV3U3BvdC5odG1sJyxjb250cm9sbGVyOid2aWV3U3BvdCcsY29udHJvbGxlckFzOid2bScscmVzb2x2ZTp7c3BvdDpbJ1Nwb3QnLCckc3RhdGVQYXJhbXMnLCdMb2NhdGlvbk1hbmFnZXInLGZ1bmN0aW9uKFNwb3QsJHN0YXRlUGFyYW1zLExvY2F0aW9uTWFuYWdlcil7cmV0dXJuIFNwb3QuZ2V0KHtpZDokc3RhdGVQYXJhbXMuaWR9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3Ape3Jlc3AuZGlzdGFuY2U9TG9jYXRpb25NYW5hZ2VyLmRpc3RhbmNlKHJlc3AubGF0aXR1ZGUscmVzcC5sb25naXR1ZGUpO3JldHVybiBuZXcgU3BvdChyZXNwKTt9KTt9XX19KS5zdGF0ZSgndmlld1Nwb3QuYWJvdXQnLHt1cmw6JycsY29udHJvbGxlcjonYWJvdXQnLGNvbnRyb2xsZXJBczonYWJvdXRDdHJsJyx0ZW1wbGF0ZVVybDonY29tcG9uZW50cy9zcG90cy9hYm91dC9hYm91dC5odG1sJ30pLnN0YXRlKCd2aWV3U3BvdC5zcGVjaWFscycse3VybDonL3NwZWNpYWxzJyxjb250cm9sbGVyOidzcGVjaWFscycsY29udHJvbGxlckFzOidzcGxzQ3RybCcsdGVtcGxhdGVVcmw6J2NvbXBvbmVudHMvc3BvdHMvc3BlY2lhbHMvc3BlY2lhbHMuaHRtbCd9KS5zdGF0ZSgndmlld1Nwb3QubWVudXMnLHt1cmw6Jy9tZW51cycsY29udHJvbGxlcjonbWVudXMnLGNvbnRyb2xsZXJBczonbWVudXNDdHJsJyx0ZW1wbGF0ZVVybDonY29tcG9uZW50cy9zcG90cy9tZW51cy9tZW51cy5odG1sJ30pLnN0YXRlKCd2aWV3U3BvdC5ldmVudHMnLHt1cmw6Jy9ldmVudHMnLGNvbnRyb2xsZXI6J2V2ZW50cycsY29udHJvbGxlckFzOidldmVudHNDdHJsJyx0ZW1wbGF0ZVVybDonY29tcG9uZW50cy9zcG90cy9ldmVudHMvZXZlbnRzLmh0bWwnfSkuc3RhdGUoJ2VkaXQnLHt1cmw6Jy91cGRhdGVfc3BvdCcsYWJzdHJhY3Q6dHJ1ZSxjb250cm9sbGVyOidlZGl0U3BvdCcsY29udHJvbGxlckFzOid2bScsdGVtcGxhdGVVcmw6J2NvbXBvbmVudHMvc3BvdHMvZWRpdC9lZGl0Lmh0bWwnLHJlc29sdmU6e2F1dGg6WyckYXV0aCcsZnVuY3Rpb24oJGF1dGgpe3JldHVybiAkYXV0aC52YWxpZGF0ZVVzZXIoKTt9XSxzcG90Olsnc3BvdFNlcnZpY2UnLCckcScsJyR0aW1lb3V0JywnJHN0YXRlJyxmdW5jdGlvbihzcG90U2VydmljZSwkcSwkdGltZW91dCwkc3RhdGUpe2lmKHNwb3RTZXJ2aWNlLnNwb3Qpe3JldHVybiAkcS53aGVuKHNwb3RTZXJ2aWNlLnNwb3QpO31lbHNlIHskdGltZW91dChmdW5jdGlvbigpeyRzdGF0ZS5nbygnaG9tZScpO30pO3JldHVybiAkcS5yZWplY3QoKTt9fV19fSkuc3RhdGUoJ2VkaXQuYWJvdXQnLHt1cmw6JycsY29udHJvbGxlcjonZWRpdEFib3V0Jyxjb250cm9sbGVyQXM6J2Fib3V0Q3RybCcsdGVtcGxhdGVVcmw6J2NvbXBvbmVudHMvc3BvdHMvYWJvdXQvZWRpdEFib3V0Lmh0bWwnfSkuc3RhdGUoJ2VkaXQuY29udGFjdCcse3VybDonL2NvbnRhY3QnLHRlbXBsYXRlVXJsOidjb21wb25lbnRzL3Nwb3RzL2VkaXQvY29udGFjdC5odG1sJ30pLnN0YXRlKCdlZGl0LnNwZWNpYWxzJyx7dXJsOicvc3BlY2lhbHMnLGNvbnRyb2xsZXI6J2VkaXRTcGVjaWFscycsY29udHJvbGxlckFzOidzcGxzQ3RybCcsdGVtcGxhdGVVcmw6J2NvbXBvbmVudHMvc3BvdHMvc3BlY2lhbHMvZWRpdFNwZWNpYWxzLmh0bWwnfSkuc3RhdGUoJ2VkaXQubWVudXMnLHt1cmw6Jy9tZW51Jyxjb250cm9sbGVyOidlZGl0TWVudXMnLGNvbnRyb2xsZXJBczonbWVudXNDdHJsJyx0ZW1wbGF0ZVVybDonY29tcG9uZW50cy9zcG90cy9tZW51cy9lZGl0TWVudXMuaHRtbCd9KS5zdGF0ZSgnZWRpdC5ldmVudHMnLHt1cmw6Jy9ldmVudHMnLGNvbnRyb2xsZXI6J2VkaXRFdmVudHMnLGNvbnRyb2xsZXJBczonZXZlbnRzQ3RybCcsdGVtcGxhdGVVcmw6J2NvbXBvbmVudHMvc3BvdHMvZXZlbnRzL2VkaXRFdmVudHMuaHRtbCd9KS5zdGF0ZSgnbmV3U3BvdCcse3VybDonL25ldy1zcG90Jyxjb250cm9sbGVyOiduZXdTcG90Jyxjb250cm9sbGVyQXM6J3ZtJyx0ZW1wbGF0ZVVybDonY29tcG9uZW50cy9zcG90cy9uZXcvbmV3U3BvdC5odG1sJyxyZXNvbHZlOnthdXRoOlsnJGF1dGgnLGZ1bmN0aW9uKCRhdXRoKXtyZXR1cm4gJGF1dGgudmFsaWRhdGVVc2VyKCk7fV19fSk7fXJvdXRlcy4kaW5qZWN0PVsnJHN0YXRlUHJvdmlkZXInLCckdXJsUm91dGVyUHJvdmlkZXInXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5mYWN0b3J5KCdzcG90U2VydmljZScsc3BvdFNlcnZpY2UpO2Z1bmN0aW9uIHNwb3RTZXJ2aWNlKCRyb290U2NvcGUsU3BvdCxMb2NhdGlvbk1hbmFnZXIsJHEsZmlsdGVyUGFyYW1zLHRvYXN0ZXIsJGNhY2hlRmFjdG9yeSxCQVNFX0FQSV9VUkwpe3ZhciBzZWxmPXtpbml0OmluaXQscGVuZGluZzpmYWxzZSxzcG90Om51bGwsc3BvdHM6W10sIC8vcGFyYW1zOiBudWxsLFxubmVhcjpuZWFyLGZhdm9yaXRlczpmYXZvcml0ZXMsdXNlckluZGV4OnVzZXJJbmRleCxjcmVhdGU6Y3JlYXRlLHVwZGF0ZTp1cGRhdGUsZGVzdHJveTpkZXN0cm95LHNlYXJjaDpzZWFyY2h9OyRyb290U2NvcGUuJG9uKCdsb2NhdGlvbkNoYW5nZWQnLGZ1bmN0aW9uKCl7c2VsZi5uZWFyKCk7fSk7cmV0dXJuIHNlbGY7ZnVuY3Rpb24gaW5pdCgpe0xvY2F0aW9uTWFuYWdlci5pbml0KCkudGhlbihmdW5jdGlvbigpe3JldHVybiBuZWFyKCk7fSk7fTtmdW5jdGlvbiBuZWFyKCl7aWYoc2VsZi5wZW5kaW5nKXJldHVybjtzZWxmLnBlbmRpbmc9dHJ1ZTtzZWxmLnNwb3RzLmxlbmd0aD0wOyAvLyAgICAgICAgICB2YXIgcSA9IGFuZ3VsYXIuZXh0ZW5kKHtcbi8vICAgICAgICAgICAgICBsb2NhdGlvbjogTG9jYXRpb25NYW5hZ2VyLnNlYXJjaCA/IFtMb2NhdGlvbk1hbmFnZXIuc2VhcmNoLmxhdCAsIExvY2F0aW9uTWFuYWdlci5zZWFyY2gubG5nXS5qb2luKCcsJykgOiBudWxsLFxuLy8gICAgICAgICAgICAgIHI6IExvY2F0aW9uTWFuYWdlci5yYWRpdXNcbi8vICAgICAgICAgIH0sIHNlbGYucGFyYW1zKTtcblNwb3QubmVhcih7bG9jYXRpb246TG9jYXRpb25NYW5hZ2VyLnNlYXJjaD9bTG9jYXRpb25NYW5hZ2VyLnNlYXJjaC5sYXQsTG9jYXRpb25NYW5hZ2VyLnNlYXJjaC5sbmddLmpvaW4oJywnKTpudWxsLHI6TG9jYXRpb25NYW5hZ2VyLnJhZGl1c30pLiRwcm9taXNlLnRoZW4oX3NldFNwb3RzKS5jYXRjaChfaGFuZGxlRXJyb3IpLmZpbmFsbHkoZnVuY3Rpb24oKXtzZWxmLnBlbmRpbmc9ZmFsc2U7fSk7fTtmdW5jdGlvbiBjcmVhdGUoZGF0YSl7aWYoc2VsZi5wZW5kaW5nKXJldHVybjt2YXIgZD0kcS5kZWZlcigpO1Nwb3Quc2F2ZShkYXRhKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3ApeyRjYWNoZUZhY3RvcnkuZ2V0KCckaHR0cCcpLnJlbW92ZShCQVNFX0FQSV9VUkwrJy9zcG90cy91c2VyX2luZGV4Jyk7dG9hc3Rlci5wb3AoJ3N1Y2Nlc3MnLCdTcG90IENyZWF0ZWQhJyk7ZC5yZXNvbHZlKHJlc3ApO30pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape3RvYXN0ZXIucG9wKCdlcnJvcicsJ1VuYWJsZSB0byBDcmVhdGUgbml0ZXNwb3QnKTtkLnJlamVjdChyZXNwKTt9KS5maW5hbGx5KGZ1bmN0aW9uKCl7c2VsZi5wZW5kaW5nPWZhbHNlO30pO3JldHVybiBkLnByb21pc2U7fTtmdW5jdGlvbiB1cGRhdGUoKXtpZighc2VsZi5zcG90fHxzZWxmLnBlbmRpbmcpcmV0dXJuO3NlbGYucGVuZGluZz10cnVlO3NlbGYuc3BvdC4kdXBkYXRlKCkudGhlbihmdW5jdGlvbihyZXNwKXskY2FjaGVGYWN0b3J5LmdldCgnJGh0dHAnKS5yZW1vdmUoQkFTRV9BUElfVVJMKycvc3BvdHMvdXNlcl9pbmRleCcpO3RvYXN0ZXIucG9wKCdzdWNjZXNzJywnU3BvdCB1cGRhdGVkJyk7fSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7dG9hc3Rlci5wb3AoJ2Vycm9yJywnVW5hYmxlIHRvIGNvbXBsZXRlIHVwZGF0ZS4nKTt9KS5maW5hbGx5KGZ1bmN0aW9uKCl7c2VsZi5wZW5kaW5nPWZhbHNlO30pO307ZnVuY3Rpb24gZGVzdHJveSgpe2lmKCFzZWxmLnNwb3R8fHNlbGYucGVuZGluZylyZXR1cm47c2VsZi5wZW5kaW5nPXRydWU7cmV0dXJuIHNlbGYuc3BvdC4kZGVsZXRlKCkudGhlbihmdW5jdGlvbihyZXNwKXskY2FjaGVGYWN0b3J5LmdldCgnJGh0dHAnKS5yZW1vdmUoQkFTRV9BUElfVVJMKycvc3BvdHMvdXNlcl9pbmRleCcpO3RvYXN0ZXIucG9wKCdpbmZvJywnU3BvdCBwZXJtYW5lbnRseSByZW1vdmVkJyk7c2VsZi5zcG90PW51bGw7fSkuY2F0Y2goX2hhbmRsZUVycm9yKS5maW5hbGx5KGZ1bmN0aW9uKCl7c2VsZi5wZW5kaW5nPWZhbHNlO30pO31mdW5jdGlvbiB1c2VySW5kZXgoKXtpZihzZWxmLnBlbmRpbmcpcmV0dXJuO3ZhciBzcG90cztzZWxmLnBlbmRpbmc9dHJ1ZTtyZXR1cm4gU3BvdC51c2VySW5kZXgoKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3Ape3Nwb3RzPXJlc3AubWFwKGZ1bmN0aW9uKG9iail7cmV0dXJuIG5ldyBTcG90KG9iaik7fSk7cmV0dXJuIHNwb3RzO30pLmNhdGNoKF9oYW5kbGVFcnJvcikuZmluYWxseShmdW5jdGlvbigpe3NlbGYucGVuZGluZz1mYWxzZTt9KTt9O2Z1bmN0aW9uIGZhdm9yaXRlcygpe2lmKHNlbGYucGVuZGluZylyZXR1cm47c2VsZi5wZW5kaW5nPXRydWU7c2VsZi5zcG90cy5sZW5ndGg9MDt2YXIgcTtpZihMb2NhdGlvbk1hbmFnZXIuc2VhcmNoKXtxPXtsb2NhdGlvbjpbTG9jYXRpb25NYW5hZ2VyLnNlYXJjaC5sYXQsTG9jYXRpb25NYW5hZ2VyLnNlYXJjaC5sbmddLmpvaW4oJywnKX07fVNwb3QuZmF2b3JpdGVzKHEpLiRwcm9taXNlLnRoZW4oX3NldFNwb3RzKS5jYXRjaChfaGFuZGxlRXJyb3IpLmZpbmFsbHkoZnVuY3Rpb24oKXtzZWxmLnBlbmRpbmc9ZmFsc2U7fSk7fTtmdW5jdGlvbiBzZWFyY2gocXVlcnkpe2lmKHNlbGYucGVuZGluZylyZXR1cm47c2VsZi5wZW5kaW5nPXRydWU7dmFyIHJlc3VsdHM9W107cmV0dXJuIFNwb3Quc2VhcmNoKHtxOnF1ZXJ5fSkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwKXtmb3IodmFyIGk9MCxqPXJlc3AubGVuZ3RoO2k8ajtpKyspe3Jlc3BbaV0uZGlzdGFuY2U9TG9jYXRpb25NYW5hZ2VyLmRpc3RhbmNlKHJlc3BbaV0ubGF0aXR1ZGUscmVzcFtpXS5sb25naXR1ZGUpO3Jlc3VsdHMucHVzaChyZXNwW2ldKTt9cmV0dXJuIHJlc3VsdHM7fSkuY2F0Y2goX2hhbmRsZUVycm9yKS5maW5hbGx5KGZ1bmN0aW9uKCl7c2VsZi5wZW5kaW5nPWZhbHNlO30pO307ZnVuY3Rpb24gX3NldFNwb3RzKHJlc3Ape2Zvcih2YXIgaT0wLGo9cmVzcC5sZW5ndGg7aTxqO2krKyl7cmVzcFtpXS5kaXN0YW5jZT1Mb2NhdGlvbk1hbmFnZXIuZGlzdGFuY2UocmVzcFtpXS5sYXRpdHVkZSxyZXNwW2ldLmxvbmdpdHVkZSk7c2VsZi5zcG90cy5wdXNoKHJlc3BbaV0pO319O2Z1bmN0aW9uIF9oYW5kbGVFcnJvcihyZXNwKXtyZXR1cm4gcmVzcDt9O307c3BvdFNlcnZpY2UuJGluamVjdD1bJyRyb290U2NvcGUnLCdTcG90JywnTG9jYXRpb25NYW5hZ2VyJywnJHEnLCdmaWx0ZXJQYXJhbXMnLCd0b2FzdGVyJywnJGNhY2hlRmFjdG9yeScsJ0JBU0VfQVBJX1VSTCddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC51c2VycycpLmNvbmZpZyhjb25maWcpO2Z1bmN0aW9uIGNvbmZpZygkYXV0aFByb3ZpZGVyLEJBU0VfQVBJX1VSTCl7JGF1dGhQcm92aWRlci5jb25maWd1cmUoe2FwaVVybDpCQVNFX0FQSV9VUkwsYXV0aFByb3ZpZGVyUGF0aHM6e2ZhY2Vib29rOicvYXV0aC9mYWNlYm9vayd9LG9tbmlhdXRoV2luZG93VHlwZTonbmV3V2luZG93JyxwYXNzd29yZFJlc2V0U3VjY2Vzc1VybDonaHR0cDovL2xvY2FsaG9zdDo4MDAwLyMvdXNlcnMvcGFzc3dvcmQvcmVzZXQnfSk7fTtjb25maWcuJGluamVjdD1bJyRhdXRoUHJvdmlkZXInLCdCQVNFX0FQSV9VUkwnXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAudXNlcnMnKS5ydW4oYXV0aEV2ZW50cyk7ZnVuY3Rpb24gYXV0aEV2ZW50cygkcm9vdFNjb3BlLHVzZXJTZXJ2aWNlLCRzdGF0ZSx0b2FzdGVyLCRjYWNoZUZhY3RvcnksQkFTRV9BUElfVVJMKXskcm9vdFNjb3BlLiRvbignYXV0aDpsb2dvdXQtc3VjY2VzcycsZnVuY3Rpb24oKXskY2FjaGVGYWN0b3J5LmdldCgnJGh0dHAnKS5yZW1vdmUoQkFTRV9BUElfVVJMKycvc3BvdHMvdXNlcl9pbmRleCcpO3VzZXJTZXJ2aWNlLmFjY291bnQ9bnVsbDskc3RhdGUuZ28oJ2hvbWUnKTt0b2FzdGVyLnBvcCgnaW5mbycsJ0dvb2RieWUhJyk7fSk7JHJvb3RTY29wZS4kb24oJ2F1dGg6bG9naW4tc3VjY2VzcycsZnVuY3Rpb24oKXskc3RhdGUuZ28oJ2hvbWUnKTt9KTt9YXV0aEV2ZW50cy4kaW5qZWN0PVsnJHJvb3RTY29wZScsJ3VzZXJTZXJ2aWNlJywnJHN0YXRlJywndG9hc3RlcicsJyRjYWNoZUZhY3RvcnknLCdCQVNFX0FQSV9VUkwnXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAudXNlcnMnKS5jb25maWcocm91dGVzKTtmdW5jdGlvbiByb3V0ZXMoJHN0YXRlUHJvdmlkZXIpeyRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdsb2dpbicse3VybDonL3VzZXJzL3NpZ25faW4nLHRlbXBsYXRlVXJsOidjb21wb25lbnRzL3VzZXJzL2xvZ2luL2xvZ2luVXNlci5odG1sJyxjb250cm9sbGVyOidsb2dpblVzZXInLGNvbnRyb2xsZXJBczondm0nLHJlc29sdmU6e3VzZXI6Wyckcm9vdFNjb3BlJyxmdW5jdGlvbigkcm9vdFNjb3BlKXtpZigkcm9vdFNjb3BlLnVzZXIuc2lnbmVkSW4peyRzdGF0ZS5nbygnaG9tZScpO31yZXR1cm4gdHJ1ZTt9XX19KS5zdGF0ZSgnbmV3QWNjb3VudCcse3VybDonL3VzZXJzL3NpZ25fdXAnLHRlbXBsYXRlVXJsOidjb21wb25lbnRzL3VzZXJzL2FjY291bnQvbmV3QWNjb3VudC5odG1sJyxjb250cm9sbGVyOiduZXdBY2NvdW50Jyxjb250cm9sbGVyQXM6J3ZtJ30pLnN0YXRlKCdlZGl0QWNjb3VudCcse3VybDonL2FjY291bnQvZWRpdCcsdGVtcGxhdGVVcmw6J2NvbXBvbmVudHMvdXNlcnMvYWNjb3VudC9lZGl0QWNjb3VudC5odG1sJyxjb250cm9sbGVyOidlZGl0QWNjb3VudCcsY29udHJvbGxlckFzOid2bScscmVzb2x2ZTp7YXV0aDpbJyRhdXRoJyxmdW5jdGlvbigkYXV0aCl7cmV0dXJuICRhdXRoLnZhbGlkYXRlVXNlcigpO31dfX0pLnN0YXRlKCdyZXF1ZXN0UGFzc3dvcmRSZXNldCcse3VybDonL3VzZXJzL3Bhc3N3b3JkL25ldycsdGVtcGxhdGVVcmw6J2NvbXBvbmVudHMvdXNlcnMvYWNjb3VudC9yZXF1ZXN0UGFzc3dvcmRSZXNldC5odG1sJyxjb250cm9sbGVyOidyZXF1ZXN0UGFzc3dvcmRSZXNldCcsY29udHJvbGxlckFzOid2bSd9KS5zdGF0ZSgncmVzZXRQYXNzd29yZCcse3VybDonL3VzZXJzL3Bhc3N3b3JkL3Jlc2V0Jyx0ZW1wbGF0ZVVybDonYXBwL3VzZXJzL2FjY291bnQvcmVzZXRwYXNzd29yZC5odG1sJyxjb250cm9sbGVyOidyZXNldFBhc3N3b3JkJyxjb250cm9sbGVyQXM6J3ZtJyxyZXNvbHZlOnthdXRoOlsnJGF1dGgnLGZ1bmN0aW9uKCRhdXRoKXtyZXR1cm4gJGF1dGgudmFsaWRhdGVVc2VyKCk7fV19fSk7fXJvdXRlcy4kaW5qZWN0PVsnJHN0YXRlUHJvdmlkZXInLCckYXV0aFByb3ZpZGVyJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnVzZXJzJykuZmFjdG9yeSgndXNlclNlcnZpY2UnLHVzZXJTZXJ2aWNlKTtmdW5jdGlvbiB1c2VyU2VydmljZSgkcm9vdFNjb3BlLCRhdXRoLCRxLHRvYXN0ZXIpe3ZhciBzZWxmPXtwZW5kaW5nOmZhbHNlLGFjY291bnQ6bnVsbCxzZXRDdXJyZW50QWNjb3VudDpzZXRDdXJyZW50QWNjb3VudCxsb2dpbjpsb2dpbixyZWdpc3RlcjpyZWdpc3Rlcix1cGRhdGU6dXBkYXRlLHJlcXVlc3RQYXNzd29yZFJlc2V0OnJlcXVlc3RQYXNzd29yZFJlc2V0LHJlc2V0UGFzc3dvcmQ6cmVzZXRQYXNzd29yZCxkZXN0cm95OmRlc3Ryb3l9OyRyb290U2NvcGUuJG9uKCdhdXRoOmxvZ291dC1zdWNjZXNzJyxmdW5jdGlvbihldixyZWFzb24pe3NlbGYuYWNjb3VudD1udWxsO30pO3JldHVybiBzZWxmO2Z1bmN0aW9uIHNldEN1cnJlbnRBY2NvdW50KCl7c2VsZi5hY2NvdW50PWFuZ3VsYXIuY29weSgkcm9vdFNjb3BlLnVzZXIpOyAvLyAgICAgICBpZihzZWxmLmFjY291bnQucHJvdmlkZXIgPT0gJ2VtYWlsJykgc2VsZi5hY2NvdW50LmN1cnJlbnRfcGFzc3dvcmQgPSAnJ1xucmV0dXJuIHNlbGYuYWNjb3VudDt9O2Z1bmN0aW9uIGxvZ2luKCl7dmFyIGQ9JHEuZGVmZXIoKTskYXV0aC5zdWJtaXRMb2dpbihzZWxmLmFjY291bnQpLnRoZW4oZnVuY3Rpb24ocmVzcCl7JGF1dGgudmFsaWRhdGVVc2VyKCk7dG9hc3Rlci5wb3AoJ3N1Y2Nlc3MnLCdXZWxjb21lLCAnK3Jlc3AuZmlyc3RfbmFtZSsnIScpO2QucmVzb2x2ZShyZXNwKTt9KS5jYXRjaChmdW5jdGlvbihyZXNwKXt0b2FzdGVyLnBvcCgnZXJyb3InLCdJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkLicpO3NlbGYuYWNjb3VudC5wYXNzd29yZD0nJztkLnJlamVjdChyZXNwKTt9KTtyZXR1cm4gZC5wcm9taXNlO307ZnVuY3Rpb24gcmVnaXN0ZXIoKXtpZihzZWxmLnBlbmRpbmcpcmV0dXJuO3ZhciBkPSRxLmRlZmVyKCk7c2VsZi5wZW5kaW5nPXRydWU7JGF1dGguc3VibWl0UmVnaXN0cmF0aW9uKHNlbGYuYWNjb3VudCkudGhlbihmdW5jdGlvbihyZXNwKXskYXV0aC52YWxpZGF0ZVVzZXIoKTt0b2FzdGVyLnBvcCgnc3VjY2VzcycsJ1JlZ2lzdHJhdGlvbiBjb21wbGV0ZScsJ1dlbGNvbWUgdG8gVGhlIE5pdGVzcG90IDopJyk7ZC5yZXNvbHZlKHJlc3ApO30pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape3RvYXN0ZXIucG9wKCdlcnJvcicsJ1JlZ2lzdHJhdGlvbiBFcnJvcicsJ1BsZWFzZSByZXZpZXcgdGhlIGZvcm0nKTtkLnJlamVjdChyZXNwKTt9KS5maW5hbGx5KGZ1bmN0aW9uKHJlc3Ape3NlbGYucGVuZGluZz1mYWxzZTt9KTtyZXR1cm4gZC5wcm9taXNlO307ZnVuY3Rpb24gdXBkYXRlKCl7aWYoc2VsZi5wZW5kaW5nKXJldHVybjt2YXIgZD0kcS5kZWZlcigpO3NlbGYucGVuZGluZz10cnVlOyRhdXRoLnVwZGF0ZUFjY291bnQoc2VsZi5hY2NvdW50KS50aGVuKGZ1bmN0aW9uKHJlc3Ape3RvYXN0ZXIucG9wKCdzdWNjZXNzJywnQWNjb3VudCB1cGRhdGVkJyk7ZC5yZXNvbHZlKHJlc3ApO30pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape3RvYXN0ZXIucG9wKCdlcnJvcicsJ1VuYWJsZSB0byB1cGRhdGUnKTtkLnJlamVjdChyZXNwKTt9KS5maW5hbGx5KGZ1bmN0aW9uKHJlc3Ape3NlbGYucGVuZGluZz1mYWxzZTtpZihzZWxmLmFjY291bnQucGFzc3dvcmQpZGVsZXRlIHNlbGYuYWNjb3VudC5wYXNzd29yZDtpZihzZWxmLmFjY291bnQucGFzc3dvcmRfY29uZmlybWF0aW9uKWRlbGV0ZSBzZWxmLmFjY291bnQucGFzc3dvcmRfY29uZmlybWF0aW9uO3NlbGYuYWNjb3VudC5jdXJyZW50X3Bhc3N3b3JkPScnO30pO3JldHVybiBkLnByb21pc2U7fTtmdW5jdGlvbiByZXF1ZXN0UGFzc3dvcmRSZXNldCgpe2lmKHNlbGYucGVuZGluZylyZXR1cm47dmFyIGQ9JHEuZGVmZXIoKTtzZWxmLnBlbmRpbmc9dHJ1ZTskYXV0aC5yZXF1ZXN0UGFzc3dvcmRSZXNldChzZWxmLmFjY291bnQpLnRoZW4oZnVuY3Rpb24ocmVzcCl7Y29uc29sZS5pbmZvKHJlc3ApO3RvYXN0ZXIucG9wKCdzdWNjZXNzJywnUGxlYXNlIGNoZWNrIGVtYWlsICcrc2VsZi5hY2NvdW50LmVtYWlsKycgZm9yIGluc3RydWN0aW9ucy4nKTtkLnJlc29sdmUocmVzcCk7fSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7Y29uc29sZS5lcnJvcihyZXNwKTtpZihyZXNwLnN0YXR1cz09NDA0KXt0b2FzdGVyLnBvcCgnZXJyb3InLCdUaGVyZSBpcyBubyBhY2NvdW50IGZvciAnK3NlbGYuYWNjb3VudC5lbWFpbCk7fWVsc2Uge3RvYXN0ZXIucG9wKCdlcnJvcicsJ1VuYWJsZSB0byByZXNldCBwYXNzd29yZC4nKTt9ZC5yZWplY3QocmVzcCk7fSkuZmluYWxseShmdW5jdGlvbihyZXNwKXtzZWxmLnBlbmRpbmc9ZmFsc2U7fSk7cmV0dXJuIGQucHJvbWlzZTt9O2Z1bmN0aW9uIHJlc2V0UGFzc3dvcmQoKXtpZihzZWxmLnBlbmRpbmcpcmV0dXJuO3NlbGYucGVuZGluZz10cnVlO3ZhciBkPSRxLmRlZmVyKCk7JGF1dGgudXBkYXRlUGFzc3dvcmQoc2VsZi5hY2NvdW50KS50aGVuKGZ1bmN0aW9uKHJlc3Ape2NvbnNvbGUuaW5mbyhyZXNwKTt0b2FzdGVyLnBvcCgnc3VjY2VzcycsJ1Bhc3N3b3JkIGhhcyBiZWVuIHJlc2V0Jyk7ZC5yZXNvbHZlKHJlc3ApO30pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape2NvbnNvbGUubG9nKHNlbGYuYWNjb3VudCk7dG9hc3Rlci5wb3AoJ2Vycm9yJywnVW5hYmxlIHRvIHJlc2V0IHBhc3N3b3JkLicpO2QucmVqZWN0KHJlc3ApO30pLmZpbmFsbHkoZnVuY3Rpb24ocmVzcCl7c2VsZi5wZW5kaW5nPWZhbHNlO30pO3JldHVybiBkLnByb21pc2U7fTtmdW5jdGlvbiBkZXN0cm95KCl7aWYoc2VsZi5wZW5kaW5nKXJldHVybjt2YXIgZD0kcS5kZWZlcigpO3NlbGYucGVuZGluZz10cnVlOyRhdXRoLmRlc3Ryb3lBY2NvdW50KHNlbGYuYWNjb3VudCkudGhlbihmdW5jdGlvbihyZXNwKXskYXV0aC5zaWduT3V0KCk7dG9hc3Rlci5wb3AoJ2luZm8nLCdBY2NvdW50IGNsb3NlZCcpO2QucmVzb2x2ZShyZXNwKTt9KS5jYXRjaChmdW5jdGlvbihyZXNwKXtjb25zb2xlLmxvZyhyZXNwKTt0b2FzdGVyLnBvcCgnZXJyb3InLCdVYW5ibGUgdG8gY2xvc2UgYWNjb3VudCBhdCB0aGlzIHRpbWUnKTtzZWxmLmFjY291bnQuY3VycmVudF9wYXNzd29yZD0nJztkLnJlamVjdChyZXNwKTt9KS5maW5hbGx5KGZ1bmN0aW9uKHJlc3Ape3NlbGYucGVuZGluZz1mYWxzZTt9KTtyZXR1cm4gZC5wcm9taXNlO307fXVzZXJTZXJ2aWNlLiRpbmplY3Q9Wyckcm9vdFNjb3BlJywnJGF1dGgnLCckcScsJ3RvYXN0ZXInXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc2hhcmVkJykuY29udHJvbGxlcignY3JvcEltYWdlTW9kYWwnLGNyb3BJbWFnZU1vZGFsKTtmdW5jdGlvbiBjcm9wSW1hZ2VNb2RhbChpbWdGaWxlLCR1aWJNb2RhbEluc3RhbmNlKXt2YXIgY3RybD10aGlzO2N0cmwuaW1nRmlsZT1pbWdGaWxlO2N0cmwudXBsb2FkPXVwbG9hZDtjdHJsLmNhbmNlbD1jYW5jZWw7ZnVuY3Rpb24gdXBsb2FkKGRhdGFVcmwpe3JldHVybiAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShkYXRhVXJsKTt9O2Z1bmN0aW9uIGNhbmNlbCgpe3JldHVybiAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKG51bGwpO307fTtjcm9wSW1hZ2VNb2RhbC4kaW5qZWN0PVsnaW1nRmlsZScsJyR1aWJNb2RhbEluc3RhbmNlJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNoYXJlZCcpLmZpbHRlcignZGVmYXVsdEltZycsZGVmYXVsdEltZyk7ZnVuY3Rpb24gZGVmYXVsdEltZyhCQVNFX0FQSV9VUkwpe3JldHVybiBmdW5jdGlvbihpbnB1dCxwYXJhbSl7aWYoIWlucHV0KXtyZXR1cm4gJ2Fzc2V0cy9pbWcvZGVmYXVsdCcrcGFyYW07fXJldHVybiBpbnB1dDt9O307ZGVmYXVsdEltZy4kaW5qZWN0PVsnQkFTRV9BUElfVVJMJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNoYXJlZCcpLmZhY3RvcnkoJ2ltYWdlU2VydmljZScsaW1hZ2VTZXJ2aWNlKTtmdW5jdGlvbiBpbWFnZVNlcnZpY2UoQkFTRV9BUElfVVJMLCRodHRwLFVwbG9hZCwkcSx0b2FzdGVyKXt2YXIgdXJsO3ZhciBzZWxmPXtpbml0OmluaXQscGVuZGluZzpmYWxzZSxpbWFnZXM6W10sbG9hZEltYWdlczpsb2FkSW1hZ2VzLHVwbG9hZDp1cGxvYWQsc2V0UHJpbWFyeTpzZXRQcmltYXJ5LGRlc3Ryb3k6ZGVzdHJveX07cmV0dXJuIHNlbGY7ZnVuY3Rpb24gaW5pdChkYXRhKXthbmd1bGFyLmV4dGVuZChzZWxmLGRhdGEpO3VybD1bQkFTRV9BUElfVVJMLHNlbGYudXJpLHNlbGYuaW1hZ2VhYmxlX2lkLCdpbWFnZXMnXS5qb2luKCcvJyk7IC8vICAgICAgICAgICAgbG9hZEltYWdlcygpO1xucmV0dXJuIHNlbGY7fTtmdW5jdGlvbiBsb2FkSW1hZ2VzKCl7JGh0dHAuZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXNwKXtzZWxmLmltYWdlcz1yZXNwLmRhdGE7fSk7fTtmdW5jdGlvbiB1cGxvYWQoZGF0YVVybCxwcmltYXJ5KXtpZihzZWxmLnBlbmRpbmcpcmV0dXJuO3NlbGYucGVuZGluZz10cnVlO3ZhciBkPSRxLmRlZmVyKCk7VXBsb2FkLnVwbG9hZCh7dXJsOnVybCxkYXRhOntmaWxlX2RhdGFfdXJpOmRhdGFVcmwscHJpbWFyeTpwcmltYXJ5fX0pLnRoZW4oZnVuY3Rpb24ocmVzcCl7dG9hc3Rlci5wb3AoJ3N1Y2Nlc3MnLCdJbWFnZSBBZGRlZCcpO3NlbGYuaW1hZ2VzLnB1c2gocmVzcC5kYXRhKTtkLnJlc29sdmUocmVzcCk7fSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7dG9hc3Rlci5wb3AoJ2Vycm9yJywnVW5hYmxlIHRvIHVwbG9hZCBpbWFnZScpO2QucmVqZWN0KHJlc3ApO30pLmZpbmFsbHkoZnVuY3Rpb24oKXtzZWxmLnBlbmRpbmc9ZmFsc2U7fSk7cmV0dXJuIGQucHJvbWlzZTt9O2Z1bmN0aW9uIHNldFByaW1hcnkoaW1hZ2Upe2lmKHNlbGYucGVuZGluZ3x8IWltYWdlKXJldHVybjtzZWxmLnBlbmRpbmc9dHJ1ZTt2YXIgZD0kcS5kZWZlcigpOyRodHRwLnB1dChCQVNFX0FQSV9VUkwrJy9pbWFnZXMvJytpbWFnZS5pZCx7cHJpbWFyeTp0cnVlfSkudGhlbihmdW5jdGlvbihyZXNwKXt0b2FzdGVyLnBvcCgnc3VjY2VzcycsJ0ltYWdlIHNldCcpO2QucmVzb2x2ZShyZXNwKTt9KS5jYXRjaChmdW5jdGlvbihyZXNwKXtkLnJlamVjdChyZXNwKTt9KS5maW5hbGx5KGZ1bmN0aW9uKCl7c2VsZi5wZW5kaW5nPWZhbHNlO30pO3JldHVybiBkLnByb21pc2U7fTtmdW5jdGlvbiBkZXN0cm95KGltYWdlKXtpZihzZWxmLnBlbmRpbmd8fCFpbWFnZSlyZXR1cm47dmFyIGQ9JHEuZGVmZXIoKTtzZWxmLnBlbmRpbmc9dHJ1ZTskaHR0cC5kZWxldGUoQkFTRV9BUElfVVJMKycvaW1hZ2VzLycraW1hZ2UuaWQpLnRoZW4oZnVuY3Rpb24ocmVzcCl7dmFyIGk9c2VsZi5pbWFnZXMuaW5kZXhPZihpbWFnZSk7c2VsZi5pbWFnZXMuc3BsaWNlKGksMSk7dG9hc3Rlci5wb3AoJ3N1Y2Nlc3MnLCdJbWFnZSBSZW1vdmVkJyk7ZC5yZXNvbHZlKHJlc3ApO30pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape2QucmVqZWN0KHJlc3ApO30pLmZpbmFsbHkoZnVuY3Rpb24oKXtzZWxmLnBlbmRpbmc9ZmFsc2U7fSk7cmV0dXJuIGQucHJvbWlzZTt9O31pbWFnZVNlcnZpY2UuJGluamVjdD1bJ0JBU0VfQVBJX1VSTCcsJyRodHRwJywnVXBsb2FkJywnJHEnLCd0b2FzdGVyJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNoYXJlZCcpLmRpcmVjdGl2ZSgnbnNQcmltYXJ5SW1hZ2UnLG5zUHJpbWFyeUltYWdlKTtmdW5jdGlvbiBuc1ByaW1hcnlJbWFnZShpbWFnZVNlcnZpY2UsJHVpYk1vZGFsKXtyZXR1cm4ge3Jlc3RpY3Q6J0UnLHNjb3BlOnt9LGJpbmRUb0NvbnRyb2xsZXI6e2ltYWdlYWJsZTonPScsdXJpOidAJ30sY29udHJvbGxlcjpbJyRzY29wZScsJ2ltYWdlU2VydmljZScsJyR1aWJNb2RhbCcsZnVuY3Rpb24oJHNjb3BlLGltYWdlU2VydmljZSwkdWliTW9kYWwpe3ZhciBjdHJsPXRoaXM7Y3RybC5pbWFnZVNlcnZpY2U9aW1hZ2VTZXJ2aWNlO2N0cmwuaW1nRmlsZT1udWxsO2N0cmwub3Blbk1vZGFsPW9wZW5Nb2RhbDtjdHJsLnJlbW92ZT1yZW1vdmU7JHNjb3BlLiR3YXRjaCgnaW1hZ2VhYmxlJyxmdW5jdGlvbigpe2N0cmwuaW1hZ2VTZXJ2aWNlLmluaXQoe3VyaTpjdHJsLnVyaSxpbWFnZWFibGVfaWQ6Y3RybC5pbWFnZWFibGUuaWR9KTt9KTtmdW5jdGlvbiByZW1vdmUoKXtjb25zb2xlLmxvZygncmVtb3ZpbmcuLi4/Jyk7Y3RybC5pbWFnZVNlcnZpY2UuZGVzdHJveShjdHJsLmltYWdlYWJsZS5wcmltYXJ5X2ltYWdlKS50aGVuKGZ1bmN0aW9uKCl7Y3RybC5pbWFnZWFibGUucHJpbWFyeV9pbWFnZT1udWxsO30pO31mdW5jdGlvbiBvcGVuTW9kYWwoKXtpZighY3RybC5pbWdGaWxlKXJldHVybjt2YXIgbW9kYWxJbnN0YW5jZT0kdWliTW9kYWwub3Blbih7Y29udHJvbGxlcjonY3JvcEltYWdlTW9kYWwnLGNvbnRyb2xsZXJBczonaW1nQ3RybCcsdGVtcGxhdGVVcmw6J3NoYXJlZC9pbWFnZXMvY3JvcEltYWdlTW9kYWwuaHRtbCcsc2l6ZTonbWQnLHJlc29sdmU6e2ltZ0ZpbGU6ZnVuY3Rpb24gaW1nRmlsZSgpe3JldHVybiBjdHJsLmltZ0ZpbGU7fX19KTttb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uKHJlcyl7Y3RybC5pbWdGaWxlPW51bGw7Y3RybC5pbWFnZVNlcnZpY2UudXBsb2FkKHJlcyx0cnVlKS50aGVuKGZ1bmN0aW9uKHJlc3Ape2NvbnNvbGUubG9nKHJlc3ApO2N0cmwuaW1hZ2VhYmxlLnByaW1hcnlfaW1hZ2U9cmVzcC5kYXRhO30pO30pO307fV0sY29udHJvbGxlckFzOidpbWdDdHJsJyx0ZW1wbGF0ZVVybDonc2hhcmVkL2ltYWdlcy9uc1ByaW1hcnlJbWFnZS5odG1sJ307fW5zUHJpbWFyeUltYWdlLiRpbmplY3Q9WydpbWFnZVNlcnZpY2UnLCckdWliTW9kYWwnXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc2hhcmVkJykuZmlsdGVyKCdwcmltYXJ5SW1hZ2UnLHByaW1hcnlJbWFnZSk7ZnVuY3Rpb24gcHJpbWFyeUltYWdlKCl7cmV0dXJuIGZ1bmN0aW9uKGlucHV0KXtpZighaW5wdXQucHJpbWFyeV9pbWFnZSl7dmFyIHBhdGg9J2Fzc2V0cy9pbWcvZGVmYXVsdC8nO2lmKGlucHV0Lmhhc093blByb3BlcnR5KCdlYXQnKSl7aWYoaW5wdXQuZWF0KXBhdGgrPSdlJztpZihpbnB1dC5kcmluaylwYXRoKz0nZCc7aWYoaW5wdXQuYXR0ZW5kKXBhdGgrPSdhJzt9ZWxzZSB7cGF0aCs9J2EnO31wYXRoKz0nLnBuZyc7cmV0dXJuIHBhdGg7fXJldHVybiBpbnB1dC5wcmltYXJ5X2ltYWdlLnVybDt9O307fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNoYXJlZCcpLmRpcmVjdGl2ZSgnbnNDb25maXJtJyxuc0NvbmZpcm0pO2Z1bmN0aW9uIG5zQ29uZmlybSgkdWliTW9kYWwpe3JldHVybiB7cHJpb3JpdHk6MSxyZXN0cmljdDonQScsc2NvcGU6e25zQ29uZmlybTonQCcsbmdDbGljazonJid9LGxpbms6bGlua307ZnVuY3Rpb24gbGluayhzY29wZSxlbGVtLGF0dHJzKXtlbGVtLnVuYmluZCgnY2xpY2snKS5iaW5kKCdjbGljaycsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBtaT0kdWliTW9kYWwub3Blbih7dGVtcGxhdGU6JzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5IGNsZWFyZml4XCI+IDxoMyBjbGFzcz1cInRleHQteHMtY2VudGVyXCI+Q29uZmlybTwvaDM+JysnPHAgY2xhc3M9XCJ0ZXh0LXhzLWNlbnRlclwiIG5nLWJpbmQ9XCJjdHJsLm1lc3NhZ2VcIj48L3A+JysnPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc20gYnRuLXByaW1hcnktb3V0bGluZVwiIG5nLWNsaWNrPVwiY3RybC5jb25maXJtKClcIj5PazwvYnV0dG9uPicrJzxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1kYW5nZXItb3V0bGluZSBwdWxsLXJpZ2h0XCIgbmctY2xpY2s9XCJjdHJsLmNhbmNlbCgpXCI+Q2FuY2VsPC9idXR0b24+JysnPC9kaXY+Jyxjb250cm9sbGVyOlsnJHVpYk1vZGFsSW5zdGFuY2UnLCdtZXNzYWdlJyxmdW5jdGlvbigkdWliTW9kYWxJbnN0YW5jZSxtZXNzYWdlKXt2YXIgY3RybD10aGlzO2N0cmwubWVzc2FnZT1tZXNzYWdlfHwnQXJlIHlvdSBzdXJlPyc7Y3RybC5jb25maXJtPWZ1bmN0aW9uKCl7JHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTt9O2N0cmwuY2FuY2VsPWZ1bmN0aW9uKCl7JHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO307fV0sY29udHJvbGxlckFzOidjdHJsJyxzaXplOidzbScscmVzb2x2ZTp7bWVzc2FnZTpmdW5jdGlvbiBtZXNzYWdlKCl7cmV0dXJuIHNjb3BlLm5zQ29uZmlybTt9fX0pO21pLnJlc3VsdC50aGVuKGZ1bmN0aW9uKCl7c2NvcGUubmdDbGljaygpO30pO30pO319O25zQ29uZmlybS4kaW5qZWN0PVsnJHVpYk1vZGFsJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNoYXJlZCcpLmRpcmVjdGl2ZSgnbnNGb3JtSW5wdXQnLG5zRm9ybUlucHV0KTtmdW5jdGlvbiBuc0Zvcm1JbnB1dCgpe3JldHVybiB7cmVzdHJpY3Q6J0EnLHJlcXVpcmU6J15mb3JtJyxsaW5rOmxpbmt9O2Z1bmN0aW9uIGxpbmsoc2NvcGUsZWxlbSxhdHRycyxmb3JtQ3RybCl7dmFyIGlucHV0PWFuZ3VsYXIuZWxlbWVudChlbGVtWzBdLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0LCB0ZXh0YXJlYSwgc2VsZWN0JykpO3ZhciBuYW1lPWlucHV0WzBdLmF0dHJpYnV0ZXMubmFtZS52YWx1ZTtzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKGZ1bmN0aW9uKCl7cmV0dXJuIFtmb3JtQ3RybFtuYW1lXS4kZGlydHksZm9ybUN0cmxbbmFtZV0uJGludmFsaWRdO30sZnVuY3Rpb24ocmV0VmFsKXtpZihyZXRWYWwmJnJldFZhbFswXSl7aWYocmV0VmFsWzFdKXtlbGVtLnJlbW92ZUNsYXNzKCdoYXMtc3VjY2VzcycpLmFkZENsYXNzKCdoYXMtZGFuZ2VyJyk7aW5wdXQucmVtb3ZlQ2xhc3MoJ2Zvcm0tY29udHJvbC1zdWNjZXNzJykuYWRkQ2xhc3MoJ2Zvcm0tY29udHJvbC1kYW5nZXInKTt9ZWxzZSB7ZWxlbS5yZW1vdmVDbGFzcygnaGFzLWRhbmdlcicpLmFkZENsYXNzKCdoYXMtc3VjY2VzcycpO2lucHV0LnJlbW92ZUNsYXNzKCdmb3JtLWNvbnRyb2wtZGFuZ2VyJykuYWRkQ2xhc3MoJ2Zvcm0tY29udHJvbC1zdWNjZXNzJyk7fX19KTt9fX0pKCk7IC8vKGZ1bmN0aW9uKCl7XG4vLyAgJ3VzZSBzdHJpY3QnO1xuLy8gICAgXG4vLyAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNoYXJlZCcpXG4vLyAgICAuZGlyZWN0aXZlKCduc0Zvcm1JbnB1dCcsIG5zRm9ybUlucHV0KTtcbi8vICAgIFxuLy8gIGZ1bmN0aW9uIG5zRm9ybUlucHV0KCl7XG4vLyAgICAgIHJldHVybiB7XG4vLyAgICAgICAgICByZXN0cmljdDogJ0EnLFxuLy8gICAgICAgICAgcmVxdWlyZTogJ15mb3JtJyxcbi8vICAgICAgICAgIGxpbms6IGxpbmtcbi8vICAgICAgfVxuLy8gICAgICBcbi8vICAgICAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbSwgYXR0cnMsIGZvcm1DdHJsKXtcbi8vICAgICAgICAgdmFyIG5hbWUgPSBzZXR1cEVsZW1lbnQoZWxlbVswXSk7ICAgICAgICAgIFxuLy8gICAgICAgICBzY29wZS4kd2F0Y2hHcm91cChmdW5jdGlvbigpe1xuLy8gICAgICAgICAgICBpZihmb3JtQ3RybCAmJiBmb3JtQ3RybFtuYW1lXSl7XG4vLyAgICAgICAgICAgICAgcmV0dXJuIFsgZm9ybUN0cmxbbmFtZV0uJGRpcnR5LCBmb3JtQ3RybFtuYW1lXS4kaW52YWxpZCBdO1xuLy8gICAgICAgICAgICB9XG4vLyAgICAgICAgIH0sIGZ1bmN0aW9uKHJldFZhbCl7XG4vLyAgICAgICAgICAgICBpZihyZXRWYWwgJiYgcmV0VmFsWzBdKXtcbi8vICAgICAgICAgICAgICAgICBpZihyZXRWYWxbMV0pe1xuLy8gICAgICAgICAgICAgICAgICAgICBlbGVtLnJlbW92ZUNsYXNzKCdoYXMtc3VjY2VzcycpLmFkZENsYXNzKCdoYXMtZXJyb3InKTtcbi8vICAgICAgICAgICAgICAgICB9ZWxzZXtcbi8vICAgICAgICAgICAgICAgICAgICAgZWxlbS5yZW1vdmVDbGFzcygnaGFzLWVycm9yJykuYWRkQ2xhc3MoJ2hhcy1zdWNjZXNzJyk7ICAgICBcbi8vICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICB9XG4vLyAgICAgICAgIH0pOyAgIFxuLy8gICAgICB9XG4vLyAgICAgIFxuLy8gICAgICBmdW5jdGlvbiBzZXR1cEVsZW1lbnQoZWxlbSl7XG4vLyAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2Zvcm0tZ3JvdXAnKTtcbi8vICAgICAgICAgIHZhciBpbnB1dCA9IGVsZW0ucXVlcnlTZWxlY3RvcignaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QnKTtcbi8vICAgICAgICAgIHZhciBuYW1lID0gaW5wdXQuZ2V0QXR0cmlidXRlKCduYW1lJyk7XG4vLyAgICAgICAgICB2YXIgdHlwZSA9IGlucHV0LmdldEF0dHJpYnV0ZSgndHlwZScpO1xuLy8gICAgICAgICAgaWYodHlwZSAhPT0gJ2NoZWNrYm94JyAmJiB0eXBlICE9PSAncmFkaW8nKXtcbi8vICAgICAgICAgICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKCdmb3JtLWNvbnRyb2wnKTtcbi8vICAgICAgICAgIH1cbi8vICAgICAgICAgIHJldHVybiBuYW1lO1xuLy8gICAgICB9XG4vLyAgICAgIFxuLy8gIH1cbi8vICAgIFxuLy99KSgpO1xuKGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zaGFyZWQnKS5kaXJlY3RpdmUoJ25zTWF0Y2hlcycsbnNNYXRjaGVzKTtmdW5jdGlvbiBuc01hdGNoZXMoKXtyZXR1cm4ge3Jlc3RyaWN0OidBJyxyZXF1aXJlOiduZ01vZGVsJyxzY29wZTp7dmFsOlwiPW5zTWF0Y2hlc1wifSxsaW5rOmxpbmt9O2Z1bmN0aW9uIGxpbmsoc2NvcGUsZWxlbSxhdHRyLG5nTW9kZWwpe25nTW9kZWwuJHZhbGlkYXRvcnMubWF0Y2hlcz1mdW5jdGlvbihtb2RlbFZhbCl7cmV0dXJuIG1vZGVsVmFsPT1zY29wZS52YWw7fTtzY29wZS4kd2F0Y2goJ3ZhbCcsZnVuY3Rpb24oKXtuZ01vZGVsLiR2YWxpZGF0ZSgpO30pO307fX0pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zaGFyZWQnKS5kaXJlY3RpdmUoJ25zU3BvdFByaWNlU2VsZWN0Jyxuc1Nwb3RQcmljZVNlbGVjdCk7ZnVuY3Rpb24gbnNTcG90UHJpY2VTZWxlY3QoKXtyZXR1cm4ge3Jlc3RyaWN0OidFJyxzY29wZTp7fSxiaW5kVG9Db250cm9sbGVyOntwcmljZTonPW5nTW9kZWwnfSxjb250cm9sbGVyOm5zU3BvdFByaWNlU2VsZWN0Q3RybCxjb250cm9sbGVyQXM6J2N0cmwnLHRlbXBsYXRlVXJsOidzaGFyZWQvZm9ybXMvbnNTcG90UHJpY2VTZWxlY3QuaHRtbCd9O2Z1bmN0aW9uIG5zU3BvdFByaWNlU2VsZWN0Q3RybCgpe3ZhciBjdHJsPXRoaXM7Y3RybC5wcmV2aWV3PS0xO2N0cmwucHJpY2VzPW5ldyBBcnJheSg0KTtjdHJsLmNsaWNrPWNsaWNrO2N0cmwuc3R5bGVzPXN0eWxlcztjdHJsLm1vdXNlb3Zlcj1tb3VzZW92ZXI7Y3RybC5tb3VzZW91dD1tb3VzZW91dDtjdHJsLmNsZWFyPWZ1bmN0aW9uKCl7Y3RybC5wcmljZT0wO307ZnVuY3Rpb24gY2xpY2soJGluZGV4KXtjdHJsLnByaWNlPSRpbmRleCsxO307ZnVuY3Rpb24gbW91c2VvdmVyKCRpbmRleCl7Y3RybC5wcmV2aWV3PSRpbmRleDt9O2Z1bmN0aW9uIG1vdXNlb3V0KCRpbmRleCl7Y3RybC5wcmV2aWV3PS0xO307ZnVuY3Rpb24gc3R5bGVzKCRpbmRleCl7cmV0dXJuIHsnZWF0JzokaW5kZXg8Y3RybC5wcmljZSwncHJldmlldyc6JGluZGV4PD1jdHJsLnByZXZpZXd9O307fX07fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNoYXJlZCcpLmRpcmVjdGl2ZSgnbnNTcG90U2VydmljZVNlbGVjdCcsbnNTcG90U2VydmljZVNlbGVjdCk7ZnVuY3Rpb24gbnNTcG90U2VydmljZVNlbGVjdCgpe3JldHVybiB7cmVzdHJpY3Q6J0UnLHNjb3BlOnt9LGJpbmRUb0NvbnRyb2xsZXI6e3Nwb3Q6Jz0nfSxjb250cm9sbGVyOlsnJHNjb3BlJyxmdW5jdGlvbigkc2NvcGUpe3ZhciBjdHJsPXRoaXM7Y3RybC52YWxpZD1mYWxzZTskc2NvcGUuJHdhdGNoR3JvdXAoWydjdHJsLnNwb3QuZWF0JywnY3RybC5zcG90LmRyaW5rJywnY3RybC5zcG90LmF0dGVuZCddLGZ1bmN0aW9uKHJldFZhbCl7aWYocmV0VmFsWzBdfHxyZXRWYWxbMV18fHJldFZhbFsyXSl7Y3RybC52YWxpZD10cnVlO31lbHNlIHtjdHJsLnZhbGlkPWZhbHNlO319KTt9XSxjb250cm9sbGVyQXM6J2N0cmwnLHRlbXBsYXRlVXJsOidzaGFyZWQvZm9ybXMvbnNTcG90U2VydmljZVNlbGVjdC5odG1sJ307fX0pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zaGFyZWQnKS5kaXJlY3RpdmUoJ25zVW5pcXVlRW1haWwnLG5zVW5pcXVlRW1haWwpO2Z1bmN0aW9uIG5zVW5pcXVlRW1haWwoQkFTRV9BUElfVVJMLCRodHRwLCRxLCR0aW1lb3V0KXtyZXR1cm4ge3Jlc3RyaWN0OidBJyxyZXF1aXJlOlwibmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24gbGluayhzY29wZSxlbGVtLGF0dHJzLG5nTW9kZWwpe25nTW9kZWwuJGFzeW5jVmFsaWRhdG9ycy5lbWFpbGV4aXN0cz1lbWFpbEV4aXN0czt9fTtmdW5jdGlvbiBlbWFpbEV4aXN0cyhtb2RlbFZhbCx2aWV3VmFsKXt2YXIgdmFsPW1vZGVsVmFsfHx2aWV3VmFsO3JldHVybiAkaHR0cC5nZXQoQkFTRV9BUElfVVJMKycvdXNlcnMvZW1haWxleGlzdHMnLHtwYXJhbXM6eydlbWFpbCc6dmFsfX0pLnRoZW4oZnVuY3Rpb24ocmVzcCl7aWYocmVzcC5kYXRhKXtyZXR1cm4gJHEucmVqZWN0KGZhbHNlKTt9ZWxzZSB7cmV0dXJuIHRydWU7fX0pO319bnNVbmlxdWVFbWFpbC4kaW5qZWN0PVsnQkFTRV9BUElfVVJMJywnJGh0dHAnLCckcScsJyR0aW1lb3V0J107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykuZGlyZWN0aXZlKCduc1VuaXF1ZVNwb3QnLG5zVW5pcXVlU3BvdCk7IC8vIFRPRE8gQ2hhbmdpbmcgdGhlIG5hbWUgb2YgY3VycmVudCBzcG90IGJlaW5nIGVkaXRlZC4uLiAvL1xuZnVuY3Rpb24gbnNVbmlxdWVTcG90KEJBU0VfQVBJX1VSTCwkaHR0cCwkcSwkdGltZW91dCl7cmV0dXJuIHtyZXN0cmljdDonQScscmVxdWlyZTpcIm5nTW9kZWxcIixsaW5rOmZ1bmN0aW9uIGxpbmsoc2NvcGUsZWxlbSxhdHRycyxuZ01vZGVsKXtuZ01vZGVsLiRhc3luY1ZhbGlkYXRvcnMuc3BvdEV4aXN0cz1zcG90RXhpc3RzO319O2Z1bmN0aW9uIHNwb3RFeGlzdHMobW9kZWxWYWwsdmlld1ZhbCl7dmFyIHZhbD1tb2RlbFZhbHx8dmlld1ZhbDtyZXR1cm4gJGh0dHAuZ2V0KEJBU0VfQVBJX1VSTCsnL3Nwb3RzL3Nwb3RfZXhpc3RzJyx7cGFyYW1zOntuYW1lOnZhbH19KS50aGVuKGZ1bmN0aW9uKHJlc3Ape3JldHVybiByZXNwLmRhdGE/JHEucmVqZWN0KGZhbHNlKTp0cnVlO30pO319bnNVbmlxdWVTcG90LiRpbmplY3Q9WydCQVNFX0FQSV9VUkwnLCckaHR0cCcsJyRxJywnJHRpbWVvdXQnXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc2hhcmVkJykudmFsdWUoJ3N0YXRlcycse1wiQUxcIjpcIkFsYWJhbWFcIixcIkFLXCI6XCJBbGFza2FcIixcIkFTXCI6XCJBbWVyaWNhbiBTYW1vYVwiLFwiQVpcIjpcIkFyaXpvbmFcIixcIkFSXCI6XCJBcmthbnNhc1wiLFwiQ0FcIjpcIkNhbGlmb3JuaWFcIixcIkNPXCI6XCJDb2xvcmFkb1wiLFwiQ1RcIjpcIkNvbm5lY3RpY3V0XCIsXCJERVwiOlwiRGVsYXdhcmVcIixcIkRDXCI6XCJEaXN0cmljdCBPZiBDb2x1bWJpYVwiLFwiRk1cIjpcIkZlZGVyYXRlZCBTdGF0ZXMgT2YgTWljcm9uZXNpYVwiLFwiRkxcIjpcIkZsb3JpZGFcIixcIkdBXCI6XCJHZW9yZ2lhXCIsXCJHVVwiOlwiR3VhbVwiLFwiSElcIjpcIkhhd2FpaVwiLFwiSURcIjpcIklkYWhvXCIsXCJJTFwiOlwiSWxsaW5vaXNcIixcIklOXCI6XCJJbmRpYW5hXCIsXCJJQVwiOlwiSW93YVwiLFwiS1NcIjpcIkthbnNhc1wiLFwiS1lcIjpcIktlbnR1Y2t5XCIsXCJMQVwiOlwiTG91aXNpYW5hXCIsXCJNRVwiOlwiTWFpbmVcIixcIk1IXCI6XCJNYXJzaGFsbCBJc2xhbmRzXCIsXCJNRFwiOlwiTWFyeWxhbmRcIixcIk1BXCI6XCJNYXNzYWNodXNldHRzXCIsXCJNSVwiOlwiTWljaGlnYW5cIixcIk1OXCI6XCJNaW5uZXNvdGFcIixcIk1TXCI6XCJNaXNzaXNzaXBwaVwiLFwiTU9cIjpcIk1pc3NvdXJpXCIsXCJNVFwiOlwiTW9udGFuYVwiLFwiTkVcIjpcIk5lYnJhc2thXCIsXCJOVlwiOlwiTmV2YWRhXCIsXCJOSFwiOlwiTmV3IEhhbXBzaGlyZVwiLFwiTkpcIjpcIk5ldyBKZXJzZXlcIixcIk5NXCI6XCJOZXcgTWV4aWNvXCIsXCJOWVwiOlwiTmV3IFlvcmtcIixcIk5DXCI6XCJOb3J0aCBDYXJvbGluYVwiLFwiTkRcIjpcIk5vcnRoIERha290YVwiLFwiTVBcIjpcIk5vcnRoZXJuIE1hcmlhbmEgSXNsYW5kc1wiLFwiT0hcIjpcIk9oaW9cIixcIk9LXCI6XCJPa2xhaG9tYVwiLFwiT1JcIjpcIk9yZWdvblwiLFwiUFdcIjpcIlBhbGF1XCIsXCJQQVwiOlwiUGVubnN5bHZhbmlhXCIsXCJQUlwiOlwiUHVlcnRvIFJpY29cIixcIlJJXCI6XCJSaG9kZSBJc2xhbmRcIixcIlNDXCI6XCJTb3V0aCBDYXJvbGluYVwiLFwiU0RcIjpcIlNvdXRoIERha290YVwiLFwiVE5cIjpcIlRlbm5lc3NlZVwiLFwiVFhcIjpcIlRleGFzXCIsXCJVVFwiOlwiVXRhaFwiLFwiVlRcIjpcIlZlcm1vbnRcIixcIlZJXCI6XCJWaXJnaW4gSXNsYW5kc1wiLFwiVkFcIjpcIlZpcmdpbmlhXCIsXCJXQVwiOlwiV2FzaGluZ3RvblwiLFwiV1ZcIjpcIldlc3QgVmlyZ2luaWFcIixcIldJXCI6XCJXaXNjb25zaW5cIixcIldZXCI6XCJXeW9taW5nXCJ9KTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc2hhcmVkJykuZmFjdG9yeSgnTG9jYXRpb25NYW5hZ2VyJyxMb2NhdGlvbk1hbmFnZXIpO2Z1bmN0aW9uIExvY2F0aW9uTWFuYWdlcigkcm9vdFNjb3BlLCRxLCRnZW9sb2NhdGlvbixsb2NhbFN0b3JhZ2VTZXJ2aWNlLHRvYXN0ZXIpe3ZhciBzZWxmPXtpbml0OmluaXQsdXNlcjpudWxsLHNlYXJjaDpudWxsLHJhZGl1czonMScscGVuZGluZzpmYWxzZSxzZXRVc2VyTG9jYXRpb246c2V0VXNlckxvY2F0aW9uLHNldFNlYXJjaDpzZXRTZWFyY2gsc2F2ZTpfc2F2ZSxzZXRTZWFyY2hUb1VzZXI6c2V0U2VhcmNoVG9Vc2VyLGRpc3RhbmNlOmRpc3RhbmNlfTsgLy8gICAgICAgIHZhciBscyA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KCdsb2NhdGlvbnMnKTtcbi8vICAgICAgICBpZihscyAhPT0gbnVsbCl7XG4vLyAgICAgICAgICAgIHNlbGYudXNlciAgID0gbHMudXNlcjtcbi8vICAgICAgICAgICAgc2VsZi5zZWFyY2ggPSBscy5zZWFyY2g7XG4vLyAgICAgICAgICAgIHNlbGYucmFkaXVzID0gbHMucmFkaXVzO1xuLy8gICAgICAgIH1cbi8vICAgICAgICBcbmZ1bmN0aW9uIGluaXQoKXt2YXIgcDtpZighc2VsZi5zZWFyY2gpe2lmKCFzZWxmLnVzZXIpe3A9c2V0VXNlckxvY2F0aW9uKCk7fWVsc2Uge3NlbGYuc2VhcmNoPWFuZ3VsYXIuY29weShzZWxmLnVzZXIpO19zYXZlKCk7fX1yZXR1cm4gJHEud2hlbihwP3A6c2VsZi5zZWFyY2gpO31mdW5jdGlvbiBzZXRVc2VyTG9jYXRpb24oKXtzZWxmLnBlbmRpbmc9dHJ1ZTtyZXR1cm4gJGdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigpLnRoZW4oZnVuY3Rpb24ocG9zKXtzZWxmLnVzZXI9c2VsZi5zZWFyY2g9e2xhdDpwb3MuY29vcmRzLmxhdGl0dWRlLGxuZzpwb3MuY29vcmRzLmxvbmdpdHVkZX07X3NhdmUoKTt9KS5jYXRjaChmdW5jdGlvbihyZXNwKXt0b2FzdGVyLnBvcCgnZXJyb3InLCdVbmFibGUgdG8gZmluZCBjdXJyZW50IGxvY2F0aW9uLicpO30pLmZpbmFsbHkoZnVuY3Rpb24oKXtzZWxmLnBlbmRpbmc9ZmFsc2U7fSk7fWZ1bmN0aW9uIHNldFNlYXJjaChsYXRsbmcpe3NlbGYuc2VhcmNoPWxhdGxuZztfc2F2ZSgpO31mdW5jdGlvbiBzZXRTZWFyY2hUb1VzZXIoKXtjb25zb2xlLmxvZygnc2V0U2VhcmNoVG9Vc2VyJyk7dG9hc3Rlci5wb3AoJ2luZm8nLCdVc2luZyBDdXJyZW50IExvY2F0aW9uJyk7c2VsZi5zZWFyY2g9c2VsZi51c2VyO19zYXZlKCk7cmV0dXJuICRxLndoZW4oc2VsZi5zZWFyY2gpO31mdW5jdGlvbiBkaXN0YW5jZShsYXQsbG9uKXtpZighc2VsZi51c2VyKXJldHVybiBudWxsO3ZhciByYWRsYXQxPU1hdGguUEkqc2VsZi51c2VyLmxhdC8xODAscmFkbGF0Mj1NYXRoLlBJKmxhdC8xODAscmFkbG9uMT1NYXRoLlBJKnNlbGYudXNlci5sbmcvMTgwLHJhZGxvbjI9TWF0aC5QSSpsb24vMTgwLHRoZXRhPXNlbGYudXNlci5sbmctbG9uLHJhZHRoZXRhPU1hdGguUEkqdGhldGEvMTgwO3ZhciBkaXN0PU1hdGguc2luKHJhZGxhdDEpKk1hdGguc2luKHJhZGxhdDIpK01hdGguY29zKHJhZGxhdDEpKk1hdGguY29zKHJhZGxhdDIpKk1hdGguY29zKHJhZHRoZXRhKTtkaXN0PU1hdGguYWNvcyhkaXN0KTtkaXN0PWRpc3QqMTgwL01hdGguUEk7ZGlzdD1kaXN0KjYwKjEuMTUxNTtkaXN0PWRpc3QqMC44Njg0O3JldHVybiBNYXRoLnJvdW5kKGRpc3QqMTAwKS8xMDA7fWZ1bmN0aW9uIF9zYXZlKCl7IC8vICAgICAgICAgICBjb25zb2xlLmxvZygnX3NhdmluZy4uLi4nKTtcbi8vICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldCgnbG9jYXRpb25zJywge1xuLy8gICAgICAgICAgICAgdXNlcjogc2VsZi51c2VyLFxuLy8gICAgICAgICAgICAgc2VhcmNoOiBzZWxmLnNlYXJjaCxcbi8vICAgICAgICAgICAgIHJhZGl1czogc2VsZi5yYWRpdXNcbi8vICAgICAgICAgICB9KTtcbiRyb290U2NvcGUuJGVtaXQoJ2xvY2F0aW9uQ2hhbmdlZCcpO31yZXR1cm4gc2VsZjt9TG9jYXRpb25NYW5hZ2VyLiRpbmplY3Q9Wyckcm9vdFNjb3BlJywnJHEnLCckZ2VvbG9jYXRpb24nLCdsb2NhbFN0b3JhZ2VTZXJ2aWNlJywndG9hc3RlciddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zaGFyZWQnKS5kaXJlY3RpdmUoJ25zTWFwJyxuc01hcCk7ZnVuY3Rpb24gbnNNYXAoTG9jYXRpb25NYW5hZ2VyLE1BUEJPWF9BQ0NFU1NfVE9LRU4sTUFQQk9YX0lEKXtyZXR1cm4ge3Jlc3RyaWN0OidBJyxzY29wZTp7bG9jYXRpb246XCI9bnNNYXBcIn0sbGluazpmdW5jdGlvbiBsaW5rKHNjb3BlLGVsZW1lbnQsYXR0cnMpe0wubWFwYm94LmFjY2Vzc1Rva2VuPU1BUEJPWF9BQ0NFU1NfVE9LRU47dmFyIG1hcD1MLm1hcGJveC5tYXAoZWxlbWVudFswXSxNQVBCT1hfSUQse21heFpvb206MTgsbWluWm9vbToxNCxzY3JvbGxXaGVlbFpvb206ZmFsc2V9KTt2YXIgZjttYXAuc2V0VmlldyhbNDAuNDQxMTE3NSwtNzkuOTk4OTU2M10sMTQpO3Njb3BlLiR3YXRjaCgnbG9jYXRpb24nLGZ1bmN0aW9uKG5ld1ZhbCxvbGRWYWwpe2NvbnNvbGUubG9nKHNjb3BlLmxvY2F0aW9uKTtpZihuZXdWYWwmJm5ld1ZhbC5sYXRpdHVkZSl7ZHJhd01hcCgpO319LHRydWUpO2Z1bmN0aW9uIGRyYXdNYXAoKXt2YXIgdWw9TG9jYXRpb25NYW5hZ2VyLnVzZXI7aWYoZiltYXAucmVtb3ZlTGF5ZXIoZik7Zj1MLm1hcGJveC5mZWF0dXJlTGF5ZXIoe3R5cGU6J0ZlYXR1cmUnLGdlb21ldHJ5Ont0eXBlOidQb2ludCcsY29vcmRpbmF0ZXM6W3Njb3BlLmxvY2F0aW9uLmxvbmdpdHVkZSxzY29wZS5sb2NhdGlvbi5sYXRpdHVkZV19LHByb3BlcnRpZXM6e3RpdGxlOnNjb3BlLmxvY2F0aW9uLm5hbWUsZGVzY3JpcHRpb246c2NvcGUubG9jYXRpb24uYWRkcmVzcywnbWFya2VyLXNpemUnOidtZWRpdW0nLCdtYXJrZXItY29sb3InOicjRkY0REZGJ319KS5hZGRUbyhtYXApO2lmKHVsKXt2YXIgdXNlckxhdExuZz1uZXcgTC5MYXRMbmcodWwubGF0LHVsLmxuZyk7TC5jaXJjbGVNYXJrZXIodXNlckxhdExuZyx7Y29sb3I6J3doaXRlJyxyYWRpdXM6NyxzdHJva2U6dHJ1ZSx3ZWlnaHQ6MixmaWxsQ29sb3I6JyMxYzkzZmInLGZpbGxPcGFjaXR5OjAuOH0pLmFkZFRvKG1hcCk7fW1hcC5zZXRWaWV3KFtzY29wZS5sb2NhdGlvbi5sYXRpdHVkZSxzY29wZS5sb2NhdGlvbi5sb25naXR1ZGVdLDE2KTtmLmVhY2hMYXllcihmdW5jdGlvbihtKXttLm9wZW5Qb3B1cCgpO30pO307fX07fW5zTWFwLiRpbmplY3Q9WydMb2NhdGlvbk1hbmFnZXInLCdNQVBCT1hfQUNDRVNTX1RPS0VOJywnTUFQQk9YX0lEJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNoYXJlZCcpLmRpcmVjdGl2ZSgnbnNNYXBMaXN0Jyxuc01hcExpc3QpO2Z1bmN0aW9uIG5zTWFwTGlzdChMb2NhdGlvbk1hbmFnZXIsTUFQQk9YX0FDQ0VTU19UT0tFTixNQVBCT1hfSUQsJHRpbWVvdXQsZm9jdXNlZCl7cmV0dXJuIHtyZXN0cmljdDonQScsc2NvcGU6e2xvY2F0aW9uczpcIj1uc01hcExpc3RcIixzb3J0OidAJ30sbGluazpsaW5rfTtmdW5jdGlvbiBsaW5rKHNjb3BlLGVsZW0sYXR0cnMpe0wubWFwYm94LmFjY2Vzc1Rva2VuPU1BUEJPWF9BQ0NFU1NfVE9LRU47dmFyIG1hcD1MLm1hcGJveC5tYXAoZWxlbVswXSxNQVBCT1hfSUQse21heFpvb206MTcsbWluWm9vbToxMixzY3JvbGxXaGVlbFpvb206ZmFsc2V9KTt2YXIgYm91bmRzPVtdO3ZhciBtYXJrZXJzPVtdO3Njb3BlLiR3YXRjaENvbGxlY3Rpb24oJ2xvY2F0aW9ucycsZnVuY3Rpb24oKXtkcmF3TWFwKCk7fSk7c2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIExvY2F0aW9uTWFuYWdlci5zZWFyY2g7fSxmdW5jdGlvbigpe2RyYXdNYXAoKTt9KTtzY29wZS4kd2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gZm9jdXNlZC5zcG90O30sZnVuY3Rpb24obmV3VmFsLG9sZFZhbCl7Y2xlYXJNYXJrZXJzKCk7c2V0TWFya2VycygpO2lmKG5ld1ZhbCl7IC8vdmFyIGYgPSBuZXcgTC5MYXRMbmcobmV3VmFsLmxhdGl0dWRlLCBuZXdWYWwubG9uZ2l0dWRlKTtcbi8vbWFwLnBhblRvKGYpO1xufWVsc2UgaWYoYm91bmRzLmxlbmd0aCl7bWFwLmZpdEJvdW5kcyhib3VuZHMse3BhZGRpbmc6WzIwLDIwXX0pO319KTtmdW5jdGlvbiBkcmF3TWFwKCl7dmFyIHVsPUxvY2F0aW9uTWFuYWdlci51c2VyLHNsPUxvY2F0aW9uTWFuYWdlci5zZWFyY2g7Ym91bmRzLmxlbmd0aD0wO2NsZWFyTWFya2VycygpO2lmKHVsKXt2YXIgdXNlckxhdExuZz1uZXcgTC5MYXRMbmcodWwubGF0LHVsLmxuZyk7TC5jaXJjbGVNYXJrZXIodXNlckxhdExuZyx7Y29sb3I6J3doaXRlJyxyYWRpdXM6NyxzdHJva2U6dHJ1ZSx3ZWlnaHQ6MixmaWxsQ29sb3I6JyMxYzkzZmInLGZpbGxPcGFjaXR5OjAuOH0pLmFkZFRvKG1hcCk7aWYodWwubGF0PT09c2wubGF0KXtib3VuZHMucHVzaCh1c2VyTGF0TG5nKTt9fWlmKHNjb3BlLmxvY2F0aW9ucy5sZW5ndGgpe3NldE1hcmtlcnMoKTt9ZWxzZSBpZihzbCl7dmFyIHNlYXJjaExhdExuZz1uZXcgTC5MYXRMbmcoc2wubGF0LHNsLmxuZyk7cmV0dXJuIG1hcC5zZXRWaWV3KHNlYXJjaExhdExuZywxNCk7fWlmKGJvdW5kcy5sZW5ndGgpeyR0aW1lb3V0KGZ1bmN0aW9uKCl7bWFwLmZpdEJvdW5kcyhib3VuZHMse3BhZGRpbmc6WzEwLDEwXX0pOyAvL3sgcGFkZGluZzogWzIwLDIwXX0gXG59LDM1MCk7fX1mdW5jdGlvbiBzZXRNYXJrZXJzKCl7Zm9yKHZhciBrPTAsbD1zY29wZS5sb2NhdGlvbnMubGVuZ3RoO2s8bDtrKyspe3ZhciBpZD1zY29wZS5sb2NhdGlvbnNba10uaWQ7dmFyIGxhdGxuZz1uZXcgTC5MYXRMbmcoc2NvcGUubG9jYXRpb25zW2tdLmxhdGl0dWRlLHNjb3BlLmxvY2F0aW9uc1trXS5sb25naXR1ZGUpO3ZhciBtYXJrZXI9TC5tYXJrZXIobGF0bG5nLHt0aXRsZTpzY29wZS5sb2NhdGlvbnNba10ubmFtZSxpY29uOkwubWFwYm94Lm1hcmtlci5pY29uKHsnbWFya2VyLXNpemUnOidtZWRpdW0nLCdtYXJrZXItc3ltYm9sJzprKzEsJ21hcmtlci1jb2xvcic6bWFya2VyQ29sb3IoaWQpfSksekluZGV4T2Zmc2V0Om1hcmtlckluZGV4KGlkKX0pLmFkZFRvKG1hcCkuYmluZFBvcHVwKCc8c3Ryb25nPicrc2NvcGUubG9jYXRpb25zW2tdLm5hbWUrJzwvc3Ryb25nPjxici8+JytzY29wZS5sb2NhdGlvbnNba10uYWRkcmVzcyx7Y2xvc2VCdXR0b246ZmFsc2V9KS5vbignbW91c2VvdmVyJyxmdW5jdGlvbihlKXt0aGlzLm9wZW5Qb3B1cCgpO30pLm9uKCdtb3VzZW91dCcsZnVuY3Rpb24oZSl7dGhpcy5jbG9zZVBvcHVwKCk7fSk7bWFya2Vycy5wdXNoKG1hcmtlcik7Ym91bmRzLnB1c2gobGF0bG5nKTt9fTtmdW5jdGlvbiBjbGVhck1hcmtlcnMoKXtmb3IodmFyIGk9MCxqPW1hcmtlcnMubGVuZ3RoO2k8ajtpKyspe21hcC5yZW1vdmVMYXllcihtYXJrZXJzW2ldKTt9fTtmdW5jdGlvbiBtYXJrZXJJbmRleChpZCl7cmV0dXJuIGZvY3VzZWQuc3BvdCYmZm9jdXNlZC5zcG90LmlkPT1pZD85OTk5OjA7fWZ1bmN0aW9uIG1hcmtlckNvbG9yKGlkKXtpZihmb2N1c2VkLnNwb3QmJmZvY3VzZWQuc3BvdC5pZD09aWQpe3JldHVybiAnI0ZGNERGRic7fXJldHVybiB7J2VhdCc6JyM0REZGNEQnLCdkcmluayc6JyNGRjRENEQnLCdhdHRlbmQnOicjNEREMkZGJywnJzonIzAwMCd9W3Njb3BlLnNvcnRdO319fW5zTWFwTGlzdC4kaW5qZWN0PVsnTG9jYXRpb25NYW5hZ2VyJywnTUFQQk9YX0FDQ0VTU19UT0tFTicsJ01BUEJPWF9JRCcsJyR0aW1lb3V0JywnZm9jdXNlZCddO30pKCk7IC8vKGZ1bmN0aW9uKCl7XG4vLyAgJ3VzZSBzdHJpY3QnOyAgICBcbi8vICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc2hhcmVkJylcbi8vICAgIC5kaXJlY3RpdmUoJ25zTWFwTGlzdCcsIG5zTWFwTGlzdCk7XG4vLyAgICBcbi8vICBmdW5jdGlvbiBuc01hcExpc3QoTG9jYXRpb25NYW5hZ2VyLCBNQVBCT1hfQUNDRVNTX1RPS0VOLCBNQVBCT1hfSUQsICR0aW1lb3V0LCBmb2N1c2VkKXtcbi8vICAgIHJldHVybiB7XG4vLyAgICAgIHJlc3RyaWN0OiAnQScsXG4vLyAgICAgIHNjb3BlOiB7XG4vLyAgICAgICAgbG9jYXRpb25zOiBcIj1uc01hcExpc3RcIixcbi8vICAgICAgICBzb3J0OiAnQCdcbi8vICAgICAgfSxcbi8vICAgICAgbGluazogbGluayBcbi8vICAgIH1cbi8vICAgIFxuLy8gICAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHsgICBcbi8vICAgICAgTC5tYXBib3guYWNjZXNzVG9rZW4gPSBNQVBCT1hfQUNDRVNTX1RPS0VOO1xuLy8gICAgICB2YXIgbWFwID0gTC5tYXBib3gubWFwKGVsZW1lbnRbMF0sICdyb3dsYW5kcnVkb2xmLmY3ZmU3YjQzJywge21heFpvb206IDE3LCBtaW5ab29tOiAxMn0pO1xuLy8gICAgICB2YXIgbnNGZWF0dXJlcyA9IEwubWFwYm94LmZlYXR1cmVMYXllcigpLmFkZFRvKG1hcCk7XG4vLyAgICAgIHZhciBnZW9Kc29uID0ge1xuLy8gICAgICAgICAgICB0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLFxuLy8gICAgICAgICAgICBmZWF0dXJlczogW11cbi8vICAgICAgfTsgICAgXG4vLyAgICAgIHZhciBib3VuZHMgPSBbXTtcbi8vICAgICAgbnNGZWF0dXJlcy5vbignbW91c2VvdmVyJywgZnVuY3Rpb24oZSkgeyBlLmxheWVyLm9wZW5Qb3B1cCgpOyB9KTtcbi8vICAgICAgbnNGZWF0dXJlcy5vbignbW91c2VvdXQnLCBmdW5jdGlvbihlKSB7IGUubGF5ZXIuY2xvc2VQb3B1cCgpOyB9KTsgIFxuLy8gICAgXG4vLyAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbigpe1xuLy8gICAgICAgICAgcmV0dXJuIExvY2F0aW9uTWFuYWdlci5zZWFyY2g7XG4vLyAgICAgIH0sIGZ1bmN0aW9uKCl7XG4vLyAgICAgICAgICBkcmF3TWFwKCk7XG4vLyAgICAgIH0pICAgIFxuLy8gICAgICAgIFxuLy8gICAgICBzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCdsb2NhdGlvbnMnLCBmdW5jdGlvbigpe1xuLy8gICAgICAgICAgZHJhd01hcCgpO1xuLy8gICAgICB9KTtcbi8vICAgICAgICBcbi8vICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCl7XG4vLyAgICAgICAgICAgIHJldHVybiBmb2N1c2VkLnNwb3Q7ICAgIFxuLy8gICAgICB9LCBmdW5jdGlvbihuZXdWYWwsIG9sZFZhbCl7XG4vLyAgICAgICAgICAgaWYobmV3VmFsKXtcbi8vICAgICAgICAgICAgICB2YXIgZiA9IG5ldyBMLkxhdExuZyhuZXdWYWwubGF0aXR1ZGUsIG5ld1ZhbC5sb25naXR1ZGUpO1xuLy8gICAgICAgICAgICAgIG5zRmVhdHVyZXMuc2V0R2VvSlNPTihhc0dlb0pzb24oKSk7XG4vLyAgICAgICAgICAgICAgbWFwLnBhblRvKGYpOyBcbi8vICAgICAgICAgICB9ZWxzZXtcbi8vICAgICAgICAgICAgICBuc0ZlYXR1cmVzLnNldEdlb0pTT04oYXNHZW9Kc29uKCkpOyAgIFxuLy8gICAgICAgICAgICAgIGlmKGJvdW5kcy5sZW5ndGgpIG1hcC5maXRCb3VuZHMoYm91bmRzLCB7IHBhZGRpbmc6IFsyMCwyMF19KTsgXG4vLyAgICAgICAgICAgfSAgICAgXG4vLyAgICAgIH0pO1xuLy8gICAgICAgIFxuLy8gICAgICBmdW5jdGlvbiBkcmF3TWFwKCl7XG4vLyAgICAgICAgIHZhciB1bCA9IExvY2F0aW9uTWFuYWdlci51c2VyLFxuLy8gICAgICAgICAgICAgc2wgPSBMb2NhdGlvbk1hbmFnZXIuc2VhcmNoO1xuLy8gICAgICAgICBib3VuZHMubGVuZ3RoID0gMDtcbi8vICAgICAgICAgaWYodWwpe1xuLy8gICAgICAgICAgICB2YXIgdXNlckxhdExuZyA9IG5ldyBMLkxhdExuZyh1bC5sYXQsIHVsLmxuZyk7XG4vLyAgICAgICAgICAgIEwuY2lyY2xlTWFya2VyKHVzZXJMYXRMbmcsIHsgY29sb3I6ICcjMWM5M2ZiJywgcmFkaXVzOiA3LCBmaWxsT3BhY2l0eTogMC44IH0pLmFkZFRvKG1hcCk7XG4vLyAgICAgICAgICAgIGlmKHVsLmxhdCA9PT0gc2wubGF0KXtcbi8vICAgICAgICAgICAgICAgIGJvdW5kcy5wdXNoKHVzZXJMYXRMbmcpO1xuLy8gICAgICAgICAgICB9XG4vLyAgICAgICAgIH0gXG4vLyAgICAgICAgICBcbi8vICAgICAgICAgbnNGZWF0dXJlcy5zZXRHZW9KU09OKGFzR2VvSnNvbigpKTsgIFxuLy8gICAgICAgICBpZihzY29wZS5sb2NhdGlvbnMubGVuZ3RoKXtcbi8vICAgICAgICAgICAgIGJvdW5kcy5wdXNoKG5zRmVhdHVyZXMuZ2V0Qm91bmRzKCkpO1xuLy8gICAgICAgICB9ZWxzZSBpZihzbCl7XG4vLyAgICAgICAgICAgICB2YXIgc2VhcmNoTGF0TG5nID0gbmV3IEwuTGF0TG5nKHNsLmxhdCwgc2wubG5nKTtcbi8vICAgICAgICAgICAgIHJldHVybiBtYXAuc2V0VmlldyhzZWFyY2hMYXRMbmcsIDE0KTtcbi8vICAgICAgICAgfVxuLy8gICAgICAgICAgXG4vLyAgICAgICAgaWYoYm91bmRzLmxlbmd0aCl7XG4vLyAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4vLyAgICAgICAgICAgICAgIG1hcC5maXRCb3VuZHMoYm91bmRzLCB7IHBhZGRpbmc6IFsyMCwyMF19KTsgXG4vLyAgICAgICAgICAgIH0sMzUwKTtcbi8vICAgICAgICB9XG4vLyAgICAgICAgIFxuLy8gICAgICB9XG4vLyAgICAgICAgXG4vLyAgICAgIGZ1bmN0aW9uIGFzR2VvSnNvbigpe1xuLy8gICAgICAgICAgZ2VvSnNvbi5mZWF0dXJlcy5sZW5ndGggPSAwO1xuLy8gICAgICAgICAgZm9yKHZhciBpID0gMCwgbGVuID0gc2NvcGUubG9jYXRpb25zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKXtcbi8vICAgICAgICAgICAgICBnZW9Kc29uLmZlYXR1cmVzLnB1c2goe1xuLy8gICAgICAgICAgICAgICAgICB0eXBlOiAnRmVhdHVyZScsXG4vLyAgICAgICAgICAgICAgICAgIGdlb21ldHJ5OiB7XG4vLyAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUG9pbnQnLFxuLy8gICAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IFtzY29wZS5sb2NhdGlvbnNbaV0ubG9uZ2l0dWRlLCBzY29wZS5sb2NhdGlvbnNbaV0ubGF0aXR1ZGVdXG4vLyAgICAgICAgICAgICAgICAgIH0sXG4vLyAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbi8vICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBzY29wZS5sb2NhdGlvbnNbaV0ubmFtZSxcbi8vICAgICAgICAgICAgICAgICAgICAgICdtYXJrZXItY29sb3InOiBtYXJrZXJDb2xvcihzY29wZS5sb2NhdGlvbnNbaV0uaWQpLFxuLy8gICAgICAgICAgICAgICAgICAgICAgJ21hcmtlci1zaXplJzogJ21lZGl1bScsXG4vLyAgICAgICAgICAgICAgICAgICAgICAnbWFya2VyLXN5bWJvbCc6IChpICsgMSlcbi8vICAgICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgIH0pO1xuLy8gICAgICAgICAgfVxuLy8gICAgICAgICAgcmV0dXJuIGdlb0pzb247IFxuLy8gICAgICB9O1xuLy8gICAgICAgIFxuLy8gICAgICBmdW5jdGlvbiBtYXJrZXJDb2xvcihpZCl7XG4vLyAgICAgICAgICBpZihmb2N1c2VkLnNwb3QgJiYgZm9jdXNlZC5zcG90LmlkID09IGlkKXtcbi8vICAgICAgICAgICAgICByZXR1cm4gJyNGRjRERkYnO1xuLy8gICAgICAgICAgfVxuLy8gICAgICAgICAgcmV0dXJuIHtcbi8vICAgICAgICAgICAgICAnZWF0JzogJyM0REZGNEQnLFxuLy8gICAgICAgICAgICAgICdkcmluayc6ICcjRkY0RDREJyxcbi8vICAgICAgICAgICAgICAnYXR0ZW5kJzogJyM0REQyRkYnLCBcbi8vICAgICAgICAgICAgICAnJzogJyMwMDAnXG4vLyAgICAgICAgICB9W3Njb3BlLnNvcnRdO1xuLy8gICAgICB9XG4vLyAgICAgICAgXG4vLyAgICB9XG4vLyAgICAgIFxuLy8gIH1cbi8vICAgIFxuLy8gIG5zTWFwTGlzdC4kaW5qZWN0ID1bJ0xvY2F0aW9uTWFuYWdlcicsICdNQVBCT1hfQUNDRVNTX1RPS0VOJywgJ01BUEJPWF9JRCcsICckdGltZW91dCcsICdmb2N1c2VkJ107XG4vLyAgICBcbi8vfSkoKTsgICBcbihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5jb250cm9sbGVyKCdjYXRlZ29yaWVzT3ZlcmxheScsY2F0ZWdvcmllc092ZXJsYXkpO2Z1bmN0aW9uIGNhdGVnb3JpZXNPdmVybGF5KENhdGVnb3J5LGZpbHRlclBhcmFtcyl7dmFyIGN0cmw9dGhpcztjdHJsLmNhdGVnb3J5PUNhdGVnb3J5O2N0cmwuZmlsdGVyUGFyYW1zPWZpbHRlclBhcmFtczt9Y2F0ZWdvcmllc092ZXJsYXkuJGluamVjdD1bJ0NhdGVnb3J5JywnZmlsdGVyUGFyYW1zJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLm92ZXJsYXknKS5kaXJlY3RpdmUoJ25zQ2F0ZWdvcmllc092ZXJsYXlCdG4nLG5zQ2F0ZWdvcmllc092ZXJsYXlCdG4pO2Z1bmN0aW9uIG5zQ2F0ZWdvcmllc092ZXJsYXlCdG4oKXtyZXR1cm4ge3Jlc3RyaWN0OidFJyxzY29wZTp7fSxiaW5kVG9Db250cm9sbGVyOntzb3J0Oic9J30sY29udHJvbGxlcjpbJ292ZXJsYXknLCdmaWx0ZXJQYXJhbXMnLGZ1bmN0aW9uKG92ZXJsYXksZmlsdGVyUGFyYW1zKXt2YXIgY3RybD10aGlzO2N0cmwub3Blbk92ZXJsYXk9b3Blbk92ZXJsYXk7Y3RybC5maWx0ZXJQYXJhbXM9ZmlsdGVyUGFyYW1zO2Z1bmN0aW9uIG9wZW5PdmVybGF5KCl7dmFyIHA9b3ZlcmxheS5vcGVuKCdjb21wb25lbnRzL292ZXJsYXkvY2F0ZWdvcmllcy8nK2N0cmwuc29ydCsnT3ZlcmxheS5odG1sJyk7cC50aGVuKGZ1bmN0aW9uKHJlc3Ape30pO307fV0sY29udHJvbGxlckFzOidjdHJsJyx0ZW1wbGF0ZTpcIjxidXR0b24gY2xhc3M9J25zLWZpbHRlci1idG4ge3tjdHJsLnNvcnR9fS10b2dnbGUtYnRuJyBuZy1jbGljaz0nY3RybC5vcGVuT3ZlcmxheSgpJz5cIitcIiBGZWF0dXJlcyBcIitcIjxzcGFuIGNsYXNzPSducy1maWx0ZXItY291bnQge3tjdHJsLnNvcnR9fScgbmctc2hvdz0nY3RybC5maWx0ZXJQYXJhbXNbY3RybC5zb3J0XS5sZW5ndGgnPiB7eyBjdHJsLmZpbHRlclBhcmFtc1tjdHJsLnNvcnRdLmxlbmd0aCB9fTwvc3Bhbj5cIitcIjwvYnV0dG9uPlwifTt9fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLm92ZXJsYXknKS5jb250cm9sbGVyKCdmZWF0dXJlc092ZXJsYXknLGZlYXR1cmVzT3ZlcmxheSk7ZnVuY3Rpb24gZmVhdHVyZXNPdmVybGF5KEZlYXR1cmUsZmlsdGVyUGFyYW1zKXt2YXIgY3RybD10aGlzO2N0cmwuZmVhdHVyZT1GZWF0dXJlO2N0cmwuZmlsdGVyUGFyYW1zPWZpbHRlclBhcmFtczt9ZmVhdHVyZXNPdmVybGF5LiRpbmplY3Q9WydGZWF0dXJlJywnZmlsdGVyUGFyYW1zJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLm92ZXJsYXknKS5kaXJlY3RpdmUoJ25zRmVhdHVyZXNPdmVybGF5QnRuJyxuc0ZlYXR1cmVzT3ZlcmxheUJ0bik7ZnVuY3Rpb24gbnNGZWF0dXJlc092ZXJsYXlCdG4oKXtyZXR1cm4ge3Jlc3RyaWN0OidFJyxzY29wZTp7fSxjb250cm9sbGVyOlsnb3ZlcmxheScsJ2ZpbHRlclBhcmFtcycsZnVuY3Rpb24ob3ZlcmxheSxmaWx0ZXJQYXJhbXMpe3ZhciBjdHJsPXRoaXM7Y3RybC5vcGVuT3ZlcmxheT1vcGVuT3ZlcmxheTtjdHJsLmZpbHRlclBhcmFtcz1maWx0ZXJQYXJhbXM7ZnVuY3Rpb24gb3Blbk92ZXJsYXkoKXt2YXIgcD1vdmVybGF5Lm9wZW4oJ2NvbXBvbmVudHMvb3ZlcmxheS9mZWF0dXJlcy9mZWF0dXJlc092ZXJsYXkuaHRtbCcpO3AudGhlbihmdW5jdGlvbihyZXNwKXt9KTt9fV0sY29udHJvbGxlckFzOidjdHJsJyx0ZW1wbGF0ZTpcIjxidXR0b24gY2xhc3M9J25zLWZpbHRlci1idG4gZmVhdHVyZS10b2dnbGUtYnRuJyBuZy1jbGljaz0nY3RybC5vcGVuT3ZlcmxheSgpJz5cIitcIiBGZWF0dXJlcyBcIitcIjxzcGFuIGNsYXNzPSducy1maWx0ZXItY291bnQgbG91ZCcgbmctc2hvdz0nY3RybC5maWx0ZXJQYXJhbXMuZmVhdHVyZXMubGVuZ3RoJz4ge3tjdHJsLmZpbHRlclBhcmFtcy5mZWF0dXJlcy5sZW5ndGggfX08L3NwYW4+XCIrXCI8L2J1dHRvbj5cIn07fX0pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5vdmVybGF5JykuY29udHJvbGxlcignbG9jYXRpb25TZXR0aW5nc092ZXJsYXknLGxvY2F0aW9uU2V0dGluZ3NPdmVybGF5KTtmdW5jdGlvbiBsb2NhdGlvblNldHRpbmdzT3ZlcmxheSgkc2NvcGUsTG9jYXRpb25NYW5hZ2VyKXt2YXIgY3RybD10aGlzO2N0cmwubG9jYXRpb25NYW5hZ2VyPUxvY2F0aW9uTWFuYWdlcjtjdHJsLmFkZHJlc3M9TG9jYXRpb25NYW5hZ2VyLnNlYXJjaCYmTG9jYXRpb25NYW5hZ2VyLnNlYXJjaC5hZGRyZXNzP0xvY2F0aW9uTWFuYWdlci5zZWFyY2guYWRkcmVzczonJztjdHJsLlBBQ0xvY2F0aW9uPW51bGw7Y3RybC5zbGlkZXJPcHRpb25zPXtmbG9vcjoxLGNlaWw6OCxzaG93U2VsZWN0aW9uQmFyOnRydWUsc2hvd1RpY2tzOnRydWUsb25FbmQ6ZnVuY3Rpb24gb25FbmQoKXtyZXR1cm4gTG9jYXRpb25NYW5hZ2VyLnNhdmUoKTt9LHRyYW5zbGF0ZTpmdW5jdGlvbiB0cmFuc2xhdGUodmFsKXtyZXR1cm4gdmFsKycgbWknO30sZ2V0U2VsZWN0aW9uQmFyQ29sb3I6ZnVuY3Rpb24gZ2V0U2VsZWN0aW9uQmFyQ29sb3IodmFsdWUpe3JldHVybiAnI0IyMDBCMic7fSxnZXRQb2ludGVyQ29sb3I6ZnVuY3Rpb24gZ2V0UG9pbnRlckNvbG9yKHZhbHVlKXtyZXR1cm4gJyNGRjRERkYnO319OyRzY29wZS4kd2F0Y2goJ2xvY2F0aW9uQ3RybC5QQUNMb2NhdGlvbicsZnVuY3Rpb24odmFsKXtpZih2YWwmJnZhbC5nZW9tZXRyeSl7cmV0dXJuIHNlYXJjaFBBQ0xvY2F0aW9uKCk7fTt9KTtmdW5jdGlvbiBzZWFyY2hQQUNMb2NhdGlvbigpe0xvY2F0aW9uTWFuYWdlci5zZXRTZWFyY2goe2xhdDpjdHJsLlBBQ0xvY2F0aW9uLmdlb21ldHJ5LmxvY2F0aW9uLmxhdCgpLGxuZzpjdHJsLlBBQ0xvY2F0aW9uLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpLGFkZHJlc3M6Y3RybC5QQUNMb2NhdGlvbi5mb3JtYXR0ZWRfYWRkcmVzc30pO2N0cmwuYWRkcmVzcz1jdHJsLlBBQ0xvY2F0aW9uLmZvcm1hdHRlZF9hZGRyZXNzO307fWxvY2F0aW9uU2V0dGluZ3NPdmVybGF5LiRpbmplY3Q9Wyckc2NvcGUnLCdMb2NhdGlvbk1hbmFnZXInXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAub3ZlcmxheScpLmRpcmVjdGl2ZSgnbnNMb2NhdGlvbk92ZXJsYXlCdG4nLG5zTG9jYXRpb25PdmVybGF5QnRuKTtmdW5jdGlvbiBuc0xvY2F0aW9uT3ZlcmxheUJ0bigpe3JldHVybiB7cmVzdHJpY3Q6J0UnLHNjb3BlOnt9LGNvbnRyb2xsZXI6WydvdmVybGF5JywnTG9jYXRpb25NYW5hZ2VyJywnJHNjb3BlJywnJHRpbWVvdXQnLGZ1bmN0aW9uKG92ZXJsYXksTG9jYXRpb25NYW5hZ2VyLCRzY29wZSwkdGltZW91dCl7dmFyIGN0cmw9dGhpcztjdHJsLm9wZW5PdmVybGF5PW9wZW5PdmVybGF5O2N0cmwubG9jYXRpb25NYW5hZ2VyPUxvY2F0aW9uTWFuYWdlcjtmdW5jdGlvbiBvcGVuT3ZlcmxheSgpe3ZhciBwPW92ZXJsYXkub3BlbignY29tcG9uZW50cy9vdmVybGF5L2xvY2F0aW9uL2xvY2F0aW9uU2V0dGluZ3NPdmVybGF5Lmh0bWwnKTtyZWZyZXNoU2xpZGVyKCk7cC50aGVuKGZ1bmN0aW9uKHJlc3Ape2NvbnNvbGUubG9nKHJlc3ApO30pLmZpbmFsbHkoZnVuY3Rpb24oKXtyZWZyZXNoU2xpZGVyKCk7fSk7fWZ1bmN0aW9uIHJlZnJlc2hTbGlkZXIoKXskdGltZW91dChmdW5jdGlvbigpeyRzY29wZS4kYnJvYWRjYXN0KCdyelNsaWRlckZvcmNlUmVuZGVyJyk7fSk7fTt9XSxjb250cm9sbGVyQXM6J2N0cmwnLHRlbXBsYXRlOid7e2N0cmwubG9jYXRpb25NYW5hZ2VyLnNlYXJjaC5hZGRyZXNzfX0gPGJ1dHRvbiBjbGFzcz1cIm5zLWZpbHRlci1idG4gbG9jYXRpb24tdG9nZ2xlLWJ0blwiIG5nLWNsaWNrPVwiY3RybC5vcGVuT3ZlcmxheSgpXCI+IExvY2F0aW9uIDwvYnV0dG9uPid9O319KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAub3ZlcmxheScpLmNvbnRyb2xsZXIoJ25hdk92ZXJsYXknLG5hdk92ZXJsYXkpO2Z1bmN0aW9uIG5hdk92ZXJsYXkoJHJvb3RTY29wZSxvdmVybGF5LHNwb3RTZXJ2aWNlKXt2YXIgY3RybD10aGlzO2N0cmwub3ZlcmxheT1vdmVybGF5O2N0cmwuc2lnbk91dD1zaWduT3V0O2N0cmwuc3BvdFNlcnZpY2U9c3BvdFNlcnZpY2U7Y3RybC51c2VyU3BvdHM9W107Y3RybC51cGRhdGU9dXBkYXRlO2luaXQoKTtmdW5jdGlvbiBpbml0KCl7aWYoISRyb290U2NvcGUudXNlcnx8ISRyb290U2NvcGUudXNlci5zaWduZWRJbilyZXR1cm47Y3RybC5zcG90U2VydmljZS51c2VySW5kZXgoKS50aGVuKGZ1bmN0aW9uKHJlc3Ape2N0cmwudXNlclNwb3RzPXJlc3A7fSk7fTtmdW5jdGlvbiBzaWduT3V0KCl7JHJvb3RTY29wZS5zaWduT3V0KCk7cmV0dXJuIG92ZXJsYXkucmVzb2x2ZSh7c3RhdGU6J2hvbWUnfSk7fWZ1bmN0aW9uIHVwZGF0ZShzcG90KXtjdHJsLnNwb3RTZXJ2aWNlLnNwb3Q9c3BvdDtyZXR1cm4gb3ZlcmxheS5yZXNvbHZlKHtzdGF0ZTonZWRpdC5hYm91dCd9KTt9fW5hdk92ZXJsYXkuJGluamVjdD1bJyRyb290U2NvcGUnLCdvdmVybGF5Jywnc3BvdFNlcnZpY2UnXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5jb250cm9sbGVyKCdzZWFyY2hPdmVybGF5JyxzZWFyY2hPdmVybGF5KTtmdW5jdGlvbiBzZWFyY2hPdmVybGF5KG92ZXJsYXksc3BvdFNlcnZpY2UsZmlsdGVyUGFyYW1zKXt2YXIgY3RybD10aGlzO2N0cmwub3ZlcmxheT1vdmVybGF5O2N0cmwuc3BvdFNlcnZpY2U9c3BvdFNlcnZpY2U7Y3RybC5maWx0ZXJQYXJhbXM9ZmlsdGVyUGFyYW1zO2N0cmwuc3BvdHM9W107Y3RybC5zZWFyY2hOYW1lPXNlYXJjaE5hbWU7Y3RybC5wbGFjZWhvbGRlcj1wbGFjZWhvbGRlcjtjdHJsLnE9Jyc7ZnVuY3Rpb24gc2VhcmNoTmFtZSgpe2N0cmwuc3BvdFNlcnZpY2Uuc2VhcmNoKGN0cmwuZmlsdGVyUGFyYW1zLnEpLnRoZW4oZnVuY3Rpb24ocmVzcCl7Y3RybC5zcG90cz1yZXNwO30pO307ZnVuY3Rpb24gcGxhY2Vob2xkZXIob2JqKXt2YXIgZmlsZT0nLyc7aWYob2JqLmVhdHx8b2JqLmRyaW5rfHxvYmouYXR0ZW5kKXtpZihvYmouZWF0KWZpbGUrPSdlJztpZihvYmouZHJpbmspZmlsZSs9J2QnO2lmKG9iai5hdHRlbmQpZmlsZSs9J2EnO31lbHNlIHtmaWxlKz0nYSc7fWZpbGUrPScucG5nJztyZXR1cm4gZmlsZTt9O307c2VhcmNoT3ZlcmxheS4kaW5qZWN0PVsnb3ZlcmxheScsJ3Nwb3RTZXJ2aWNlJywnZmlsdGVyUGFyYW1zJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykuY29udHJvbGxlcignYWJvdXQnLGFib3V0KTtmdW5jdGlvbiBhYm91dChzcG90LG9wZW5Ob3csaW1hZ2VTZXJ2aWNlLEZlYXR1cmUpeyAvLyBGZWF0dXJlIC8vIGltYWdlU2VydmljZS4uLlxudmFyIGN0cmw9dGhpcztjdHJsLmltYWdlU2VydmljZT1pbWFnZVNlcnZpY2UuaW5pdCh7dXJpOidzcG90cycsaW1hZ2VhYmxlX2lkOnNwb3QuaWR9KTtjdHJsLmltYWdlU2VydmljZS5sb2FkSW1hZ2VzKCk7Y3RybC5vcGVuTm93PW9wZW5Ob3c7RmVhdHVyZS5pbmRleCgpLnRoZW4oZnVuY3Rpb24ocmVzcCl7Y3RybC5mZWF0dXJlcz1yZXNwLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4gc3BvdC5mZWF0dXJlX2lkcy5pbmRleE9mKG4uaWQpPi0xO30pO30pO31hYm91dC4kaW5qZWN0PVsnc3BvdCcsJ29wZW5Ob3cnLCdpbWFnZVNlcnZpY2UnLCdGZWF0dXJlJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykuY29udHJvbGxlcignZWRpdEFib3V0JyxlZGl0QWJvdXQpO2Z1bmN0aW9uIGVkaXRBYm91dChzcG90LENhdGVnb3J5LEZlYXR1cmUpe3ZhciBjdHJsPXRoaXM7Y3RybC5jYXRlZ29yeT1DYXRlZ29yeTtjdHJsLmZlYXR1cmU9RmVhdHVyZTtjdHJsLnByaWNlcz1beyd2YWwnOjAsJ2xhYmVsJzonTi9BJ30seyd2YWwnOjEsJ2xhYmVsJzonJCd9LHsndmFsJzoyLCdsYWJlbCc6JyQkJ30seyd2YWwnOjMsJ2xhYmVsJzonJCQkJ30seyd2YWwnOjQsJ2xhYmVsJzonJCQkJCd9XTt9O2VkaXRBYm91dC4kaW5qZWN0PVsnc3BvdCcsJ0NhdGVnb3J5JywnRmVhdHVyZSddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpLmNvbnRyb2xsZXIoJ2VkaXRTcG90JyxlZGl0U3BvdCk7ZnVuY3Rpb24gZWRpdFNwb3Qoc3BvdFNlcnZpY2UsJHN0YXRlLHN0YXRlcyl7dmFyIHZtPXRoaXM7dm0uc3BvdFNlcnZpY2U9c3BvdFNlcnZpY2U7dm0udXBkYXRlPXVwZGF0ZTt2bS5kZXN0cm95PWRlc3Ryb3k7dm0uc3RhdGVzPXN0YXRlcztmdW5jdGlvbiB1cGRhdGUoZm9ybSl7aWYoZm9ybS4kaW52YWxpZClyZXR1cm47dm0uc3BvdFNlcnZpY2UudXBkYXRlKCk7fTtmdW5jdGlvbiBkZXN0cm95KCl7dm0uc3BvdFNlcnZpY2UuZGVzdHJveSgpLnRoZW4oZnVuY3Rpb24ocmVzcCl7JHN0YXRlLmdvKCdidXNpbmVzcycpO30pO307fTtlZGl0U3BvdC4kaW5qZWN0PVsnc3BvdFNlcnZpY2UnLCckc3RhdGUnLCdzdGF0ZXMnXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS52YWx1ZSgnZGF5cycsezA6J1N1bicsMTonTW9uJywyOidUdWUnLDM6J1dlZCcsNDonVGh1Jyw1OidGcmknLDY6J1NhdCd9KTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5jb250cm9sbGVyKCdlZGl0RXZlbnRzJyxlZGl0RXZlbnRzKTtmdW5jdGlvbiBlZGl0RXZlbnRzKGV2ZW50U2VydmljZSwkdWliTW9kYWwpe3ZhciBjdHJsPXRoaXM7dmFyIGRhdGU9bmV3IERhdGUoKTtjdHJsLmV2ZW50U2VydmljZT1ldmVudFNlcnZpY2U7Y3RybC5ldmVudFNlcnZpY2UubG9hZEV2ZW50cygpO2N0cmwub3Blbk1vZGFsPW9wZW5Nb2RhbDtjdHJsLmRlc3Ryb3k9ZGVzdHJveTtmdW5jdGlvbiBvcGVuTW9kYWwoZXZlbnQpe2lmKGV2ZW50KXtldmVudC5zdGFydF9kYXRlPW5ldyBEYXRlKGV2ZW50LnN0YXJ0X2RhdGUpO2V2ZW50LnN0YXJ0X3RpbWU9bmV3IERhdGUoZXZlbnQuc3RhcnRfdGltZSk7aWYoZXZlbnQuZW5kX2RhdGUpZXZlbnQuZW5kX2RhdGU9bmV3IERhdGUoZXZlbnQuZW5kX2RhdGUpO2lmKGV2ZW50LmVuZF90aW1lKWV2ZW50LmVuZF90aW1lPW5ldyBEYXRlKGV2ZW50LmVuZF90aW1lKTtjdHJsLmV2ZW50U2VydmljZS5ldmVudD1ldmVudDt9ZWxzZSB7dmFyIG5vdz1uZXcgRGF0ZSgpO2N0cmwuZXZlbnRTZXJ2aWNlLmV2ZW50PXtzdGFydF9kYXRlOm5vdyxzdGFydF90aW1lOm51bGwsZW50cnk6J2ZyZWUnLGFnZTonYWxsIGFnZXMnfTt9dmFyIG1pPSR1aWJNb2RhbC5vcGVuKHtjb250cm9sbGVyOidldmVudE1vZGFsJyxjb250cm9sbGVyQXM6J2V2ZW50Q3RybCcsdGVtcGxhdGVVcmw6J2NvbXBvbmVudHMvc3BvdHMvZXZlbnRzL2V2ZW50TW9kYWwuaHRtbCcsc2l6ZTonbWQnfSk7bWkucmVzdWx0LnRoZW4oZnVuY3Rpb24oKXtjdHJsLmV2ZW50U2VydmljZS5ldmVudD1udWxsO30pO307ZnVuY3Rpb24gZGVzdHJveShldmVudCl7Y3RybC5ldmVudFNlcnZpY2UuZXZlbnQ9ZXZlbnQ7Y3RybC5ldmVudFNlcnZpY2UuZGVzdHJveSgpO307fTtlZGl0RXZlbnRzLiRpbmplY3Q9WydldmVudFNlcnZpY2UnLCckdWliTW9kYWwnXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5mYWN0b3J5KCdFdmVudCcsRXZlbnQpO2Z1bmN0aW9uIEV2ZW50KEJBU0VfQVBJX1VSTCwkcmVzb3VyY2Upe3ZhciBuZXN0ZWRVcmw9QkFTRV9BUElfVVJMKycvc3BvdHMvOnNwb3RfaWQvZXZlbnRzJztyZXR1cm4gJHJlc291cmNlKEJBU0VfQVBJX1VSTCsnL2V2ZW50cy86aWQnLHtpZDonQGlkJyxzcG90X2lkOidAc3BvdF9pZCd9LHtpbmRleDp7bWV0aG9kOidHRVQnLHVybDpuZXN0ZWRVcmwsaXNBcnJheTp0cnVlfSxjcmVhdGU6e21ldGhvZDonUE9TVCcsdXJsOm5lc3RlZFVybH0sdXBkYXRlOnttZXRob2Q6J1BVVCd9fSk7fTtFdmVudC4kaW5qZWN0PVsnQkFTRV9BUElfVVJMJywnJHJlc291cmNlJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykuY29udHJvbGxlcignZXZlbnRNb2RhbCcsZXZlbnRNb2RhbCk7ZnVuY3Rpb24gZXZlbnRNb2RhbCgkdWliTW9kYWxJbnN0YW5jZSxldmVudFNlcnZpY2UsQ2F0ZWdvcnkpe3ZhciBjdHJsPXRoaXM7Y3RybC5ldmVudFNlcnZpY2U9ZXZlbnRTZXJ2aWNlO2N0cmwuY2F0ZWdvcnk9Q2F0ZWdvcnk7Y3RybC5zYXZlPXNhdmU7Y3RybC5jYW5jZWw9Y2FuY2VsO2N0cmwubWluRGF0ZT1uZXcgRGF0ZSgpO2N0cmwubWF4RGF0ZT1uZXcgRGF0ZSgpLnNldERhdGUobmV3IERhdGUoKS5nZXREYXRlKCkrMTgwKTtmdW5jdGlvbiBzYXZlKCl7ZXZlbnRTZXJ2aWNlLnNhdmUoKS50aGVuKGZ1bmN0aW9uKHJlc3Ape3JldHVybiAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO30pO307ZnVuY3Rpb24gY2FuY2VsKCl7cmV0dXJuICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MobnVsbCk7fTt9O2V2ZW50TW9kYWwuJGluamVjdD1bJyR1aWJNb2RhbEluc3RhbmNlJywnZXZlbnRTZXJ2aWNlJywnQ2F0ZWdvcnknXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5mYWN0b3J5KCdldmVudFNlcnZpY2UnLGV2ZW50U2VydmljZSk7ZnVuY3Rpb24gZXZlbnRTZXJ2aWNlKEV2ZW50LHNwb3RTZXJ2aWNlLCRxLHRvYXN0ZXIpe3ZhciBzZWxmPXtwZW5kaW5nOmZhbHNlLGV2ZW50czpbXSxldmVudDpudWxsLGxvYWRFdmVudHM6bG9hZEV2ZW50cyxzYXZlOnNhdmUsZGVzdHJveTpkZXN0cm95fTtyZXR1cm4gc2VsZjtmdW5jdGlvbiBsb2FkRXZlbnRzKHNwb3RfaWQpe2lmKHNlbGYucGVuZGluZylyZXR1cm47dmFyIHNwb3RfaWQ9c3BvdF9pZHx8c3BvdFNlcnZpY2Uuc3BvdC5pZDtzZWxmLnBlbmRpbmc9dHJ1ZTtFdmVudC5pbmRleCh7c3BvdF9pZDpzcG90X2lkfSkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwKXtzZWxmLmV2ZW50cz1yZXNwLm1hcChmdW5jdGlvbihldmVudCl7ZXZlbnQuc3RhcnRfZGF0ZT1uZXcgRGF0ZShldmVudC5zdGFydF9kYXRlKTtldmVudC5zdGFydF90aW1lPW5ldyBEYXRlKGV2ZW50LnN0YXJ0X3RpbWUpO2lmKGV2ZW50LmVuZF9kYXRlKWV2ZW50LmVuZF9kYXRlPW5ldyBEYXRlKGV2ZW50LmVuZF9kYXRlKTtpZihldmVudC5lbmRfdGltZSlldmVudC5lbmRfdGltZT1uZXcgRGF0ZShldmVudC5lbmRfdGltZSk7cmV0dXJuIG5ldyBFdmVudChldmVudCk7fSk7fSkuZmluYWxseShmdW5jdGlvbigpe3NlbGYucGVuZGluZz1mYWxzZTt9KTt9ZnVuY3Rpb24gc2F2ZSgpe2lmKHNlbGYucGVuZGluZ3x8IXNlbGYuZXZlbnQpcmV0dXJuICRxLnJlamVjdCgpO3JldHVybiBzZWxmLmV2ZW50LmlkP3VwZGF0ZSgpOmNyZWF0ZSgpO31mdW5jdGlvbiBjcmVhdGUoKXt2YXIgZD0kcS5kZWZlcigpO3NlbGYucGVuZGluZz10cnVlO3NlbGYuZXZlbnQuc3BvdF9pZD1zcG90U2VydmljZS5zcG90LmlkO0V2ZW50LmNyZWF0ZShzZWxmLmV2ZW50KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3Ape3Jlc3Auc3RhcnRfZGF0ZT1uZXcgRGF0ZShyZXNwLnN0YXJ0X2RhdGUpO3Jlc3Auc3RhcnRfdGltZT1uZXcgRGF0ZShyZXNwLnN0YXJ0X3RpbWUpO2lmKHJlc3AuZW5kX2RhdGUpcmVzcC5lbmRfZGF0ZT1uZXcgRGF0ZShyZXNwLmVuZF9kYXRlKTtpZihyZXNwLmVuZF90aW1lKXJlc3AuZW5kX3RpbWU9bmV3IERhdGUocmVzcC5lbmRfdGltZSk7dmFyIGV2ZW50PW5ldyBFdmVudChyZXNwKTtzZWxmLmV2ZW50cy5wdXNoKGV2ZW50KTtzZWxmLmV2ZW50PW51bGw7dG9hc3Rlci5wb3AoJ3N1Y2Nlc3MnLCdFdmVudCBjcmVhdGVkJyk7ZC5yZXNvbHZlKHJlc3ApO30pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape3RvYXN0ZXIucG9wKCdlcnJvcicsJ1VuYWJsZSB0byBhZGQgZXZlbnQnKTtkLnJlamVjdChyZXNwKTt9KS5maW5hbGx5KGZ1bmN0aW9uKCl7c2VsZi5wZW5kaW5nPWZhbHNlO30pO3JldHVybiBkLnByb21pc2U7fWZ1bmN0aW9uIHVwZGF0ZSgpe3ZhciBkPSRxLmRlZmVyKCk7c2VsZi5wZW5kaW5nPXRydWU7c2VsZi5ldmVudC4kdXBkYXRlKCkudGhlbihmdW5jdGlvbihyZXNwKXt0b2FzdGVyLnBvcCgnc3VjY2VzcycsJ0V2ZW50IHVwZGF0ZWQnKTtzZWxmLmV2ZW50PW51bGw7ZC5yZXNvbHZlKHJlc3ApO30pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape3RvYXN0ZXIucG9wKCdlcnJvcicsJ1VuYWJsZSB0byB1cGRhdGUgZXZlbnQnKTtkLnJlamVjdChyZXNwKTt9KS5maW5hbGx5KGZ1bmN0aW9uKCl7c2VsZi5wZW5kaW5nPWZhbHNlO30pO3JldHVybiBkLnByb21pc2U7fWZ1bmN0aW9uIGRlc3Ryb3koKXtpZihzZWxmLnBlbmRpbmd8fCFzZWxmLmV2ZW50KXJldHVybjtzZWxmLnBlbmRpbmc9dHJ1ZTtzZWxmLmV2ZW50LiRkZWxldGUoKS50aGVuKGZ1bmN0aW9uKHJlc3Ape3ZhciBpPXNlbGYuZXZlbnRzLmluZGV4T2Yoc2VsZi5ldmVudCk7c2VsZi5ldmVudHMuc3BsaWNlKGksMSk7c2VsZi5ldmVudD1udWxsO3RvYXN0ZXIucG9wKCdzdWNjZXNzJywnRXZlbnQgcmVtb3ZlZCcpO3JldHVybiByZXNwO30pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape2NvbnNvbGUuZXJyb3IocmVzcCk7fSkuZmluYWxseShmdW5jdGlvbigpe3NlbGYucGVuZGluZz1mYWxzZTt9KTt9O307ZXZlbnRTZXJ2aWNlLiRpbmplY3Q9WydFdmVudCcsJ3Nwb3RTZXJ2aWNlJywnJHEnLCd0b2FzdGVyJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykuY29udHJvbGxlcignZXZlbnRzJyxldmVudHMpO2Z1bmN0aW9uIGV2ZW50cyhzcG90LGV2ZW50U2VydmljZSl7dmFyIGN0cmw9dGhpczt2YXIgZGF0ZT1uZXcgRGF0ZSgpO2N0cmwuZXZlbnRTZXJ2aWNlPWV2ZW50U2VydmljZTtjdHJsLmV2ZW50U2VydmljZS5sb2FkRXZlbnRzKHNwb3QuaWQpO307ZXZlbnRzLiRpbmplY3Q9WydzcG90JywnZXZlbnRTZXJ2aWNlJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykudmFsdWUoJ21vbnRocycsezA6J0phbicsMTonRmViJywyOidNYXInLDM6J0FwcicsNDonTWF5Jyw1OidKdW4nLDY6J0p1bCcsNzonQXVnJyw4OidTZXAnLDk6J09jdCcsMTA6J05vdicsMTE6J0RlYyd9KTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5maWx0ZXIoJ29jY3VycmVuY2VEYXRlJyxvY2N1cnJlbmNlRGF0ZSk7ZnVuY3Rpb24gb2NjdXJyZW5jZURhdGUobW9udGhzLGRheXMpe3JldHVybiBmdW5jdGlvbihpbnB1dCl7dmFyIHNEYXRlPW5ldyBEYXRlKGlucHV0LnN0YXJ0X2RhdGUpLHNEYXk9c0RhdGUuZ2V0RGF0ZSgpLHNEb3c9ZGF5c1tzRGF0ZS5nZXREYXkoKV0sc01vbnRoPW1vbnRoc1tzRGF0ZS5nZXRNb250aCgpXSxzdHI7aWYoIWlucHV0LmVuZF9kYXRlfHxpbnB1dC5zdGFydF9kYXRlPT1pbnB1dC5lbmRfZGF0ZSl7c3RyPXNEb3crJywgJytzTW9udGgrJyAnK3NEYXk7IC8vYCR7c0Rvd30sICR7c01vbnRofSAke3NEYXl9YDtcbn1lbHNlIHt2YXIgZURhdGU9bmV3IERhdGUoaW5wdXQuZW5kX2RhdGUpLGVEYXk9ZURhdGUuZ2V0RGF0ZSgpLGVNb250aD1tb250aHNbZURhdGUuZ2V0TW9udGgoKV07IC8vIHN0ciA9IChzTW9udGggPT09IGVNb250aCkgPyBgJHtzTW9udGh9ICR7c0RheX0gLSAke2VEYXl9YCA6IGAke3NNb250aH0gJHtzRGF5fSAtICR7ZU1vbnRofSAke2VEYXl9YDtcbnN0cj1zTW9udGg9PT1lTW9udGg/c01vbnRoKycgJytzRGF5KycgLSAnK2VEYXk6c01vbnRoKycgJytzRGF5KycgLSAnK2VNb250aCsnICcrZURheTt9cmV0dXJuIHN0cjt9O307b2NjdXJyZW5jZURhdGUuJGluamVjdD1bJ21vbnRocycsJ2RheXMnXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5mYWN0b3J5KCdGYXZvcml0ZScsRmF2b3JpdGUpO2Z1bmN0aW9uIEZhdm9yaXRlKEJBU0VfQVBJX1VSTCwkaHR0cCx0b2FzdGVyKXt2YXIgdXJsPUJBU0VfQVBJX1VSTCsnL2Zhdm9yaXRlcyc7cmV0dXJuIHtjcmVhdGU6Y3JlYXRlLHJlbW92ZTpyZW1vdmV9O2Z1bmN0aW9uIGNyZWF0ZShzcG90KXtyZXR1cm4gJGh0dHAucG9zdCh1cmwse3Nwb3RfaWQ6c3BvdC5pZH0pLnRoZW4oZnVuY3Rpb24ocmVzcCl7dG9hc3Rlci5wb3AoJ3dhcm5pbmcnLCdTcG90IGFkZGVkIHRvIGZhdm9yaXRlcycsJycpO3JldHVybiByZXNwO30pO307ZnVuY3Rpb24gcmVtb3ZlKHNwb3Qpe3JldHVybiAkaHR0cC5kZWxldGUodXJsKygnLycrc3BvdC5pZCkpLnRoZW4oZnVuY3Rpb24ocmVzcCl7dG9hc3Rlci5wb3AoJ3dhcm5pbmcnLCdTcG90IHJlbW92ZWQgZnJvbSBmYXZvcml0ZXMnLCcnKTtyZXR1cm4gcmVzcDt9KTt9O31GYXZvcml0ZS4kaW5qZWN0PVsnQkFTRV9BUElfVVJMJywnJGh0dHAnLCd0b2FzdGVyJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykuY29udHJvbGxlcignZmF2b3JpdGVzJyxmYXZvcml0ZXMpO2Z1bmN0aW9uIGZhdm9yaXRlcygkc2NvcGUsc3BvdFNlcnZpY2Upe3ZhciB2bT10aGlzO3ZtLnNwb3RTZXJ2aWNlPXNwb3RTZXJ2aWNlO2luaXQoKTtmdW5jdGlvbiBpbml0KCl7dm0uc3BvdFNlcnZpY2UuZmF2b3JpdGVzKCk7fTt9ZmF2b3JpdGVzLiRpbmplY3Q9Wyckc2NvcGUnLCdzcG90U2VydmljZSddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpLmRpcmVjdGl2ZSgnbnNGYXZvcml0ZUJ0bicsbnNGYXZvcml0ZUJ0bik7ZnVuY3Rpb24gbnNGYXZvcml0ZUJ0bigpe3JldHVybiB7cmVzdHJpY3Q6J0UnLHNjb3BlOnt9LGJpbmRUb0NvbnRyb2xsZXI6e3Nwb3Q6Jz0nfSxjb250cm9sbGVyOlsnJHJvb3RTY29wZScsJ0Zhdm9yaXRlJywndG9hc3RlcicsZnVuY3Rpb24oJHJvb3RTY29wZSxGYXZvcml0ZSx0b2FzdGVyKXt2YXIgY3RybD10aGlzO2N0cmwuaXNGYXZvcml0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gJHJvb3RTY29wZS51c2VyLnNpZ25lZEluJiYkcm9vdFNjb3BlLnVzZXIuZmF2b3JpdGVfc3BvdF9pZHMuaW5kZXhPZihjdHJsLnNwb3QuaWQpPi0xP3RydWU6ZmFsc2U7fTtjdHJsLmFkZD1mdW5jdGlvbigpe2lmKCEkcm9vdFNjb3BlLnVzZXIuc2lnbmVkSW4pe3RvYXN0ZXIucG9wKCdpbmZvJywnUGxlYXNlIFNpZ24gSW4gdG8gdHJhY2sgeW91ciBmYXZvcml0ZXMhJyk7cmV0dXJuO31GYXZvcml0ZS5jcmVhdGUoY3RybC5zcG90KS50aGVuKGZ1bmN0aW9uKHJlc3Ape2N0cmwuc3BvdC5mYXZvcml0ZXNfY291bnQrPTE7JHJvb3RTY29wZS51c2VyLmZhdm9yaXRlX3Nwb3RfaWRzLnB1c2goY3RybC5zcG90LmlkKTt9KTt9O2N0cmwucmVtb3ZlPWZ1bmN0aW9uKCl7Y29uc29sZS5sb2coJ1JlbW92aW5nLi4nKTtGYXZvcml0ZS5yZW1vdmUoY3RybC5zcG90KS50aGVuKGZ1bmN0aW9uKHJlc3Ape2NvbnNvbGUubG9nKHJlc3ApO2N0cmwuc3BvdC5mYXZvcml0ZXNfY291bnQtPTE7dmFyIGk9JHJvb3RTY29wZS51c2VyLmZhdm9yaXRlX3Nwb3RfaWRzLmluZGV4T2YoY3RybC5zcG90LmlkKTskcm9vdFNjb3BlLnVzZXIuZmF2b3JpdGVfc3BvdF9pZHMuc3BsaWNlKGksMSk7fSk7fTt9XSxjb250cm9sbGVyQXM6J2ZhdnNDdHJsJyx0ZW1wbGF0ZVVybDonY29tcG9uZW50cy9zcG90cy9mYXZvcml0ZXMvbnNGYXZvcml0ZUJ0bi5odG1sJ307fX0pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpLmNvbnRyb2xsZXIoJ2hvbWUnLGhvbWUpO2Z1bmN0aW9uIGhvbWUoJHNjb3BlLHNwb3RTZXJ2aWNlLGZpbHRlclBhcmFtcyl7dmFyIHZtPXRoaXM7dm0uc3BvdFNlcnZpY2U9c3BvdFNlcnZpY2U7dm0uZmlsdGVyUGFyYW1zPWZpbHRlclBhcmFtczt2bS5maWx0ZXJlZFNwb3RzPVtdO3ZtLmFwcGx5RmlsdGVycz1hcHBseUZpbHRlcnM7dm0udG9kYXk9bmV3IERhdGUoKTtpbml0KCk7ZnVuY3Rpb24gaW5pdCgpe3ZtLnNwb3RTZXJ2aWNlLnBhcmFtcz17fTt2bS5zcG90U2VydmljZS5pbml0KCk7fTskc2NvcGUuJHdhdGNoQ29sbGVjdGlvbigndm0uc3BvdFNlcnZpY2Uuc3BvdHMnLGZ1bmN0aW9uKCl7cmV0dXJuIGFwcGx5RmlsdGVycygpO30pOyRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCd2bS5maWx0ZXJQYXJhbXMuZmVhdHVyZXMnLGZ1bmN0aW9uKCl7cmV0dXJuIGFwcGx5RmlsdGVycygpO30pOyRzY29wZS4kd2F0Y2goJ3ZtLmZpbHRlclBhcmFtcy5vcmRlcicsZnVuY3Rpb24oKXtyZXR1cm4gYXBwbHlGaWx0ZXJzKCk7fSk7ZnVuY3Rpb24gYXBwbHlGaWx0ZXJzKCl7dm0uZmlsdGVyZWRTcG90cz0kc2NvcGUuJGV2YWwoXCJ2bS5zcG90U2VydmljZS5zcG90cyB8IGZlYXR1cmVzOnZtLmZpbHRlclBhcmFtcy5mZWF0dXJlcyB8IG9yZGVyQnk6dm0uZmlsdGVyUGFyYW1zLm9yZGVyXCIpO3JldHVybiB2bS5maWx0ZXJlZFNwb3RzO307fTtob21lLiRpbmplY3Q9Wyckc2NvcGUnLCdzcG90U2VydmljZScsJ2ZpbHRlclBhcmFtcyddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpLmZhY3RvcnkoJ0hvdXInLEhvdXIpO2Z1bmN0aW9uIEhvdXIoQkFTRV9BUElfVVJMLCRyZXNvdXJjZSl7dmFyIG5lc3RlZFVybD1CQVNFX0FQSV9VUkwrJy9zcG90cy86c3BvdF9pZC9ob3Vycyc7cmV0dXJuICRyZXNvdXJjZShCQVNFX0FQSV9VUkwrJy9ob3Vycy86aWQnLHtpZDonQGlkJyxzcG90X2lkOidAc3BvdF9pZCd9LHtpbmRleDp7bWV0aG9kOidHRVQnLHVybDpuZXN0ZWRVcmwsaXNBcnJheTp0cnVlfSxjcmVhdGU6e21ldGhvZDonUE9TVCcsdXJsOm5lc3RlZFVybH0sdXBkYXRlOnttZXRob2Q6J1BVVCd9fSk7fTtIb3VyLiRpbmplY3Q9WydCQVNFX0FQSV9VUkwnLCckcmVzb3VyY2UnXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5mYWN0b3J5KCdob3VyU2VydmljZScsaG91clNlcnZpY2UpO2Z1bmN0aW9uIGhvdXJTZXJ2aWNlKEhvdXIsc3BvdFNlcnZpY2UsJHEsdG9hc3Rlcil7dmFyIHNlbGY9e3BlbmRpbmc6ZmFsc2UsaG91cnM6W10saG91cjpudWxsLHNldEhvdXJzOnNldEhvdXJzLHNhdmU6c2F2ZSxkZXN0cm95OmRlc3Ryb3l9O3JldHVybiBzZWxmO2Z1bmN0aW9uIHNldEhvdXJzKCl7aWYoc2VsZi5wZW5kaW5nfHwhc3BvdFNlcnZpY2Uuc3BvdClyZXR1cm47c2VsZi5ob3Vycy5sZW5ndGg9MDtzZWxmLmhvdXJzPXNwb3RTZXJ2aWNlLnNwb3QuaG91cnMubWFwKGZ1bmN0aW9uKG9iail7cmV0dXJuIG5ldyBIb3VyKGFuZ3VsYXIuZXh0ZW5kKG9iaix7b3BlbjpuZXcgRGF0ZShvYmoub3BlbiksY2xvc2U6bmV3IERhdGUob2JqLmNsb3NlKSxkYXlzOm9iai5kYXlzLm1hcChOdW1iZXIpfSkpO30pO31mdW5jdGlvbiBzYXZlKCl7aWYoc2VsZi5wZW5kaW5nfHwhc2VsZi5ob3VyKXJldHVybjtyZXR1cm4gc2VsZi5ob3VyLmlkP3VwZGF0ZSgpOmNyZWF0ZSgpO31mdW5jdGlvbiBjcmVhdGUoKXt2YXIgZD0kcS5kZWZlcigpO2NvbnNvbGUubG9nKHNlbGYuaG91cik7c2VsZi5wZW5kaW5nPXRydWU7c2VsZi5ob3VyLnNwb3RfaWQ9c3BvdFNlcnZpY2Uuc3BvdC5pZDtIb3VyLmNyZWF0ZShzZWxmLmhvdXIpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcCl7dmFyIGhvdXI9bmV3IEhvdXIoYW5ndWxhci5leHRlbmQocmVzcCx7b3BlbjpuZXcgRGF0ZShyZXNwLm9wZW4pLGNsb3NlOm5ldyBEYXRlKHJlc3AuY2xvc2UpLGRheXM6cmVzcC5kYXlzLm1hcChOdW1iZXIpfSkpO3NlbGYuaG91cnMucHVzaChob3VyKTt0b2FzdGVyLnBvcCgnc3VjY2VzcycsJ0hvdXJzIGFkZGVkJyk7ZC5yZXNvbHZlKHJlc3ApO30pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape3RvYXN0ZXIucG9wKCdlcnJvcicsJ1VuYWJsZSB0byBhZGQgaG91cnMnKTtkLnJlamVjdChyZXNwKTt9KS5maW5hbGx5KGZ1bmN0aW9uKCl7c2VsZi5wZW5kaW5nPWZhbHNlO30pO3JldHVybiBkLnByb21pc2U7fWZ1bmN0aW9uIHVwZGF0ZSgpe3ZhciBkPSRxLmRlZmVyKCk7c2VsZi5wZW5kaW5nPXRydWU7c2VsZi5ob3VyLiR1cGRhdGUoKS50aGVuKGZ1bmN0aW9uKHJlc3Ape3RvYXN0ZXIucG9wKCdzdWNjZXNzJywnSG91cnMgdXBkYXRlZCcpO2FuZ3VsYXIuZXh0ZW5kKHNlbGYuaG91cix7b3BlbjpuZXcgRGF0ZShyZXNwLm9wZW4pLGNsb3NlOm5ldyBEYXRlKHJlc3AuY2xvc2UpfSk7ZC5yZXNvbHZlKHJlc3ApO30pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape3RvYXN0ZXIucG9wKCdlcnJvcicsJ1VuYWJsZSB0byB1cGRhdGUgaG91cnMnKTtkLnJlamVjdChyZXNwKTt9KS5maW5hbGx5KGZ1bmN0aW9uKCl7c2VsZi5wZW5kaW5nPWZhbHNlO30pO3JldHVybiBkLnByb21pc2U7fWZ1bmN0aW9uIGRlc3Ryb3koKXtpZihzZWxmLnBlbmRpbmd8fCFzZWxmLmhvdXIpcmV0dXJuO3NlbGYucGVuZGluZz10cnVlO3NlbGYuaG91ci4kZGVsZXRlKCkudGhlbihmdW5jdGlvbihyZXNwKXt2YXIgaT1zZWxmLmhvdXJzLmluZGV4T2Yoc2VsZi5ob3VyKTtzZWxmLmhvdXJzLnNwbGljZShpLDEpO3NlbGYuaG91cj1udWxsO3RvYXN0ZXIucG9wKCdzdWNjZXNzJywnSG91cnMgcmVtb3ZlZCcpO3JldHVybiByZXNwO30pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape2NvbnNvbGUuZXJyb3IocmVzcCk7fSkuZmluYWxseShmdW5jdGlvbigpe3NlbGYucGVuZGluZz1mYWxzZTt9KTt9fTtob3VyU2VydmljZS4kaW5qZWN0PVsnSG91cicsJ3Nwb3RTZXJ2aWNlJywnJHEnLCd0b2FzdGVyJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykuY29udHJvbGxlcignaG91cnNNb2RhbCcsaG91cnNNb2RhbCk7ZnVuY3Rpb24gaG91cnNNb2RhbCgkdWliTW9kYWxJbnN0YW5jZSxob3VyU2VydmljZSl7dmFyIGN0cmw9dGhpcztjdHJsLmhvdXJTZXJ2aWNlPWhvdXJTZXJ2aWNlO2N0cmwuc2F2ZT1zYXZlO2N0cmwuY2FuY2VsPWNhbmNlbDtmdW5jdGlvbiBzYXZlKCl7aG91clNlcnZpY2Uuc2F2ZSgpLnRoZW4oZnVuY3Rpb24ocmVzcCl7cmV0dXJuICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7fSk7fTtmdW5jdGlvbiBjYW5jZWwoKXtyZXR1cm4gJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcyhudWxsKTt9O307aG91cnNNb2RhbC4kaW5qZWN0PVsnJHVpYk1vZGFsSW5zdGFuY2UnLCdob3VyU2VydmljZSddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpLmRpcmVjdGl2ZSgnbnNFZGl0SG91cnMnLG5zRWRpdEhvdXJzKTtmdW5jdGlvbiBuc0VkaXRIb3Vycyhob3VyU2VydmljZSwkdWliTW9kYWwpe3JldHVybiB7cmVzdHJpY3Q6J0UnLHRlbXBsYXRlVXJsOidjb21wb25lbnRzL3Nwb3RzL2hvdXJzL25zRWRpdEhvdXJzLmh0bWwnLGNvbnRyb2xsZXI6Wydob3VyU2VydmljZScsJyR1aWJNb2RhbCcsZnVuY3Rpb24gZWRpdEhvdXJzKGhvdXJTZXJ2aWNlLCR1aWJNb2RhbCl7dmFyIGN0cmw9dGhpcztjdHJsLmhvdXJTZXJ2aWNlPWhvdXJTZXJ2aWNlO2N0cmwuaG91clNlcnZpY2Uuc2V0SG91cnMoKTtjdHJsLm9wZW5Nb2RhbD1vcGVuTW9kYWw7Y3RybC5yZW1vdmU9cmVtb3ZlO2Z1bmN0aW9uIG9wZW5Nb2RhbChob3VyKXtpZihob3VyKXtjdHJsLmhvdXJTZXJ2aWNlLmhvdXI9YW5ndWxhci5leHRlbmQoaG91cix7b3BlbjpuZXcgRGF0ZShob3VyLm9wZW4pLGNsb3NlOm5ldyBEYXRlKGhvdXIuY2xvc2UpLGRheXM6aG91ci5kYXlzLm1hcChOdW1iZXIpfSk7fWVsc2Uge2N0cmwuaG91clNlcnZpY2UuaG91cj17fTt9dmFyIG1vZGFsSW5zdGFuY2U9JHVpYk1vZGFsLm9wZW4oe2NvbnRyb2xsZXI6J2hvdXJzTW9kYWwnLGNvbnRyb2xsZXJBczonaHJzQ3RybCcsdGVtcGxhdGVVcmw6J2NvbXBvbmVudHMvc3BvdHMvaG91cnMvaG91cnNNb2RhbC5odG1sJyxzaXplOidtZCd9KTttb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uKHJlcyl7Y3RybC5ob3VyU2VydmljZS5ob3VyPW51bGw7fSk7fTtmdW5jdGlvbiByZW1vdmUoaG91cil7aWYoIWhvdXIpcmV0dXJuO2N0cmwuaG91clNlcnZpY2UuaG91cj1ob3VyO2N0cmwuaG91clNlcnZpY2UuZGVzdHJveSgpLnRoZW4oZnVuY3Rpb24ocmVzcCl7Y3RybC5ob3VyU2VydmljZS5ob3VyPW51bGw7fSk7fTt9XSxjb250cm9sbGVyQXM6J2hyc0N0cmwnfTt9O25zRWRpdEhvdXJzLiRpbmplY3Q9Wydob3VyU2VydmljZScsJyR1aWJNb2RhbCddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpLmRpcmVjdGl2ZSgnbnNIb3Vyc1RhYmxlJyxuc0hvdXJzVGFibGUpO2Z1bmN0aW9uIG5zSG91cnNUYWJsZShvcGVuTm93KXtyZXR1cm4ge3Jlc3RyaWN0OidFJyxzY29wZTp0cnVlLGJpbmRUb0NvbnRyb2xsZXI6e2hvdXJzOic9J30sY29udHJvbGxlcjpbJ29wZW5Ob3cnLGZ1bmN0aW9uKG9wZW5Ob3cpe3RoaXMub3Blbk5vdz1vcGVuTm93O3RoaXMub3Blbj1mYWxzZTt9XSxjb250cm9sbGVyQXM6J2N0cmwnLHRlbXBsYXRlVXJsOidjb21wb25lbnRzL3Nwb3RzL2hvdXJzL25zSG91cnNUYWJsZS5odG1sJ307fTtuc0hvdXJzVGFibGUuJGluamVjdD1bJ29wZW5Ob3cnXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5kaXJlY3RpdmUoJ25zRWRpdEltYWdlcycsbnNFZGl0SW1hZ2VzKTtmdW5jdGlvbiBuc0VkaXRJbWFnZXMoKXtyZXR1cm4ge3Jlc3RyaWN0OidFJyxjb250cm9sbGVyOlsnJHNjb3BlJywnc3BvdFNlcnZpY2UnLCdpbWFnZVNlcnZpY2UnLCckdWliTW9kYWwnLGZ1bmN0aW9uKCRzY29wZSxzcG90U2VydmljZSxpbWFnZVNlcnZpY2UsJHVpYk1vZGFsKXt2YXIgY3RybD10aGlzO2N0cmwuaW1nRmlsZT1udWxsO2N0cmwuaW1hZ2VTZXJ2aWNlPWltYWdlU2VydmljZTtjdHJsLmltYWdlU2VydmljZS5pbml0KHt1cmk6J3Nwb3RzJyxpbWFnZWFibGVfaWQ6c3BvdFNlcnZpY2Uuc3BvdC5pZH0pO2N0cmwuaW1hZ2VTZXJ2aWNlLmxvYWRJbWFnZXMoKTtjdHJsLnNldFByaW1hcnk9c2V0UHJpbWFyeTtjdHJsLnJlbW92ZT1yZW1vdmU7Y3RybC5vcGVuTW9kYWw9b3Blbk1vZGFsOyAvLyAgICAgICAgICAgICAgICAkc2NvcGUud2F0Y2goJ3Nwb3RTZXJ2aWNlLnNwb3QnLCBmdW5jdGlvbigpe30pO1xuZnVuY3Rpb24gc2V0UHJpbWFyeShpbWcpe2N0cmwuaW1hZ2VTZXJ2aWNlLnNldFByaW1hcnkoaW1nKS50aGVuKGZ1bmN0aW9uKHJlc3Ape2N0cmwuaW1hZ2VTZXJ2aWNlLmxvYWRJbWFnZXMoKTtzcG90U2VydmljZS5zcG90LnByaW1hcnlfaW1hZ2U9aW1nO2ltZy5wcmltYXJ5PXRydWU7fSk7fWZ1bmN0aW9uIHJlbW92ZShpbWcpe2N0cmwuaW1hZ2VTZXJ2aWNlLmRlc3Ryb3koaW1nKTt9ZnVuY3Rpb24gb3Blbk1vZGFsKCl7aWYoIWN0cmwuaW1nRmlsZSlyZXR1cm47dmFyIG1vZGFsSW5zdGFuY2U9JHVpYk1vZGFsLm9wZW4oe2NvbnRyb2xsZXI6J2Nyb3BJbWFnZU1vZGFsJyxjb250cm9sbGVyQXM6J2ltZ0N0cmwnLHRlbXBsYXRlVXJsOidzaGFyZWQvaW1hZ2VzL2Nyb3BJbWFnZU1vZGFsLmh0bWwnLHNpemU6J21kJyxyZXNvbHZlOntpbWdGaWxlOmZ1bmN0aW9uIGltZ0ZpbGUoKXtyZXR1cm4gY3RybC5pbWdGaWxlO319fSk7bW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbihyZXMpe2N0cmwuaW1nRmlsZT1udWxsO2N0cmwuaW1hZ2VTZXJ2aWNlLnVwbG9hZChyZXMsZmFsc2UpLnRoZW4oZnVuY3Rpb24ocmVzcCl7Y29uc29sZS5sb2cocmVzcCk7fSk7fSk7fX1dLGNvbnRyb2xsZXJBczonaW1nc0N0cmwnLHRlbXBsYXRlVXJsOidjb21wb25lbnRzL3Nwb3RzL2ltYWdlcy9uc0VkaXRJbWFnZXMuaHRtbCd9O31uc0VkaXRJbWFnZXMuJGluamVjdD1bJ3Nwb3RTZXJ2aWNlJywnaW1hZ2VTZXJ2aWNlJywnJHVpYk1vZGFsJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykudmFsdWUoJ2ZvY3VzZWQnLHtzcG90Om51bGx9KTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5kaXJlY3RpdmUoJ25zU3BvdEJsb2NrJyxuc1Nwb3RCbG9jayk7ZnVuY3Rpb24gbnNTcG90QmxvY2soKXtyZXR1cm4ge3Jlc3RyaWN0OidFJyxzY29wZTp7fSxiaW5kVG9Db250cm9sbGVyOntzcG90Oic9Jyxzb3J0OidAJyxpbmRleDonPSd9LGNvbnRyb2xsZXI6WydvcGVuTm93JywnZm9jdXNlZCcsZnVuY3Rpb24ob3Blbk5vdyxmb2N1c2VkKXt2YXIgY3RybD10aGlzO2N0cmwub3Blbk5vdz1vcGVuTm93O2N0cmwuaGlnaGxpZ2h0PWZhbHNlO2N0cmwuZm9jdXM9ZnVuY3Rpb24oKXtjdHJsLmhpZ2hsaWdodD10cnVlO2ZvY3VzZWQuc3BvdD1jdHJsLnNwb3Q7fTtjdHJsLnVuZm9jdXM9ZnVuY3Rpb24oKXtjdHJsLmhpZ2hsaWdodD1mYWxzZTtmb2N1c2VkLnNwb3Q9bnVsbDt9O31dLGNvbnRyb2xsZXJBczonc3BvdEN0cmwnLHRlbXBsYXRlVXJsOidjb21wb25lbnRzL3Nwb3RzL2xpc3QvbnNTcG90QmxvY2suaHRtbCd9O319KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5kaXJlY3RpdmUoJ25zVmVudWVCbG9jaycsbnNWZW51ZUJsb2NrKTtmdW5jdGlvbiBuc1ZlbnVlQmxvY2soZmlsdGVyUGFyYW1zKXtyZXR1cm4ge3Jlc3RyaWN0OidFJyxzY29wZTp7fSxiaW5kVG9Db250cm9sbGVyOntzcG90Oic9JyxpbmRleDonPSd9LGNvbnRyb2xsZXI6WydmaWx0ZXJQYXJhbXMnLCdmb2N1c2VkJyxmdW5jdGlvbihmaWx0ZXJQYXJhbXMsZm9jdXNlZCl7dmFyIGN0cmw9dGhpcztjdHJsLmZpbHRlclBhcmFtcz1maWx0ZXJQYXJhbXM7Y3RybC5mb2N1cz1mdW5jdGlvbigpe2N0cmwuaGlnaGxpZ2h0PXRydWU7Zm9jdXNlZC5zcG90PWN0cmwuc3BvdDt9O2N0cmwudW5mb2N1cz1mdW5jdGlvbigpe2N0cmwuaGlnaGxpZ2h0PWZhbHNlO2ZvY3VzZWQuc3BvdD1udWxsO307fV0sY29udHJvbGxlckFzOidzcG90Q3RybCcsdGVtcGxhdGVVcmw6J2NvbXBvbmVudHMvc3BvdHMvbGlzdC9uc1ZlbnVlQmxvY2suaHRtbCd9O31uc1ZlbnVlQmxvY2suJGluamVjdD1bJ2ZpbHRlclBhcmFtcyddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpLmNvbnRyb2xsZXIoJ2VkaXRNZW51cycsZWRpdE1lbnVzKTtmdW5jdGlvbiBlZGl0TWVudXMobWVudVNlcnZpY2UsJHVpYk1vZGFsKXt2YXIgY3RybD10aGlzO2N0cmwubWVudVNlcnZpY2U9bWVudVNlcnZpY2U7Y3RybC5tZW51U2VydmljZS5sb2FkTWVudXMoKTtjdHJsLm9wZW5NZW51TW9kYWw9b3Blbk1lbnVNb2RhbDtjdHJsLm9wZW5JdGVtTW9kYWw9b3Blbkl0ZW1Nb2RhbDtjdHJsLnVwZGF0ZU1lbnU9dXBkYXRlTWVudTtjdHJsLnJlbW92ZU1lbnU9cmVtb3ZlTWVudTtmdW5jdGlvbiBvcGVuTWVudU1vZGFsKG1lbnUpe2N0cmwubWVudVNlcnZpY2UubWVudT1tZW51fHx7fTt2YXIgbW9kYWxJbnN0YW5jZT0kdWliTW9kYWwub3Blbih7Y29udHJvbGxlcjonbWVudU1vZGFsJyxjb250cm9sbGVyQXM6J21lbnVzQ3RybCcsdGVtcGxhdGVVcmw6J2NvbXBvbmVudHMvc3BvdHMvbWVudXMvbWVudU1vZGFsLmh0bWwnLHNpemU6J21kJ30pO21vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24ocmVzKXtjdHJsLm1lbnVTZXJ2aWNlLm1lbnU9bnVsbDt9KTt9O2Z1bmN0aW9uIG9wZW5JdGVtTW9kYWwobWVudSxfaXRlbSl7Y3RybC5tZW51U2VydmljZS5tZW51PW1lbnU7dmFyIG1vZGFsSW5zdGFuY2U9JHVpYk1vZGFsLm9wZW4oe2NvbnRyb2xsZXI6J2l0ZW1Nb2RhbCcsY29udHJvbGxlckFzOidpdGVtc0N0cmwnLHRlbXBsYXRlVXJsOidjb21wb25lbnRzL3Nwb3RzL21lbnVzL2l0ZW1Nb2RhbC5odG1sJyxzaXplOidtZCcscmVzb2x2ZTp7aXRlbTpmdW5jdGlvbiBpdGVtKCl7cmV0dXJuIF9pdGVtO319fSk7bW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbihyZXMpe2N0cmwubWVudVNlcnZpY2UubWVudT1udWxsO30pO307ZnVuY3Rpb24gcmVtb3ZlTWVudShtZW51KXtpZighbWVudSlyZXR1cm47Y3RybC5tZW51U2VydmljZS5tZW51PW1lbnU7Y3RybC5tZW51U2VydmljZS5kZXN0cm95KCk7fTtmdW5jdGlvbiB1cGRhdGVNZW51KG1lbnUpe2N0cmwubWVudVNlcnZpY2UubWVudT1tZW51O2N0cmwubWVudVNlcnZpY2Uuc2F2ZSgpO2N0cmwubWVudVNlcnZpY2UubWVudT1udWxsO307fTtlZGl0TWVudXMuJGluamVjdD1bJ21lbnVTZXJ2aWNlJywnJHVpYk1vZGFsJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykuY29udHJvbGxlcignaXRlbU1vZGFsJyxpdGVtTW9kYWwpO2Z1bmN0aW9uIGl0ZW1Nb2RhbChpdGVtLCR1aWJNb2RhbEluc3RhbmNlLG1lbnVTZXJ2aWNlKXt2YXIgY3RybD10aGlzO2N0cmwubWVudVNlcnZpY2U9bWVudVNlcnZpY2U7Y3RybC5zYXZlPXNhdmU7Y3RybC5jYW5jZWw9Y2FuY2VsO2N0cmwuaXRlbT1pdGVtfHx7fTtmdW5jdGlvbiBzYXZlKCl7aWYoIWN0cmwuaXRlbS5pZCl7Y3RybC5tZW51U2VydmljZS5tZW51Lml0ZW1zX2F0dHJpYnV0ZXMucHVzaChjdHJsLml0ZW0pO31tZW51U2VydmljZS5zYXZlKCkudGhlbihmdW5jdGlvbihyZXNwKXtyZXR1cm4gJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTt9KTt9O2Z1bmN0aW9uIGNhbmNlbCgpe3JldHVybiAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKG51bGwpO307fTtpdGVtTW9kYWwuJGluamVjdD1bJ2l0ZW0nLCckdWliTW9kYWxJbnN0YW5jZScsJ21lbnVTZXJ2aWNlJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykuZmFjdG9yeSgnTWVudScsTWVudSk7ZnVuY3Rpb24gTWVudShCQVNFX0FQSV9VUkwsJHJlc291cmNlKXt2YXIgbmVzdGVkX3VybD1CQVNFX0FQSV9VUkwrJy9zcG90cy86c3BvdF9pZC9tZW51cyc7cmV0dXJuICRyZXNvdXJjZShCQVNFX0FQSV9VUkwrJy9tZW51cy86aWQnLHtpZDonQGlkJyxzcG90X2lkOidAc3BvdF9pZCd9LHtpbmRleDp7bWV0aG9kOidHRVQnLHVybDpuZXN0ZWRfdXJsLGlzQXJyYXk6dHJ1ZX0sY3JlYXRlOnttZXRob2Q6J1BPU1QnLHVybDpuZXN0ZWRfdXJsfSx1cGRhdGU6e21ldGhvZDonUFVUJ319KTt9O01lbnUuJGluamVjdD1bJ0JBU0VfQVBJX1VSTCcsJyRyZXNvdXJjZSddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpLmNvbnRyb2xsZXIoJ21lbnVNb2RhbCcsbWVudU1vZGFsKTtmdW5jdGlvbiBtZW51TW9kYWwoJHVpYk1vZGFsSW5zdGFuY2UsbWVudVNlcnZpY2Upe3ZhciBjdHJsPXRoaXM7Y3RybC5tZW51U2VydmljZT1tZW51U2VydmljZTtjdHJsLnNhdmU9c2F2ZTtjdHJsLmNhbmNlbD1jYW5jZWw7ZnVuY3Rpb24gc2F2ZSgpe21lbnVTZXJ2aWNlLnNhdmUoKS50aGVuKGZ1bmN0aW9uKHJlc3Ape3JldHVybiAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO30pO307ZnVuY3Rpb24gY2FuY2VsKCl7cmV0dXJuICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MobnVsbCk7fTt9O21lbnVNb2RhbC4kaW5qZWN0PVsnJHVpYk1vZGFsSW5zdGFuY2UnLCdtZW51U2VydmljZSddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpLmZhY3RvcnkoJ21lbnVTZXJ2aWNlJyxtZW51U2VydmljZSk7bWVudVNlcnZpY2UuJGluamVjdD1bJ01lbnUnLCdzcG90U2VydmljZScsJyRxJywndG9hc3RlciddO2Z1bmN0aW9uIG1lbnVTZXJ2aWNlKE1lbnUsc3BvdFNlcnZpY2UsJHEsdG9hc3Rlcil7dmFyIHNlbGY9e3BlbmRpbmc6ZmFsc2UsbWVudXM6W10sbWVudTpudWxsLGxvYWRNZW51czpsb2FkTWVudXMsc2F2ZTpzYXZlLGRlc3Ryb3k6ZGVzdHJveX07cmV0dXJuIHNlbGY7ZnVuY3Rpb24gbG9hZE1lbnVzKHNwb3RfaWQpe2lmKHNlbGYucGVuZGluZylyZXR1cm47c2VsZi5wZW5kaW5nPXRydWU7dmFyIHNwb3RfaWQ9c3BvdF9pZHx8c3BvdFNlcnZpY2Uuc3BvdC5pZDtNZW51LmluZGV4KHtzcG90X2lkOnNwb3RfaWR9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3Ape3NlbGYubWVudXM9cmVzcC5tYXAoZnVuY3Rpb24ob2JqKXtyZXR1cm4gbmV3IE1lbnUob2JqKTt9KTt9KS5maW5hbGx5KGZ1bmN0aW9uKCl7c2VsZi5wZW5kaW5nPWZhbHNlO30pO31mdW5jdGlvbiBzYXZlKCl7aWYoc2VsZi5wZW5kaW5nfHwhc2VsZi5tZW51KXJldHVybiAkcS5yZWplY3QoKTtyZXR1cm4gc2VsZi5tZW51LmlkP3VwZGF0ZSgpOmNyZWF0ZSgpO31mdW5jdGlvbiBjcmVhdGUoKXt2YXIgZD0kcS5kZWZlcigpO3NlbGYucGVuZGluZz10cnVlO3NlbGYubWVudS5zcG90X2lkPXNwb3RTZXJ2aWNlLnNwb3QuaWQ7TWVudS5jcmVhdGUoc2VsZi5tZW51KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3Ape3ZhciBtZW51PW5ldyBNZW51KHJlc3ApO3NlbGYubWVudXMucHVzaChtZW51KTtzZWxmLm1lbnU9bnVsbDt0b2FzdGVyLnBvcCgnc3VjY2VzcycsJ01lbnUgYWRkZWQnKTtkLnJlc29sdmUocmVzcCk7fSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7dG9hc3Rlci5wb3AoJ2Vycm9yJywnVW5hYmxlIHRvIGFkZCBtZW51Jyk7ZC5yZWplY3QocmVzcCk7fSkuZmluYWxseShmdW5jdGlvbigpe3NlbGYucGVuZGluZz1mYWxzZTt9KTtyZXR1cm4gZC5wcm9taXNlO31mdW5jdGlvbiB1cGRhdGUoKXt2YXIgZD0kcS5kZWZlcigpO3NlbGYucGVuZGluZz10cnVlO3NlbGYubWVudS4kdXBkYXRlKCkudGhlbihmdW5jdGlvbihyZXNwKXt0b2FzdGVyLnBvcCgnc3VjY2VzcycsJ01lbnUgdXBkYXRlZCcpO3NlbGYubWVudT1udWxsO2QucmVzb2x2ZShyZXNwKTt9KS5jYXRjaChmdW5jdGlvbihyZXNwKXt0b2FzdGVyLnBvcCgnZXJyb3InLCdVbmFibGUgdG8gdXBkYXRlIG1lbnUnKTtkLnJlamVjdChyZXNwKTt9KS5maW5hbGx5KGZ1bmN0aW9uKCl7c2VsZi5wZW5kaW5nPWZhbHNlO30pO3JldHVybiBkLnByb21pc2U7fWZ1bmN0aW9uIGRlc3Ryb3koKXtpZihzZWxmLnBlbmRpbmd8fCFzZWxmLm1lbnUpcmV0dXJuO3NlbGYucGVuZGluZz10cnVlO3NlbGYubWVudS4kZGVsZXRlKCkudGhlbihmdW5jdGlvbihyZXNwKXt2YXIgaT1zZWxmLm1lbnVzLmluZGV4T2Yoc2VsZi5tZW51KTtzZWxmLm1lbnVzLnNwbGljZShpLDEpO3NlbGYubWVudT1udWxsO3RvYXN0ZXIucG9wKCdzdWNjZXNzJywnbWVudXMgcmVtb3ZlZCcpO3JldHVybiByZXNwO30pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape2NvbnNvbGUuZXJyb3IocmVzcCk7fSkuZmluYWxseShmdW5jdGlvbigpe3NlbGYucGVuZGluZz1mYWxzZTt9KTt9fTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5jb250cm9sbGVyKCdtZW51cycsbWVudXMpO2Z1bmN0aW9uIG1lbnVzKHNwb3QsbWVudVNlcnZpY2Upe3ZhciBjdHJsPXRoaXM7Y3RybC5tZW51U2VydmljZT1tZW51U2VydmljZTtjdHJsLm1lbnVTZXJ2aWNlLmxvYWRNZW51cyhzcG90LmlkKTt9O21lbnVzLiRpbmplY3Q9WydzcG90JywnbWVudVNlcnZpY2UnXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5jb250cm9sbGVyKCduZXdTcG90JyxuZXdTcG90KTtmdW5jdGlvbiBuZXdTcG90KCRzY29wZSxTcG90LHNwb3RTZXJ2aWNlLCRzdGF0ZSwkdWliTW9kYWwsc3RhdGVzKXt2YXIgdm09dGhpczt2bS5zcG90RGF0YT17fTt2bS5QQUNMb2NhdGlvbj1udWxsO3ZtLm9wZW5Nb2RhbD1vcGVuTW9kYWw7dm0uc3RhdGVzPXN0YXRlczskc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihcIltzcG90Rm9ybS5zdHJlZXQuJHZhbGlkLCBzcG90Rm9ybS5jaXR5LiR2YWxpZCwgc3BvdEZvcm0uc3RhdGUuJHZhbGlkXVwiLGZ1bmN0aW9uKG5ld1ZhbCxvbGRWYWwpe2lmKG5ld1ZhbFswXSYmbmV3VmFsWzFdJiZuZXdWYWxbMl0mJiF2bS5zcG90RGF0YS5sYXRpdHVkZSYmIXZtLnNwb3REYXRhLmxvbmdpdHVkZSl7cmV0dXJuIGxvb2t1cEFkZHJlc3MoKTt9fSk7JHNjb3BlLiR3YXRjaCgndm0uUEFDTG9jYXRpb24nLGZ1bmN0aW9uKG5ld1ZhbCl7aWYobmV3VmFsJiZuZXdWYWwuZ2VvbWV0cnkpe3JldHVybiBzZXRTcG90RnJvbVBBQygpO319KTtmdW5jdGlvbiBzZXRTcG90RnJvbVBBQygpe3ZtLnNwb3REYXRhLm5hbWU9dm0uUEFDTG9jYXRpb24ubmFtZTt2bS5zcG90RGF0YS5zdHJlZXQ9W3ZtLlBBQ0xvY2F0aW9uLmFkZHJlc3NfY29tcG9uZW50c1swXS5sb25nX25hbWUsdm0uUEFDTG9jYXRpb24uYWRkcmVzc19jb21wb25lbnRzWzFdLnNob3J0X25hbWVdLmpvaW4oJywgJyk7dm0uc3BvdERhdGEuY2l0eT12bS5QQUNMb2NhdGlvbi5hZGRyZXNzX2NvbXBvbmVudHNbMl0uc2hvcnRfbmFtZTt2bS5zcG90RGF0YS5zdGF0ZT12bS5QQUNMb2NhdGlvbi5hZGRyZXNzX2NvbXBvbmVudHNbM10uc2hvcnRfbmFtZTt2bS5zcG90RGF0YS5waG9uZT12bS5QQUNMb2NhdGlvbi5mb3JtYXR0ZWRfcGhvbmVfbnVtYmVyO3ZtLnNwb3REYXRhLndlYnNpdGVfdXJsPXZtLlBBQ0xvY2F0aW9uLndlYnNpdGU7dm0uc3BvdERhdGEubGF0aXR1ZGU9dm0uUEFDTG9jYXRpb24uZ2VvbWV0cnkubG9jYXRpb24ubGF0KCk7dm0uc3BvdERhdGEubG9uZ2l0dWRlPXZtLlBBQ0xvY2F0aW9uLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpO307ZnVuY3Rpb24gbG9va3VwQWRkcmVzcygpe3ZhciBnZW9jb2Rlcj1uZXcgZ29vZ2xlLm1hcHMuR2VvY29kZXIoKTt2YXIgYWRkcmVzcz1bdm0uc3BvdERhdGEuc3RyZWV0LHZtLnNwb3REYXRhLmNpdHksdm0uc3BvdERhdGEuc3RhdGVdLmpvaW4oJywgJyk7Z2VvY29kZXIuZ2VvY29kZSh7J2FkZHJlc3MnOmFkZHJlc3N9LGZ1bmN0aW9uKHJlc3VsdHMsc3RhdHVzKXtpZihzdGF0dXM9PWdvb2dsZS5tYXBzLkdlb2NvZGVyU3RhdHVzLk9LKXt2bS5zcG90RGF0YS5sYXRpdHVkZT1yZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxhdCgpO3ZtLnNwb3REYXRhLmxvbmdpdHVkZT1yZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpO319KTt9O2Z1bmN0aW9uIG9wZW5Nb2RhbCgpe3ZhciBtb2RhbEluc3RhbmNlPSR1aWJNb2RhbC5vcGVuKHtjb250cm9sbGVyOiduZXdTcG90TW9kYWwnLGNvbnRyb2xsZXJBczonY3RybCcsdGVtcGxhdGVVcmw6J2NvbXBvbmVudHMvc3BvdHMvbmV3L25ld1Nwb3RNb2RhbC5odG1sJyxzaXplOidtZCd9KTttb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uKHJlcyl7c3BvdFNlcnZpY2UuY3JlYXRlKHZtLnNwb3REYXRhKS50aGVuKGZ1bmN0aW9uKHJlc3Ape3Nwb3RTZXJ2aWNlLnNwb3Q9bmV3IFNwb3QocmVzcCk7JHN0YXRlLmdvKCdlZGl0LmFib3V0Jyk7fSk7fSk7fX1uZXdTcG90LiRpbmplY3Q9Wyckc2NvcGUnLCdTcG90Jywnc3BvdFNlcnZpY2UnLCckc3RhdGUnLCckdWliTW9kYWwnLCdzdGF0ZXMnXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5jb250cm9sbGVyKCduZXdTcG90TW9kYWwnLG5ld1Nwb3RNb2RhbCk7ZnVuY3Rpb24gbmV3U3BvdE1vZGFsKCR1aWJNb2RhbEluc3RhbmNlKXt2YXIgY3RybD10aGlzO2N0cmwuc2F2ZT1zYXZlO2N0cmwuY2FuY2VsPWNhbmNlbDtmdW5jdGlvbiBzYXZlKCl7cmV0dXJuICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7fTtmdW5jdGlvbiBjYW5jZWwoKXtyZXR1cm4gJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcyhudWxsKTt9O31uZXdTcG90TW9kYWwuJGluamVjdD1bJyR1aWJNb2RhbEluc3RhbmNlJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykuZGlyZWN0aXZlKCduc1JlcG9ydCcsbnNSZXBvcnQpO2Z1bmN0aW9uIG5zUmVwb3J0KCl7cmV0dXJuIHtyZXN0cmljdDonRScsc2NvcGU6e30sYmluZFRvQ29udHJvbGxlcjp7c3BvdF9pZDonQHNwb3QnfSxjb250cm9sbGVyOlsnJHVpYk1vZGFsJyxmdW5jdGlvbigkdWliTW9kYWwpe3ZhciBjdHJsPXRoaXM7Y3RybC5vcGVuTW9kYWw9b3Blbk1vZGFsO2Z1bmN0aW9uIG9wZW5Nb2RhbCgpeyR1aWJNb2RhbC5vcGVuKHtjb250cm9sbGVyOiduc1JlcG9ydE1vZGFsJyxjb250cm9sbGVyQXM6J2N0cmwnLHRlbXBsYXRlVXJsOidjb21wb25lbnRzL3Nwb3RzL3JlcG9ydHMvbnNSZXBvcnRNb2RhbC5odG1sJyxzaXplOidzbScscmVzb2x2ZTp7c3BvdF9pZDpmdW5jdGlvbiBzcG90X2lkKCl7cmV0dXJuIGN0cmwuc3BvdF9pZDt9fX0pO307fV0sY29udHJvbGxlckFzOidjdHJsJyx0ZW1wbGF0ZTonPHNwYW4gY2xhc3M9XCJucy1yZXBvcnQgcHVsbC1yaWdodFwiIG5nLWNsaWNrPVwiY3RybC5vcGVuTW9kYWwoKVwiPiE8aSBjbGFzcz1cImZhIGZhLWZsYWdcIj48L2k+IFJlcG9ydCBBYnVzZTxzcGFuPid9O319KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5jb250cm9sbGVyKCduc1JlcG9ydE1vZGFsJyxuc1JlcG9ydE1vZGFsKTtmdW5jdGlvbiBuc1JlcG9ydE1vZGFsKCR1aWJNb2RhbEluc3RhbmNlLHNwb3RfaWQsUmVwb3J0KXt2YXIgY3RybD10aGlzO2N0cmwucmVwb3J0PVJlcG9ydDtjdHJsLnJlcG9ydERhdGE9e3Nwb3RfaWQ6c3BvdF9pZH07Y3RybC5zZW5kPXNlbmQ7Y3RybC5jYW5jZWw9Y2FuY2VsO2Z1bmN0aW9uIHNlbmQoKXtjdHJsLnJlcG9ydC5jcmVhdGUoY3RybC5yZXBvcnREYXRhKS50aGVuKGZ1bmN0aW9uKHJlc3ApeyR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7fSk7fTtmdW5jdGlvbiBjYW5jZWwoKXskdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7fTt9O25zUmVwb3J0TW9kYWwuJGluamVjdD1bJyR1aWJNb2RhbEluc3RhbmNlJywnc3BvdF9pZCcsJ1JlcG9ydCddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpLmZhY3RvcnkoJ1JlcG9ydCcsUmVwb3J0KTtmdW5jdGlvbiBSZXBvcnQoQkFTRV9BUElfVVJMLCRodHRwLHRvYXN0ZXIpe3ZhciBzZWxmPXtwZW5kaW5nOmZhbHNlLGNyZWF0ZTpmdW5jdGlvbiBjcmVhdGUocGFyYW1zKXtpZihzZWxmLnBlbmRpbmcpcmV0dXJuO3NlbGYucGVuZGluZz10cnVlO3JldHVybiAkaHR0cC5wb3N0KEJBU0VfQVBJX1VSTCsnL3JlcG9ydHMnLHBhcmFtcykudGhlbihmdW5jdGlvbigpe3RvYXN0ZXIucG9wKCdpbmZvJywnVGhhbmsgeW91IGZvciB5b3VyIGZlZWRiYWNrJyk7fSkuY2F0Y2goZnVuY3Rpb24oKXt0b2FzdGVyLnBvcCgnZXJyb3InLCdVbmFibGUgdG8gc2VuZCByZXBvcnQuIFBsZWFzZSBjb250YWN0IGluZm9AdGhlbml0ZXNwb3QuY29tJyk7fSkuZmluYWxseShmdW5jdGlvbigpe3NlbGYucGVuZGluZz1mYWxzZTt9KTt9fTtyZXR1cm4gc2VsZjt9O1JlcG9ydC4kaW5qZWN0PVsnQkFTRV9BUElfVVJMJywnJGh0dHAnLCd0b2FzdGVyJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykuZmlsdGVyKCdmZWF0dXJlcycsZmVhdHVyZXMpO2Z1bmN0aW9uIGZlYXR1cmVzKCl7cmV0dXJuIGZ1bmN0aW9uKGlucHV0LGZlYXR1cmVfaWRzKXt2YXIgZmw9ZmVhdHVyZV9pZHMubGVuZ3RoO2lmKCFmbClyZXR1cm4gaW5wdXQ7dmFyIHJldD1bXTtmb3IodmFyIGk9MCxsZW49aW5wdXQubGVuZ3RoO2k8bGVuO2krKyl7dmFyIG49MDtmb3IodmFyIGo9MCxrPWZlYXR1cmVfaWRzLmxlbmd0aDtqPGs7aisrKXtpZihpbnB1dFtpXS5mZWF0dXJlX2lkcy5pbmRleE9mKGZlYXR1cmVfaWRzW2pdKT4tMSluKys7fWlmKG49PT1mbClyZXQucHVzaChpbnB1dFtpXSk7fXJldHVybiByZXQ7fTt9fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykuZmlsdGVyKCdpZEFycicsaWRBcnIpO2Z1bmN0aW9uIGlkQXJyKCl7cmV0dXJuIGZ1bmN0aW9uKGlucHV0LGFycjEsYXJyMil7aWYoIWFycjIubGVuZ3RoKXJldHVybiBpbnB1dDt2YXIgcmV0PVtdO2Zvcih2YXIgaT0wLGlucHV0bGVuPWlucHV0Lmxlbmd0aDtpPGlucHV0bGVuO2krKyl7Zm9yKHZhciBqPTAsYXJyMWxlbj1pbnB1dFtpXVthcnIxXS5sZW5ndGg7ajxhcnIxbGVuO2orKyl7aWYoYXJyMi5pbmRleE9mKGlucHV0W2ldW2FycjFdW2pdKT4tMSl7cmV0LnB1c2goaW5wdXRbaV0pO2JyZWFrO319fXJldHVybiByZXQ7fTt9O30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpLmRpcmVjdGl2ZSgnbnNPcmRlclNlbGVjdCcsbnNPcmRlclNlbGVjdCk7ZnVuY3Rpb24gbnNPcmRlclNlbGVjdCgpe3JldHVybiB7cmVzdHJpY3Q6J0UnLHRlbXBsYXRlOlwiPGRpdiBjbGFzcz0nbnMtb3JkZXItc2VsZWN0Jz5cIitcIk9yZGVyIGJ5IFwiK1wiPHNlbGVjdCBjbGFzcz0nbnMtb3JkZXItc2VsZWN0JyBuZy1tb2RlbD0ndm0uZmlsdGVyUGFyYW1zLm9yZGVyJz5cIitcIjxvcHRpb24gdmFsdWU9J2Rpc3RhbmNlJz5EaXN0YW5jZTwvb3B0aW9uPlwiK1wiPG9wdGlvbiB2YWx1ZT0nLWZhdm9yaXRlc19jb3VudCc+RmF2b3JpdGVzPC9vcHRpb24+XCIrXCI8L3NlbGVjdD5cIitcIjwvZGl2PlwifTt9fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykuY29udHJvbGxlcignc2VhcmNoJyxzZWFyY2gpO2Z1bmN0aW9uIHNlYXJjaCgkc2NvcGUsc3BvdFNlcnZpY2Usc29ydCxmaWx0ZXJQYXJhbXMpe3ZhciB2bT10aGlzO3ZtLnNwb3RTZXJ2aWNlPXNwb3RTZXJ2aWNlO3ZtLnNvcnQ9c29ydDt2bS5maWx0ZXJQYXJhbXM9ZmlsdGVyUGFyYW1zO3ZtLmZpbHRlcmVkU3BvdHM9W107dm0uYXBwbHlGaWx0ZXJzPWFwcGx5RmlsdGVyczt2bS50b2RheT1uZXcgRGF0ZSgpO2luaXQoKTtmdW5jdGlvbiBpbml0KCl7dm0uc3BvdFNlcnZpY2UucGFyYW1zPXtzb3J0OnNvcnR9O3ZtLnNwb3RTZXJ2aWNlLmluaXQoKTt9OyRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCd2bS5zcG90U2VydmljZS5zcG90cycsZnVuY3Rpb24oKXtyZXR1cm4gYXBwbHlGaWx0ZXJzKCk7fSk7JHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ3ZtLmZpbHRlclBhcmFtc1t2bS5zb3J0XScsZnVuY3Rpb24oKXtyZXR1cm4gYXBwbHlGaWx0ZXJzKCk7fSk7JHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ3ZtLmZpbHRlclBhcmFtcy5mZWF0dXJlcycsZnVuY3Rpb24oKXtyZXR1cm4gYXBwbHlGaWx0ZXJzKCk7fSk7JHNjb3BlLiR3YXRjaCgndm0uZmlsdGVyUGFyYW1zLm9yZGVyJyxmdW5jdGlvbigpe3JldHVybiBhcHBseUZpbHRlcnMoKTt9KTtmdW5jdGlvbiBhcHBseUZpbHRlcnMoKXt2bS5maWx0ZXJlZFNwb3RzPSRzY29wZS4kZXZhbChcInZtLnNwb3RTZXJ2aWNlLnNwb3RzIHwgaWRBcnI6J2NhdGVnb3J5X2lkcyc6dm0uZmlsdGVyUGFyYW1zW3ZtLnNvcnRdIHwgZmVhdHVyZXM6dm0uZmlsdGVyUGFyYW1zLmZlYXR1cmVzIHwgb3JkZXJCeTp2bS5maWx0ZXJQYXJhbXMub3JkZXJcIik7cmV0dXJuIHZtLmZpbHRlcmVkU3BvdHM7fTt9O3NlYXJjaC4kaW5qZWN0PVsnJHNjb3BlJywnc3BvdFNlcnZpY2UnLCdzb3J0JywnZmlsdGVyUGFyYW1zJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykuY29udHJvbGxlcignc2VhcmNoVmVudWVzJyxzZWFyY2hWZW51ZXMpO2Z1bmN0aW9uIHNlYXJjaFZlbnVlcygkc2NvcGUsc3BvdFNlcnZpY2UsZmlsdGVyUGFyYW1zKXt2YXIgdm09dGhpczt2bS5zcG90U2VydmljZT1zcG90U2VydmljZTt2bS50b2RheT1uZXcgRGF0ZSgpO2luaXQoKTtmdW5jdGlvbiBpbml0KCl7dm0uc3BvdFNlcnZpY2UucGFyYW1zPXtzb3J0OidhdHRlbmQnfTt2bS5zcG90U2VydmljZS5pbml0KCk7fTt9O3NlYXJjaFZlbnVlcy4kaW5qZWN0PVsnJHNjb3BlJywnc3BvdFNlcnZpY2UnLCdmaWx0ZXJQYXJhbXMnXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5jb250cm9sbGVyKCdlZGl0U3BlY2lhbHMnLGVkaXRTcGVjaWFscyk7ZnVuY3Rpb24gZWRpdFNwZWNpYWxzKHNwZWNpYWxTZXJ2aWNlLGZlYXR1cmVkU3BlY2lhbFNlcnZpY2Usc3BlY2lhbEhlYWRpbmdzLG9wZW5Ob3csJHVpYk1vZGFsKXt2YXIgY3RybD10aGlzO2N0cmwuc3BlY2lhbFNlcnZpY2U9c3BlY2lhbFNlcnZpY2U7Y3RybC5zcGVjaWFsU2VydmljZS5sb2FkU3BlY2lhbHMoKTtjdHJsLmZlYXR1cmVkU3BlY2lhbFNlcnZpY2U9ZmVhdHVyZWRTcGVjaWFsU2VydmljZTtjdHJsLmZlYXR1cmVkU3BlY2lhbFNlcnZpY2UubG9hZFNwZWNpYWxzKCk7Y3RybC5oZWFkaW5ncz1zcGVjaWFsSGVhZGluZ3M7Y3RybC5vcGVuTm93PW9wZW5Ob3c7Y3RybC5vcGVuV2Vla2x5U3BlY2lhbE1vZGFsPW9wZW5XZWVrbHlTcGVjaWFsTW9kYWw7Y3RybC5vcGVuRmVhdHVyZWRTcGVjaWFsTW9kYWw9b3BlbkZlYXR1cmVkU3BlY2lhbE1vZGFsO2N0cmwucmVtb3ZlPXJlbW92ZTtjdHJsLnJlbW92ZUZlYXR1cmVkPXJlbW92ZUZlYXR1cmVkO2Z1bmN0aW9uIG9wZW5GZWF0dXJlZFNwZWNpYWxNb2RhbChzcGwpe2lmKHNwbCl7ZmVhdHVyZWRTcGVjaWFsU2VydmljZS5zcGVjaWFsPWFuZ3VsYXIuZXh0ZW5kKHNwbCx7c3RhcnRfdGltZTpzcGwuc3RhcnRfdGltZT9uZXcgRGF0ZShzcGwuc3RhcnRfdGltZSk6bnVsbCxlbmRfdGltZTpzcGwuZW5kX3RpbWU/bmV3IERhdGUoc3BsLmVuZF90aW1lKTpudWxsLHN0YXJ0X2RhdGU6bmV3IERhdGUoc3BsLnN0YXJ0X2RhdGUpLGVuZF9kYXRlOnNwbC5lbmRfZGF0ZT9uZXcgRGF0ZShzcGwuZW5kX2RhdGUpOm51bGx9KTt9ZWxzZSB7dmFyIGQ9bmV3IERhdGUoKTtmZWF0dXJlZFNwZWNpYWxTZXJ2aWNlLnNwZWNpYWw9e3N0YXJ0X2RhdGU6bmV3IERhdGUoKX07fXZhciBtaT0kdWliTW9kYWwub3Blbih7Y29udHJvbGxlcjonZmVhdHVyZWRTcGVjaWFsTW9kYWwnLGNvbnRyb2xsZXJBczonc3Bsc0N0cmwnLHRlbXBsYXRlVXJsOidjb21wb25lbnRzL3Nwb3RzL3NwZWNpYWxzL2ZlYXR1cmVkL2ZlYXR1cmVkU3BlY2lhbE1vZGFsLmh0bWwnLHNpemU6J21kJ30pO21pLnJlc3VsdC50aGVuKGZ1bmN0aW9uKHJlcyl7ZmVhdHVyZWRTcGVjaWFsU2VydmljZS5zcGVjaWFsPW51bGw7IC8vLyBERVJQPz8hP1xufSk7fTtmdW5jdGlvbiBvcGVuV2Vla2x5U3BlY2lhbE1vZGFsKHNwbCl7aWYoc3BsKXtjdHJsLnNwZWNpYWxTZXJ2aWNlLnNwZWNpYWw9YW5ndWxhci5leHRlbmQoc3BsLHtzdGFydF90aW1lOm5ldyBEYXRlKHNwbC5zdGFydF90aW1lKSxlbmRfdGltZTpuZXcgRGF0ZShzcGwuZW5kX3RpbWUpLGRheXM6c3BsLmRheXMubWFwKE51bWJlcil9KTt9ZWxzZSB7Y3RybC5zcGVjaWFsU2VydmljZS5zcGVjaWFsPXt9O312YXIgbW9kYWxJbnN0YW5jZT0kdWliTW9kYWwub3Blbih7Y29udHJvbGxlcjonc3BlY2lhbE1vZGFsJyxjb250cm9sbGVyQXM6J3NwbHNDdHJsJyx0ZW1wbGF0ZVVybDonY29tcG9uZW50cy9zcG90cy9zcGVjaWFscy9zcGVjaWFsTW9kYWwuaHRtbCcsc2l6ZTonbWQnfSk7bW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbihyZXMpe2N0cmwuc3BlY2lhbFNlcnZpY2Uuc3BlY2lhbD1udWxsO2N0cmwuc3BlY2lhbFNlcnZpY2Uuc29ydFNwZWNpYWxzKCk7fSk7fTtmdW5jdGlvbiByZW1vdmUoc3BsKXtpZighc3BsKXJldHVybjtjdHJsLnNwZWNpYWxTZXJ2aWNlLnNwZWNpYWw9c3BsO2N0cmwuc3BlY2lhbFNlcnZpY2UuZGVzdHJveSgpO307ZnVuY3Rpb24gcmVtb3ZlRmVhdHVyZWQoc3BsKXtpZighc3BsKXJldHVybjtjdHJsLmZlYXR1cmVkU3BlY2lhbFNlcnZpY2Uuc3BlY2lhbD1zcGw7Y3RybC5mZWF0dXJlZFNwZWNpYWxTZXJ2aWNlLmRlc3Ryb3koKTt9O307ZWRpdFNwZWNpYWxzLiRpbmplY3Q9WydzcGVjaWFsU2VydmljZScsJ2ZlYXR1cmVkU3BlY2lhbFNlcnZpY2UnLCdzcGVjaWFsSGVhZGluZ3MnLCdvcGVuTm93JywnJHVpYk1vZGFsJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykuZmFjdG9yeSgnU3BlY2lhbCcsU3BlY2lhbCk7ZnVuY3Rpb24gU3BlY2lhbChCQVNFX0FQSV9VUkwsJHJlc291cmNlKXt2YXIgbmVzdGVkX3VybD1CQVNFX0FQSV9VUkwrJy9zcG90cy86c3BvdF9pZC9zcGVjaWFscyc7cmV0dXJuICRyZXNvdXJjZShCQVNFX0FQSV9VUkwrJy9zcGVjaWFscy86aWQnLHtpZDonQGlkJyxzcG90X2lkOidAc3BvdF9pZCd9LHtpbmRleDp7bWV0aG9kOidHRVQnLHVybDpuZXN0ZWRfdXJsLGlzQXJyYXk6dHJ1ZX0sd2Vla2x5OnttZXRob2Q6J0dFVCcsdXJsOm5lc3RlZF91cmwrXCIvd2Vla2x5XCIsaXNBcnJheTp0cnVlfSxmZWF0dXJlZDp7bWV0aG9kOidHRVQnLHVybDpuZXN0ZWRfdXJsK1wiL2ZlYXR1cmVkXCIsaXNBcnJheTp0cnVlfSxjcmVhdGU6e21ldGhvZDonUE9TVCcsdXJsOm5lc3RlZF91cmx9LHVwZGF0ZTp7bWV0aG9kOidQVVQnfX0pO307U3BlY2lhbC4kaW5qZWN0PVsnQkFTRV9BUElfVVJMJywnJHJlc291cmNlJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykudmFsdWUoJ3NwZWNpYWxIZWFkaW5ncycsezA6JyogRGFpbHknLDE6J01vbmRheXMnLDI6J1R1ZXNkYXlzJywzOidXZWRuZXNkYXlzJyw0OidUaHVyc2RheXMnLDU6J0ZyaWRheXMnLDY6J1NhdHVyZGF5cycsNzonU3VuZGF5cyd9KTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5jb250cm9sbGVyKCdzcGVjaWFsTW9kYWwnLHNwZWNpYWxNb2RhbCk7ZnVuY3Rpb24gc3BlY2lhbE1vZGFsKCR1aWJNb2RhbEluc3RhbmNlLHNwZWNpYWxTZXJ2aWNlKXt2YXIgY3RybD10aGlzO2N0cmwuc3BlY2lhbFNlcnZpY2U9c3BlY2lhbFNlcnZpY2U7Y3RybC5zYXZlPXNhdmU7Y3RybC5jYW5jZWw9Y2FuY2VsO2N0cmwubWluRGF0ZT1uZXcgRGF0ZSgpO2N0cmwubWF4RGF0ZT1uZXcgRGF0ZSgpLnNldERhdGUobmV3IERhdGUoKS5nZXREYXRlKCkrMzApO2Z1bmN0aW9uIHNhdmUoKXtzcGVjaWFsU2VydmljZS5zYXZlKCkudGhlbihmdW5jdGlvbihyZXNwKXtyZXR1cm4gJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTt9KTt9O2Z1bmN0aW9uIGNhbmNlbCgpe3JldHVybiAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKG51bGwpO307fTtzcGVjaWFsTW9kYWwuJGluamVjdD1bJyR1aWJNb2RhbEluc3RhbmNlJywnc3BlY2lhbFNlcnZpY2UnXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5mYWN0b3J5KCdzcGVjaWFsU2VydmljZScsc3BlY2lhbFNlcnZpY2UpO2Z1bmN0aW9uIHNwZWNpYWxTZXJ2aWNlKFNwZWNpYWwsc3BvdFNlcnZpY2UsJHEsdG9hc3Rlcil7dmFyIHNlbGY9e3BlbmRpbmc6ZmFsc2Usc3BlY2lhbHM6W10sc29ydGVkU3BlY2lhbHM6ezA6W10sMTpbXSwyOltdLDM6W10sNDpbXSw1OltdLDY6W10sNzpbXX0sc29ydFNwZWNpYWxzOnNvcnRTcGVjaWFscyxzcGVjaWFsOm51bGwsbG9hZFNwZWNpYWxzOmxvYWRTcGVjaWFscyxzYXZlOnNhdmUsZGVzdHJveTpkZXN0cm95fTtyZXR1cm4gc2VsZjtmdW5jdGlvbiBsb2FkU3BlY2lhbHMoc3BvdF9pZCl7aWYoc2VsZi5wZW5kaW5nKXJldHVybjtzZWxmLnBlbmRpbmc9dHJ1ZTt2YXIgc3BvdF9pZD1zcG90X2lkfHxzcG90U2VydmljZS5zcG90LmlkO1NwZWNpYWwud2Vla2x5KHtzcG90X2lkOnNwb3RfaWR9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3Ape3NlbGYuc3BlY2lhbHM9cmVzcC5tYXAoZnVuY3Rpb24ob2JqKXtyZXR1cm4gbmV3IFNwZWNpYWwob2JqKTt9KTtzb3J0U3BlY2lhbHMoKTt9KS5maW5hbGx5KGZ1bmN0aW9uKCl7c2VsZi5wZW5kaW5nPWZhbHNlO30pO31mdW5jdGlvbiBzb3J0U3BlY2lhbHMoKXtPYmplY3Qua2V5cyhzZWxmLnNvcnRlZFNwZWNpYWxzKS5tYXAoZnVuY3Rpb24odmFsLGkpe3NlbGYuc29ydGVkU3BlY2lhbHNbdmFsXS5sZW5ndGg9MDt9KTtmb3IodmFyIGk9MCxqPXNlbGYuc3BlY2lhbHMubGVuZ3RoO2k8ajtpKyspe2lmKHNlbGYuc3BlY2lhbHNbaV0uZGF5cy5sZW5ndGg9PTcpe3NlbGYuc29ydGVkU3BlY2lhbHNbMF0ucHVzaChzZWxmLnNwZWNpYWxzW2ldKTt9ZWxzZSB7Zm9yKHZhciBrPTA7azw4O2srKyl7aWYoc2VsZi5zcGVjaWFsc1tpXS5kYXlzLmluZGV4T2YoJycrayk+LTEpe3NlbGYuc29ydGVkU3BlY2lhbHNba10ucHVzaChzZWxmLnNwZWNpYWxzW2ldKTt9fX19fWZ1bmN0aW9uIHNhdmUoKXtpZihzZWxmLnBlbmRpbmd8fCFzZWxmLnNwZWNpYWwpcmV0dXJuO3JldHVybiBzZWxmLnNwZWNpYWwuaWQ/dXBkYXRlKCk6Y3JlYXRlKCk7fWZ1bmN0aW9uIGNyZWF0ZSgpe3ZhciBkPSRxLmRlZmVyKCk7c2VsZi5wZW5kaW5nPXRydWU7c2VsZi5zcGVjaWFsLnNwb3RfaWQ9c3BvdFNlcnZpY2Uuc3BvdC5pZDtTcGVjaWFsLmNyZWF0ZShzZWxmLnNwZWNpYWwpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcCl7dmFyIHNwZWNpYWw9bmV3IFNwZWNpYWwocmVzcCk7c2VsZi5zcGVjaWFscy5wdXNoKHNwZWNpYWwpO3NlbGYuc3BlY2lhbD1udWxsO3RvYXN0ZXIucG9wKCdzdWNjZXNzJywnU3BlY2lhbCBhZGRlZCcpO3NvcnRTcGVjaWFscygpO2QucmVzb2x2ZShyZXNwKTt9KS5jYXRjaChmdW5jdGlvbihyZXNwKXt0b2FzdGVyLnBvcCgnZXJyb3InLCdVbmFibGUgdG8gYWRkIHNwZWNpYWwnKTtkLnJlamVjdChyZXNwKTt9KS5maW5hbGx5KGZ1bmN0aW9uKCl7c2VsZi5wZW5kaW5nPWZhbHNlO30pO3JldHVybiBkLnByb21pc2U7fWZ1bmN0aW9uIHVwZGF0ZSgpe3ZhciBkPSRxLmRlZmVyKCk7c2VsZi5wZW5kaW5nPXRydWU7c2VsZi5zcGVjaWFsLiR1cGRhdGUoKS50aGVuKGZ1bmN0aW9uKHJlc3Ape3RvYXN0ZXIucG9wKCdzdWNjZXNzJywnU3BlY2lhbCB1cGRhdGVkJyk7c2VsZi5zcGVjaWFsPW51bGw7c29ydFNwZWNpYWxzKCk7ZC5yZXNvbHZlKHJlc3ApO30pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape3RvYXN0ZXIucG9wKCdlcnJvcicsJ1VuYWJsZSB0byB1cGRhdGUgc3BlY2lhbCcpO2QucmVqZWN0KHJlc3ApO30pLmZpbmFsbHkoZnVuY3Rpb24oKXtzZWxmLnBlbmRpbmc9ZmFsc2U7fSk7cmV0dXJuIGQucHJvbWlzZTt9O2Z1bmN0aW9uIGRlc3Ryb3koKXtpZihzZWxmLnBlbmRpbmd8fCFzZWxmLnNwZWNpYWwpcmV0dXJuO3NlbGYucGVuZGluZz10cnVlO3NlbGYuc3BlY2lhbC4kZGVsZXRlKCkudGhlbihmdW5jdGlvbihyZXNwKXt2YXIgaT1zZWxmLnNwZWNpYWxzLmluZGV4T2Yoc2VsZi5zcGVjaWFsKTtzZWxmLnNwZWNpYWxzLnNwbGljZShpLDEpO3NlbGYuc3BlY2lhbD1udWxsO3RvYXN0ZXIucG9wKCdzdWNjZXNzJywnU3BlY2lhbCByZW1vdmVkJyk7c29ydFNwZWNpYWxzKCk7cmV0dXJuIHJlc3A7fSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7Y29uc29sZS5lcnJvcihyZXNwKTt9KS5maW5hbGx5KGZ1bmN0aW9uKCl7c2VsZi5wZW5kaW5nPWZhbHNlO30pO307fTtzcGVjaWFsU2VydmljZS4kaW5qZWN0PVsnU3BlY2lhbCcsJ3Nwb3RTZXJ2aWNlJywnJHEnLCd0b2FzdGVyJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykuY29udHJvbGxlcignc3BlY2lhbHMnLHNwZWNpYWxzKTtmdW5jdGlvbiBzcGVjaWFscyhzcG90LHNwZWNpYWxTZXJ2aWNlLHNwZWNpYWxIZWFkaW5ncyxvcGVuTm93KXt2YXIgY3RybD10aGlzO2N0cmwuc3BlY2lhbFNlcnZpY2U9c3BlY2lhbFNlcnZpY2U7Y3RybC5zcGVjaWFsU2VydmljZS5sb2FkU3BlY2lhbHMoc3BvdC5pZCk7Y3RybC5oZWFkaW5ncz1zcGVjaWFsSGVhZGluZ3M7Y3RybC5vcGVuTm93PW9wZW5Ob3c7fTtzcGVjaWFscy4kaW5qZWN0PVsnc3BvdCcsJ3NwZWNpYWxTZXJ2aWNlJywnc3BlY2lhbEhlYWRpbmdzJywnb3Blbk5vdyddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpLmRpcmVjdGl2ZSgnbnNTZWFyY2hVc2VycycsbnNTZWFyY2hVc2Vycyk7ZnVuY3Rpb24gbnNTZWFyY2hVc2Vycyh1c2VyUm9sZVNlcnZpY2UsQkFTRV9BUElfVVJMLCRodHRwKXtyZXR1cm4ge3Jlc3RyaWN0OidFJyx0ZW1wbGF0ZVVybDonY29tcG9uZW50cy9zcG90cy91c2VyUm9sZXMvbnNTZWFyY2hVc2Vycy5odG1sJyxsaW5rOmZ1bmN0aW9uIGxpbmsoc2NvcGUsZWxlbSxhdHRycyl7c2NvcGUudXNlcnM9W107c2NvcGUudXNlclJvbGVTZXJ2aWNlPXVzZXJSb2xlU2VydmljZTtzY29wZS5zZWFyY2hVc2Vycz1zZWFyY2hVc2VycztzY29wZS51c2VyQmVsb25ncz11c2VyQmVsb25ncztmdW5jdGlvbiBzZWFyY2hVc2VycygpeyRodHRwLmdldChCQVNFX0FQSV9VUkwrJy91c2Vycy9zZWFyY2gnLHtwYXJhbXM6e3E6c2NvcGUucXVlcnl9fSkudGhlbihmdW5jdGlvbihyZXNwKXtzY29wZS51c2Vycz1yZXNwLmRhdGE7fSk7fTtmdW5jdGlvbiB1c2VyQmVsb25ncyh1c2VyKXtmb3IodmFyIGk9MCxqPXVzZXJSb2xlU2VydmljZS5yb2xlcy5sZW5ndGg7aTxqO2krKyl7aWYodXNlclJvbGVTZXJ2aWNlLnJvbGVzW2ldLnVzZXIuaWQ9PT11c2VyLmlkKXJldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fTt9fTt9O25zU2VhcmNoVXNlcnMuJGluamVjdD1bJ3VzZXJSb2xlU2VydmljZScsJ0JBU0VfQVBJX1VSTCcsJyRodHRwJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykuZGlyZWN0aXZlKCduc1VzZXJSb2xlcycsbnNVc2VyUm9sZXMpO2Z1bmN0aW9uIG5zVXNlclJvbGVzKCRyb290U2NvcGUsdXNlclJvbGVTZXJ2aWNlLHNwb3RTZXJ2aWNlKXtyZXR1cm4ge3Jlc3RyaWN0OidFJyx0ZW1wbGF0ZVVybDonY29tcG9uZW50cy9zcG90cy91c2VyUm9sZXMvbnNVc2VyUm9sZXMuaHRtbCcsY29udHJvbGxlcjpbJyRyb290U2NvcGUnLCd1c2VyUm9sZVNlcnZpY2UnLCdzcG90U2VydmljZScsZnVuY3Rpb24oJHJvb3RTY29wZSx1c2VyUm9sZVNlcnZpY2Usc3BvdFNlcnZpY2Upe3ZhciBjdHJsPXRoaXM7Y3RybC51c2VyUm9sZVNlcnZpY2U9dXNlclJvbGVTZXJ2aWNlO2N0cmwudXNlclJvbGVTZXJ2aWNlLmxvYWRSb2xlcygpO2N0cmwuaXNBZG1pbj1mYWxzZTsoZnVuY3Rpb24gaW5pdCgpe2Zvcih2YXIgaT0wLGo9JHJvb3RTY29wZS51c2VyLnVzZXJfcm9sZXMubGVuZ3RoO2k8ajtpKyspe2lmKCRyb290U2NvcGUudXNlci51c2VyX3JvbGVzW2ldLnNwb3RfaWQ9PT1zcG90U2VydmljZS5zcG90LmlkJiYkcm9vdFNjb3BlLnVzZXIudXNlcl9yb2xlc1tpXS5yb2xlPT09J2FkbWluJyl7cmV0dXJuIGN0cmwuaXNBZG1pbj10cnVlO319fSkoKTt9XSxjb250cm9sbGVyQXM6J3JvbGVzQ3RybCd9O307bnNVc2VyUm9sZXMuJGluamVjdD1bJyRyb290U2NvcGUnLCd1c2VyUm9sZVNlcnZpY2UnLCdzcG90U2VydmljZSddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpLmZhY3RvcnkoJ1VzZXJSb2xlJyxVc2VyUm9sZSk7ZnVuY3Rpb24gVXNlclJvbGUoQkFTRV9BUElfVVJMLCRyZXNvdXJjZSl7dmFyIHJlc291cmNlVXJsPUJBU0VfQVBJX1VSTCsnL3Nwb3RzLzpzcG90X2lkL3VzZXJfcm9sZXMnO3JldHVybiAkcmVzb3VyY2UoQkFTRV9BUElfVVJMKycvdXNlcl9yb2xlcy86aWQnLHtpZDonQGlkJyxzcG90X2lkOidAc3BvdF9pZCd9LHtpbmRleDp7bWV0aG9kOidHRVQnLHVybDpyZXNvdXJjZVVybCxpc0FycmF5OnRydWV9LGNyZWF0ZTp7bWV0aG9kOidQT1NUJyx1cmw6cmVzb3VyY2VVcmx9LHVwZGF0ZTp7bWV0aG9kOidQVVQnfX0pO31Vc2VyUm9sZS4kaW5qZWN0PVsnQkFTRV9BUElfVVJMJywnJHJlc291cmNlJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykuZmFjdG9yeSgndXNlclJvbGVTZXJ2aWNlJyx1c2VyUm9sZVNlcnZpY2UpO2Z1bmN0aW9uIHVzZXJSb2xlU2VydmljZShVc2VyUm9sZSxzcG90U2VydmljZSwkcSx0b2FzdGVyKXt2YXIgc2VsZj17cGVuZGluZzpmYWxzZSxyb2xlczpbXSxyb2xlOm51bGwsbG9hZFJvbGVzOmxvYWRSb2xlcyxjcmVhdGU6Y3JlYXRlLHVwZGF0ZTp1cGRhdGUsZGVzdHJveTpkZXN0cm95fTtyZXR1cm4gc2VsZjtmdW5jdGlvbiBsb2FkUm9sZXMoKXtVc2VyUm9sZS5pbmRleCh7c3BvdF9pZDpzcG90U2VydmljZS5zcG90LmlkfSkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwKXtzZWxmLnJvbGVzPXJlc3AubWFwKGZ1bmN0aW9uKG9iail7cmV0dXJuIG5ldyBVc2VyUm9sZShvYmopO30pO30pO307ZnVuY3Rpb24gY3JlYXRlKHVzZXIpe2lmKCFzcG90U2VydmljZS5zcG90fHwhdXNlcilyZXR1cm47dmFyIGQ9JHEuZGVmZXIoKTtzZWxmLnBlbmRpbmc9dHJ1ZTtVc2VyUm9sZS5jcmVhdGUoe3VzZXJfaWQ6dXNlci5pZCxzcG90X2lkOnNwb3RTZXJ2aWNlLnNwb3QuaWR9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3Ape3NlbGYucm9sZXMucHVzaChuZXcgVXNlclJvbGUocmVzcCkpO3RvYXN0ZXIucG9wKCdzdWNjZXNzJywnVXNlciBhZGRlZCcpO2QucmVzb2x2ZShyZXNwKTt9KS5jYXRjaChmdW5jdGlvbihyZXNwKXt0b2FzdGVyLnBvcCgnZXJyb3InLCdVbmFibGUgdG8gYWRkIHVzZXInKTtkLnJlamVjdChyZXNwKTt9KS5maW5hbGx5KGZ1bmN0aW9uKCl7c2VsZi5wZW5kaW5nPWZhbHNlO30pO3JldHVybiBkLnByb21pc2U7fTtmdW5jdGlvbiB1cGRhdGUodXNlclJvbGUpe2lmKCF1c2VyUm9sZSlyZXR1cm47dXNlclJvbGUuJHVwZGF0ZSgpLnRoZW4oZnVuY3Rpb24ocmVzcCl7dG9hc3Rlci5wb3AoJ3N1Y2Nlc3MnLCdVc2VyIHVwZGF0ZWQnKTt9KS5jYXRjaChmdW5jdGlvbihyZXNwKXt0b2FzdGVyLnBvcCgnZXJyb3InLCdVbmFibGUgdG8gdXBkYXRlIHVzZXInKTt9KTt9O2Z1bmN0aW9uIGRlc3Ryb3kodXNlclJvbGUpe2lmKCF1c2VyUm9sZSlyZXR1cm47dXNlclJvbGUuJGRlbGV0ZSgpLnRoZW4oZnVuY3Rpb24ocmVzcCl7dmFyIGk9c2VsZi5yb2xlcy5pbmRleE9mKHVzZXJSb2xlKTtzZWxmLnJvbGVzLnNwbGljZShpLDEpO3RvYXN0ZXIucG9wKCdzdWNjZXNzJywnVXNlciByZW1vdmVkJyk7cmV0dXJuIHJlc3A7fSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7Y29uc29sZS5lcnJvcihyZXNwKTt9KTt9O307dXNlclJvbGVTZXJ2aWNlLiRpbmplY3Q9WydVc2VyUm9sZScsJ3Nwb3RTZXJ2aWNlJywnJHEnLCd0b2FzdGVyJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwJykuZGlyZWN0aXZlKCduc1RhZ0xpc3QnLG5zVGFnTGlzdCk7ZnVuY3Rpb24gbnNUYWdMaXN0KENhdGVnb3J5KXtyZXR1cm4ge3Jlc3RyaWN0OidFJyxzY29wZTp7fSxiaW5kVG9Db250cm9sbGVyOntzcG90Oic9J30sdGVtcGxhdGU6XCI8dWwgY2xhc3M9J25zLXRhZ3MnPlwiK1wiPGxpIG5nLWlmPSdsaXN0Q3RybC5zcG90LnByaWNlICE9IDAnPlwiK1wiPHNwYW4gbmctcmVwZWF0PSdwcmljZSBpbiBsaXN0Q3RybC5wcmljZXMgdHJhY2sgYnkgJGluZGV4JyBuZy1jbGFzcz0ne2VhdDogbGlzdEN0cmwuc3BvdC5wcmljZSA+ICRpbmRleH0nPiQ8L3NwYW4+XCIrXCI8L2xpPlwiK1wiPGxpIG5nLXJlcGVhdD0nY3RnIGluIGxpc3RDdHJsLmNhdGVnb3J5T2JqcycgbmctY2xhc3M9J2N0Zy5zb3J0Jz57e2N0Zy5uYW1lfX08L2xpPlwiK1wiPC91bD5cIixjb250cm9sbGVyOlsnQ2F0ZWdvcnknLGZ1bmN0aW9uKENhdGVnb3J5KXt2YXIgY3RybD10aGlzO2N0cmwucHJpY2VzPW5ldyBBcnJheSg0KTtDYXRlZ29yeS5pbmRleCgpLnRoZW4oZnVuY3Rpb24ocmVzcCl7Y3RybC5jYXRlZ29yeU9ianM9cmVzcC5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIGN0cmwuc3BvdC5jYXRlZ29yeV9pZHMuaW5kZXhPZihuLmlkKT4tMTt9KTt9KTt9XSxjb250cm9sbGVyQXM6J2xpc3RDdHJsJ307fW5zVGFnTGlzdC4kaW5qZWN0PVsnQ2F0ZWdvcnknXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5jb250cm9sbGVyKCd2aWV3U3BvdCcsdmlld1Nwb3QpO2Z1bmN0aW9uIHZpZXdTcG90KHNwb3Qpe3ZhciB2bT10aGlzO3ZtLnNwb3Q9c3BvdDt2bS50b2RheT1EYXRlLm5vdygpO3ZtLnBsYWNlaG9sZGVyPWZ1bmN0aW9uKCl7dmFyIGZpbGVuYW1lPScvJztpZih2bS5zcG90LmVhdHx8dm0uc3BvdC5kcmlua3x8dm0uc3BvdC5hdHRlbmQpe2lmKHZtLnNwb3QuZWF0KWZpbGVuYW1lKz0nZSc7aWYodm0uc3BvdC5kcmluaylmaWxlbmFtZSs9J2QnO2lmKHZtLnNwb3QuYXR0ZW5kKWZpbGVuYW1lKz0nYSc7fWVsc2Uge2ZpbGVuYW1lKz0nYSc7fWZpbGVuYW1lKz0nLnBuZyc7cmV0dXJuIGZpbGVuYW1lO307fXZpZXdTcG90LiRpbmplY3Q9WydzcG90J107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJykuZmlsdGVyKCd3YWxraW5nVGltZScsd2Fsa2luZ1RpbWUpO2Z1bmN0aW9uIHdhbGtpbmdUaW1lKCl7cmV0dXJuIGZ1bmN0aW9uKGlucHV0KXtpZighaW5wdXQuZGlzdGFuY2UpcmV0dXJuICcnO3ZhciB0aW1lPU1hdGgucm91bmQoaW5wdXQuZGlzdGFuY2UvMi41KjYwKTtyZXR1cm4gdGltZT4wJiZ0aW1lPDMwP3RpbWUrMitcIm1pbnNcIjonJzt9O307fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnVzZXJzJykuY29udHJvbGxlcignZWRpdEFjY291bnQnLGVkaXRBY2NvdW50KTtmdW5jdGlvbiBlZGl0QWNjb3VudCh1c2VyU2VydmljZSwkc3RhdGUpe3ZhciB2bT10aGlzO3VzZXJTZXJ2aWNlLnNldEN1cnJlbnRBY2NvdW50KCk7dm0udXNlclNlcnZpY2U9dXNlclNlcnZpY2U7dm0udXBkYXRlQWNjb3VudD11cGRhdGVBY2NvdW50O3ZtLmRlc3Ryb3lBY2NvdW50PWRlc3Ryb3lBY2NvdW50O2Z1bmN0aW9uIHVwZGF0ZUFjY291bnQoZm9ybSl7aWYoIWZvcm0uJHZhbGlkKXJldHVybjt1c2VyU2VydmljZS51cGRhdGUoKS5maW5hbGx5KGZ1bmN0aW9uKHJlc3Ape2Zvcm0uJHNldFByaXN0aW5lKCk7fSk7fWZ1bmN0aW9uIGRlc3Ryb3lBY2NvdW50KGZvcm0pe2lmKCFmb3JtLiR2YWxpZClyZXR1cm47dXNlclNlcnZpY2UuZGVzdHJveSgpLnRoZW4oZnVuY3Rpb24ocmVzcCl7JHN0YXRlLmdvKCdob21lJyk7fSk7fX1lZGl0QWNjb3VudC4kaW5qZWN0PVsndXNlclNlcnZpY2UnLCckc3RhdGUnXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAudXNlcnMnKS5jb250cm9sbGVyKCduZXdBY2NvdW50JyxuZXdBY2NvdW50KTtmdW5jdGlvbiBuZXdBY2NvdW50KHVzZXJTZXJ2aWNlLCRzdGF0ZSl7dmFyIHZtPXRoaXM7dm0udXNlclNlcnZpY2U9dXNlclNlcnZpY2U7dm0udXNlclNlcnZpY2UuYWNjb3VudD17ZG9iOm5ldyBEYXRlKCkscGFzc3dvcmQ6JycscGFzc3dvcmRfY29uZmlybWF0aW9uOicnfTt2bS5jcmVhdGVBY2NvdW50PWNyZWF0ZUFjY291bnQ7ZnVuY3Rpb24gY3JlYXRlQWNjb3VudChmb3JtKXtpZighZm9ybS4kdmFsaWQpcmV0dXJuO3VzZXJTZXJ2aWNlLnJlZ2lzdGVyKCkudGhlbihmdW5jdGlvbihyZXNwKXskc3RhdGUuZ28oJ2hvbWUnKTt9KTt9fTtuZXdBY2NvdW50LiRpbmplY3Q9Wyd1c2VyU2VydmljZScsJyRzdGF0ZSddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC51c2VycycpLmNvbnRyb2xsZXIoJ3JlcXVlc3RQYXNzd29yZFJlc2V0JyxyZXF1ZXN0UGFzc3dvcmRSZXNldCk7ZnVuY3Rpb24gcmVxdWVzdFBhc3N3b3JkUmVzZXQodXNlclNlcnZpY2UsJHN0YXRlKXt2YXIgdm09dGhpczt2bS51c2VyU2VydmljZT11c2VyU2VydmljZTt2bS51c2VyU2VydmljZS5hY2NvdW50PXt9O3ZtLnJlcXVlc3RQYXNzd29yZFJlc2V0PXJlcXVlc3RQYXNzd29yZFJlc2V0O2Z1bmN0aW9uIHJlcXVlc3RQYXNzd29yZFJlc2V0KGZvcm0pe2lmKCFmb3JtLiR2YWxpZClyZXR1cm47dXNlclNlcnZpY2UucmVxdWVzdFBhc3N3b3JkUmVzZXQoKS50aGVuKGZ1bmN0aW9uKHJlc3ApeyRzdGF0ZS5nbygnbG9naW4nKTt9KTt9fXJlcXVlc3RQYXNzd29yZFJlc2V0LiRpbmplY3Q9Wyd1c2VyU2VydmljZScsJyRzdGF0ZSddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC51c2VycycpLmNvbnRyb2xsZXIoJ3Jlc2V0UGFzc3dvcmQnLHJlc2V0UGFzc3dvcmQpO2Z1bmN0aW9uIHJlc2V0UGFzc3dvcmQodXNlclNlcnZpY2UsJHN0YXRlKXt2YXIgdm09dGhpczt2bS51c2VyU2VydmljZT11c2VyU2VydmljZTt2bS51c2VyU2VydmljZS5hY2NvdW50PXt9O3ZtLnJlc2V0UGFzc3dvcmQ9cmVzZXRQYXNzd29yZDtmdW5jdGlvbiByZXNldFBhc3N3b3JkKGZvcm0pe2lmKCFmb3JtKXJldHVybjt1c2VyU2VydmljZS5yZXNldFBhc3N3b3JkKCkudGhlbihmdW5jdGlvbihyZXNwKXskc3RhdGUuZ28oJ2hvbWUnKTt9KTt9fXJlc2V0UGFzc3dvcmQuJGluamVjdD1bJ3VzZXJTZXJ2aWNlJywnJHN0YXRlJ107fSkoKTsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7YW5ndWxhci5tb2R1bGUoJ25zQXBwLnVzZXJzJykuY29udHJvbGxlcignYXZhdGFyJyxhdmF0YXIpO2Z1bmN0aW9uIGF2YXRhcihBdmF0YXIsJHVpYk1vZGFsKXt2YXIgY3RybD10aGlzO2N0cmwuYXZhdGFyPUF2YXRhcjtjdHJsLmltZ0ZpbGU9bnVsbDtjdHJsLm9wZW5Nb2RhbD1vcGVuTW9kYWw7ZnVuY3Rpb24gb3Blbk1vZGFsKCl7aWYoIWN0cmwuaW1nRmlsZSlyZXR1cm47dmFyIG1vZGFsSW5zdGFuY2U9JHVpYk1vZGFsLm9wZW4oe2NvbnRyb2xsZXI6J2Nyb3BJbWFnZU1vZGFsJyxjb250cm9sbGVyQXM6J2ltZ0N0cmwnLHRlbXBsYXRlVXJsOidzaGFyZWQvaW1hZ2VzL2Nyb3BJbWFnZU1vZGFsLmh0bWwnLHNpemU6J21kJyxyZXNvbHZlOntpbWdGaWxlOmZ1bmN0aW9uIGltZ0ZpbGUoKXtyZXR1cm4gY3RybC5pbWdGaWxlO319fSk7bW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbihyZXNwKXtjdHJsLmltZ0ZpbGU9bnVsbDtBdmF0YXIudXBsb2FkKHJlc3ApO30pO307fTthdmF0YXIuJGluamVjdD1bJ0F2YXRhcicsJyR1aWJNb2RhbCddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC51c2VycycpLmZhY3RvcnkoJ0F2YXRhcicsQXZhdGFyKTtmdW5jdGlvbiBBdmF0YXIoVXBsb2FkLCRhdXRoLCRyb290U2NvcGUsJGh0dHAsdG9hc3Rlcil7dmFyIGF2YXRhclBhdGg9JGF1dGguYXBpVXJsKCkrJGF1dGguZ2V0Q29uZmlnKCkuYWNjb3VudFVwZGF0ZVBhdGg7dmFyIHNlbGY9e3BlbmRpbmc6ZmFsc2UsdXBsb2FkOnVwbG9hZCxyZW1vdmU6cmVtb3ZlfTtyZXR1cm4gc2VsZjtmdW5jdGlvbiB1cGxvYWQoZGF0YVVybCl7aWYoc2VsZi5wZW5kaW5nKXJldHVybjtzZWxmLnBlbmRpbmc9dHJ1ZTtyZXR1cm4gVXBsb2FkLnVwbG9hZCh7dXJsOmF2YXRhclBhdGgsbWV0aG9kOidQVVQnLGRhdGE6e2F2YXRhcl9kYXRhX3VyaTpkYXRhVXJsfX0pLnRoZW4oZnVuY3Rpb24ocmVzcCl7dG9hc3Rlci5wb3AoJ3N1Y2Nlc3MnLCdBdmF0YXIgdXBsb2FkZWQuJyk7JHJvb3RTY29wZS51c2VyLmF2YXRhcj1yZXNwLmRhdGEuZGF0YS5hdmF0YXI7cmV0dXJuIHJlc3AuZGF0YTt9KS5jYXRjaChmdW5jdGlvbihyZXNwKXt0b2FzdGVyLnBvcCgnZXJyb3InLCdVbmFibGUgdG8gdXBsb2FkIGF2YXRhci4nKTt9KS5maW5hbGx5KGZ1bmN0aW9uKCl7c2VsZi5wZW5kaW5nPWZhbHNlO30pO31mdW5jdGlvbiByZW1vdmUoKXtpZihzZWxmLnBlbmRpbmcpcmV0dXJuO3NlbGYucGVuZGluZz10cnVlO3JldHVybiAkaHR0cC5wdXQoYXZhdGFyUGF0aCx7cmVtb3ZlX2F2YXRhcjp0cnVlfSkudGhlbihmdW5jdGlvbihyZXNwKXt0b2FzdGVyLnBvcCgnc3VjY2VzcycsJ0F2YXRhciByZW1vdmVkLicpOyRyb290U2NvcGUudXNlci5hdmF0YXI9bnVsbDtyZXR1cm4gcmVzcC5kYXRhO30pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape3RvYXN0ZXIucG9wKCdlcnJvcicsJ1VuYWJsZSB0byByZW1vdmUgYXZhdGFyLicpO3JldHVybiByZXNwLmRhdGE7fSkuZmluYWxseShmdW5jdGlvbigpe3NlbGYucGVuZGluZz1mYWxzZTt9KTt9fTtBdmF0YXIuJGluamVjdD1bJ1VwbG9hZCcsJyRhdXRoJywnJHJvb3RTY29wZScsJyRodHRwJywndG9hc3RlciddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC51c2VycycpLmNvbnRyb2xsZXIoJ2xvZ2luVXNlcicsbG9naW5Vc2VyKTtmdW5jdGlvbiBsb2dpblVzZXIodXNlclNlcnZpY2UsJHN0YXRlKXt2YXIgdm09dGhpczt2bS51c2VyU2VydmljZT11c2VyU2VydmljZTt2bS5zdWJtaXRMb2dpbj1zdWJtaXRMb2dpbjtmdW5jdGlvbiBzdWJtaXRMb2dpbihmb3JtKXtpZihmb3JtLiRpbnZhbGlkKXJldHVybjtyZXR1cm4gdXNlclNlcnZpY2UubG9naW4oKS50aGVuKGZ1bmN0aW9uKHJlc3ApeyRzdGF0ZS5nbygnaG9tZScpO30pO319bG9naW5Vc2VyLiRpbmplY3Q9Wyd1c2VyU2VydmljZScsJyRzdGF0ZSddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpLmNvbnRyb2xsZXIoJ2ZlYXR1cmVkU3BlY2lhbE1vZGFsJyxmZWF0dXJlZFNwZWNpYWxNb2RhbCk7ZnVuY3Rpb24gZmVhdHVyZWRTcGVjaWFsTW9kYWwoJHVpYk1vZGFsSW5zdGFuY2UsZmVhdHVyZWRTcGVjaWFsU2VydmljZSl7dmFyIGN0cmw9dGhpcztjdHJsLnNwZWNpYWxTZXJ2aWNlPWZlYXR1cmVkU3BlY2lhbFNlcnZpY2U7Y3RybC5zYXZlPXNhdmU7Y3RybC5jYW5jZWw9Y2FuY2VsO2N0cmwubWluRGF0ZT1uZXcgRGF0ZSgpO2N0cmwubWF4RGF0ZT1uZXcgRGF0ZSgpLnNldERhdGUobmV3IERhdGUoKS5nZXREYXRlKCkrMzApO2Z1bmN0aW9uIHNhdmUoKXtmZWF0dXJlZFNwZWNpYWxTZXJ2aWNlLnNhdmUoKS50aGVuKGZ1bmN0aW9uKHJlc3Ape3JldHVybiAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO30pO307ZnVuY3Rpb24gY2FuY2VsKCl7cmV0dXJuICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MobnVsbCk7fTt9O2ZlYXR1cmVkU3BlY2lhbE1vZGFsLiRpbmplY3Q9WyckdWliTW9kYWxJbnN0YW5jZScsJ2ZlYXR1cmVkU3BlY2lhbFNlcnZpY2UnXTt9KSgpOyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0Jzthbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKS5mYWN0b3J5KCdmZWF0dXJlZFNwZWNpYWxTZXJ2aWNlJyxmZWF0dXJlZFNwZWNpYWxTZXJ2aWNlKTtmdW5jdGlvbiBmZWF0dXJlZFNwZWNpYWxTZXJ2aWNlKFNwZWNpYWwsc3BvdFNlcnZpY2UsJHEsdG9hc3Rlcil7dmFyIHNlbGY9e3BlbmRpbmc6ZmFsc2Usc3BlY2lhbHM6W10sc3BlY2lhbDpudWxsLGxvYWRTcGVjaWFsczpsb2FkU3BlY2lhbHMsc2F2ZTpzYXZlLGRlc3Ryb3k6ZGVzdHJveX07cmV0dXJuIHNlbGY7ZnVuY3Rpb24gbG9hZFNwZWNpYWxzKHNwb3RfaWQpe2lmKHNlbGYucGVuZGluZylyZXR1cm47c2VsZi5wZW5kaW5nPXRydWU7dmFyIHNwb3RfaWQ9c3BvdF9pZHx8c3BvdFNlcnZpY2Uuc3BvdC5pZDtTcGVjaWFsLmZlYXR1cmVkKHtzcG90X2lkOnNwb3RfaWR9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3Ape3NlbGYuc3BlY2lhbHM9cmVzcC5tYXAoZnVuY3Rpb24ob2JqKXtyZXR1cm4gbmV3IFNwZWNpYWwob2JqKTt9KTt9KS5maW5hbGx5KGZ1bmN0aW9uKCl7c2VsZi5wZW5kaW5nPWZhbHNlO30pO31mdW5jdGlvbiBzYXZlKCl7aWYoc2VsZi5wZW5kaW5nfHwhc2VsZi5zcGVjaWFsKXJldHVybjtyZXR1cm4gc2VsZi5zcGVjaWFsLmlkP3VwZGF0ZSgpOmNyZWF0ZSgpO31mdW5jdGlvbiBjcmVhdGUoKXt2YXIgZD0kcS5kZWZlcigpO3NlbGYucGVuZGluZz10cnVlO3NlbGYuc3BlY2lhbC5zcG90X2lkPXNwb3RTZXJ2aWNlLnNwb3QuaWQ7Y29uc29sZS5sb2coc2VsZi5zcGVjaWFsKTtTcGVjaWFsLmNyZWF0ZShzZWxmLnNwZWNpYWwpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcCl7dmFyIHNwZWNpYWw9bmV3IFNwZWNpYWwocmVzcCk7c2VsZi5zcGVjaWFscy5wdXNoKHNwZWNpYWwpO3NlbGYuc3BlY2lhbD1udWxsO3RvYXN0ZXIucG9wKCdzdWNjZXNzJywnU3BlY2lhbCBhZGRlZCcpO2QucmVzb2x2ZShyZXNwKTt9KS5jYXRjaChmdW5jdGlvbihyZXNwKXt0b2FzdGVyLnBvcCgnZXJyb3InLCdVbmFibGUgdG8gYWRkIHNwZWNpYWwnKTtkLnJlamVjdChyZXNwKTt9KS5maW5hbGx5KGZ1bmN0aW9uKCl7c2VsZi5wZW5kaW5nPWZhbHNlO30pO3JldHVybiBkLnByb21pc2U7fWZ1bmN0aW9uIHVwZGF0ZSgpe3ZhciBkPSRxLmRlZmVyKCk7c2VsZi5wZW5kaW5nPXRydWU7c2VsZi5zcGVjaWFsLiR1cGRhdGUoKS50aGVuKGZ1bmN0aW9uKHJlc3Ape3ZhciBpPXNlbGYuc3BlY2lhbHMuaW5kZXhPZihzZWxmLnNwZWNpYWwpO3NlbGYuc3BlY2lhbHNbaV09bmV3IFNwZWNpYWwocmVzcCk7c2VsZi5zcGVjaWFsPW51bGw7dG9hc3Rlci5wb3AoJ3N1Y2Nlc3MnLCdTcGVjaWFsIHVwZGF0ZWQnKTtkLnJlc29sdmUocmVzcCk7fSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7dG9hc3Rlci5wb3AoJ2Vycm9yJywnVW5hYmxlIHRvIHVwZGF0ZSBzcGVjaWFsJyk7ZC5yZWplY3QocmVzcCk7fSkuZmluYWxseShmdW5jdGlvbigpe3NlbGYucGVuZGluZz1mYWxzZTt9KTtyZXR1cm4gZC5wcm9taXNlO307ZnVuY3Rpb24gZGVzdHJveSgpe2lmKHNlbGYucGVuZGluZ3x8IXNlbGYuc3BlY2lhbClyZXR1cm47c2VsZi5wZW5kaW5nPXRydWU7c2VsZi5zcGVjaWFsLiRkZWxldGUoKS50aGVuKGZ1bmN0aW9uKHJlc3Ape3ZhciBpPXNlbGYuc3BlY2lhbHMuaW5kZXhPZihzZWxmLnNwZWNpYWwpO3NlbGYuc3BlY2lhbHMuc3BsaWNlKGksMSk7c2VsZi5zcGVjaWFsPW51bGw7dG9hc3Rlci5wb3AoJ3N1Y2Nlc3MnLCdTcGVjaWFsIHJlbW92ZWQnKTtyZXR1cm4gcmVzcDt9KS5jYXRjaChmdW5jdGlvbihyZXNwKXtjb25zb2xlLmVycm9yKHJlc3ApO30pLmZpbmFsbHkoZnVuY3Rpb24oKXtzZWxmLnBlbmRpbmc9ZmFsc2U7fSk7fTt9O2ZlYXR1cmVkU3BlY2lhbFNlcnZpY2UuJGluamVjdD1bJ1NwZWNpYWwnLCdzcG90U2VydmljZScsJyRxJywndG9hc3RlciddO30pKCk7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2FuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpLmRpcmVjdGl2ZSgnbnNGZWF0dXJlZFNwZWNpYWxzTGlzdCcsbnNGZWF0dXJlZFNwZWNpYWxzTGlzdCk7ZnVuY3Rpb24gbnNGZWF0dXJlZFNwZWNpYWxzTGlzdCgpe3JldHVybiB7cmVzdHJpY3Q6J0UnLHNjb3BlOnt9LGJpbmRUb0NvbnRyb2xsZXI6e3Nwb3Q6Jz0nfSxjb250cm9sbGVyOlsnZmVhdHVyZWRTcGVjaWFsU2VydmljZScsZnVuY3Rpb24oZmVhdHVyZWRTcGVjaWFsU2VydmljZSl7dmFyIGN0cmw9dGhpcztjdHJsLmZlYXR1cmVkU3BlY2lhbFNlcnZpY2U9ZmVhdHVyZWRTcGVjaWFsU2VydmljZTtjdHJsLmZlYXR1cmVkU3BlY2lhbFNlcnZpY2UubG9hZFNwZWNpYWxzKGN0cmwuc3BvdC5pZCk7fV0sY29udHJvbGxlckFzOidmU3Bsc0N0cmwnLHRlbXBsYXRlVXJsOidjb21wb25lbnRzL3Nwb3RzL3NwZWNpYWxzL2ZlYXR1cmVkL25zRmVhdHVyZWRTcGVjaWFsc0xpc3QuaHRtbCd9O307fSkoKTsiLCIoZnVuY3Rpb24oKXtcblx0J3VzZSBzdHJpY3QnLFxuXHRhbmd1bGFyLm1vZHVsZSgnbnNBcHAnLCBbXG5cdFx0J25zQXBwLmNvcmUnLFxuICAgICAgICAnbnNBcHAudGVtcGxhdGVzJyxcbiAgICAgICAgJ25zQXBwLmxheW91dCcsXG4gICAgICAgICduc0FwcC5vdmVybGF5JyxcbiAgICAgICAgJ25zQXBwLnNoYXJlZCcsXG4gICAgICAgICduc0FwcC51c2VycycsXG4gICAgICAgICduc0FwcC5zcG90cycsXG4gICAgICAgICduc0FwcC5zcGxhc2gnLFxuICAgICAgICAnbnNBcHAuc3RhdGljJ1xuXHRcdC8vICduc0FwcC5ldmVudHMnLFxuXHRcdC8vICduc0FwcC5pbWFnZXMnXG5cdF0pO1xuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuY29yZScsIFtcbiAgICAgJ25nUmVzb3VyY2UnLFxuICAgICAnbmdNZXNzYWdlcycsICBcbiAgICAgJ25nQW5pbWF0ZScsXG4gICAgICBcbiAgICAgJ3VpLnJvdXRlcicsXG4gICAgICd1aS5ib290c3RyYXAnLCAgXG4gICAgICduZy10b2tlbi1hdXRoJyxcbiAgICAgJ0xvY2FsU3RvcmFnZU1vZHVsZScsXG4gICAgICduZ0dlb2xvY2F0aW9uJyxcbiAgICAgJ25nQXV0b2NvbXBsZXRlJyxcbiAgICAgJ3RvYXN0ZXInLFxuICAgICAnYW5ndWxhci1sYWRkYScsXG4gICAgICduZ0ZpbGVVcGxvYWQnLFxuICAgICAnbmdJbWdDcm9wJyxcbiAgICAgJ2FuZ3VsYXItbG9hZGluZy1iYXInLFxuICAgICAnY2hlY2tsaXN0LW1vZGVsJyxcbiAgICAgJ2FuZ3VsYXItY29uZmlybScsXG4gICAgICdyek1vZHVsZScsXG4gICAgICdhbmd1bGFyU3Bpbm5lcidcbiAgXSk7XG59KSgpOyIsIihmdW5jdGlvbigpe1xuXHQndXNlIHN0cmljdCcsXG5cdGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zaGFyZWQnLFtdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG5cdCd1c2Ugc3RyaWN0Jyxcblx0YW5ndWxhci5tb2R1bGUoJ25zQXBwLnN0YXRpYycsIFtdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG5cdCd1c2Ugc3RyaWN0Jyxcblx0YW5ndWxhci5tb2R1bGUoJ25zQXBwLmxheW91dCcsIFtdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zcGxhc2gnLCBbXSk7XG59KSgpOyIsIihmdW5jdGlvbigpe1xuXHQndXNlIHN0cmljdCcsXG5cdGFuZ3VsYXIubW9kdWxlKCduc0FwcC5vdmVybGF5JywgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24oKXtcblx0J3VzZSBzdHJpY3QnLFxuXHRhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnLCBbXSk7XG59KSgpOyIsIihmdW5jdGlvbigpe1xuXHQndXNlIHN0cmljdCcsXG5cdGFuZ3VsYXIubW9kdWxlKCduc0FwcC51c2VycycsIFtdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLmNvcmUnKVxuICAgICAgICAuY29uc3RhbnQoJ0JBU0VfQVBJX1VSTCcsICdodHRwOi8vbG9jYWxob3N0OjMwMDAnKVxuICAgIC8vICAgIC5jb25zdGFudCgnQkFTRV9BUElfVVJMJywgJ2h0dHBzOi8vc3RpbGwtYmFkbGFuZHMtMzI1MDQuaGVyb2t1YXBwLmNvbS8nKVxuLy8gICAgICAgIC5jb25zdGFudCgnQkFTRV9BUElfVVJMJywgJ2h0dHA6Ly8xMC4xLjEwLjE2OjMwMDAnKVxuICAgICAgICAuY29uc3RhbnQoJ01BUEJPWF9JRCcsICdyb3dsYW5kcnVkb2xmLmY3ZmU3YjQzJylcbiAgICAgICAgLmNvbnN0YW50KCdNQVBCT1hfQUNDRVNTX1RPS0VOJywgJ3BrLmV5SjFJam9pY205M2JHRnVaSEoxWkc5c1ppSXNJbUVpT2lKamFXZHBkM3B4Ykdjd01EQm1kV3BzZW1kNGVETmhZMkZ4SW4wLkZpZVp1RmxSZ2d2eVlkczhWeWtWd0EnKTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5jb3JlJylcbiAgICAuY29uZmlnKHJvdXRlcyk7XG4gICAgICBcbiAgZnVuY3Rpb24gcm91dGVzKCR1cmxSb3V0ZXJQcm92aWRlcil7XG4gICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XG4gIH07XG4gICAgXG4gIHJvdXRlcy4kaW5qZWN0ID0gWyckdXJsUm91dGVyUHJvdmlkZXInXTtcbiAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zaGFyZWQnKVxuICAgICAgLmZhY3RvcnkoJ0NhdGVnb3J5JywgQ2F0ZWdvcnkpO1xuXG4gICAgZnVuY3Rpb24gQ2F0ZWdvcnkoQkFTRV9BUElfVVJMLCAkaHR0cCl7XG4gICAgICAgIHZhciBjYXRlZ29yaWVzX3VybCA9IEJBU0VfQVBJX1VSTCArICcvY2F0ZWdvcmllcyc7ICAgIFxuICAgICAgICB2YXIgc2VsZiA9ICB7XG4gICAgICAgICAgY2F0ZWdvcmllczogW10sXG4gICAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICAgIH07XG4gICAgICAgIHNlbGYuaW5kZXgoKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gaW5kZXgoKXtcbiAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KGNhdGVnb3JpZXNfdXJsLCB7IFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7J2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30sIFxuICAgICAgICAgICAgICBjYWNoZTogdHJ1ZSBcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgIHNlbGYuY2F0ZWdvcmllcyA9IHJlc3AuZGF0YTtcbiAgICAgICAgICAgICByZXR1cm4gc2VsZi5jYXRlZ29yaWVzO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9ICBcbiAgICB9XG4gICAgICAgIFxuICAgIENhdGVnb3J5LiRpbmplY3QgPSBbJ0JBU0VfQVBJX1VSTCcsICckaHR0cCddO1xufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zaGFyZWQnKVxuICAgIC5maWx0ZXIoJ2RheVNwYW4nLCBkYXlTcGFuKTtcbiAgICAgICAgXG4gIGZ1bmN0aW9uIGRheVNwYW4oKXtcbiAgICAgIFxuICAgICAgdmFyIGRvdyA9IHsxOiAnTW9uJywgMjogJ1R1ZScsIDM6ICdXZWQnLCA0OiAnVGh1JywgNTogJ0ZyaScsIDY6ICdTYXQnLCA3OiAnU3VuJ307XG4gICAgICBcbiAgICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCl7XG4gICAgICAgIGlmKGFuZ3VsYXIuaXNBcnJheShpbnB1dCkgJiYgaW5wdXQubGVuZ3RoKXtcbiAgICAgICAgICAgdmFyIGRheXMgPSBpbnB1dC5zb3J0KCkubWFwKE51bWJlcik7XG4gICAgICAgICAgIHZhciBzcGFucyA9IFtdO1xuICAgICAgICAgICBncm91cERheXMoZGF5cykubWFwKGZ1bmN0aW9uKHZhbCl7XG4gICAgICAgICAgICAgaWYodmFsLmxlbmd0aCA8PSAyKXtcbiAgICAgICAgICAgICAgICBzcGFucy5wdXNoKHZhbC5tYXAoZnVuY3Rpb24odil7IHJldHVybiBkb3dbdl19KS5qb2luKCcsICcpKTsgICBcbiAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB2YXIgZmlyc3QgPSB2YWwuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICB2YXIgbGFzdCAgPSB2YWwucG9wKCk7XG4gICAgICAgICAgICAgICAgc3BhbnMucHVzaChkb3dbZmlyc3RdICsgJyAtICcgKyBkb3dbbGFzdF0pOyBcbiAgICAgICAgICAgICB9XG4gICAgICAgICAgIH0pOyAgICAgIFxuICAgICAgICAgICByZXR1cm4gc3BhbnMuam9pbignLCAnKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgZnVuY3Rpb24gZ3JvdXBEYXlzKGRheXMpe1xuICAgICAgICB2YXIgcmV0ID0gW107XG4gICAgICAgIHZhciBwcmV2ID0gZGF5c1swXTtcbiAgICAgICAgZm9yKHZhciBpID0gMCwgbiA9IC0xLCBkID0gZGF5cy5sZW5ndGg7IGkgPCBkOyBpKyspe1xuICAgICAgICAgIGlmKHByZXYgKyAxICE9IGRheXNbaV0pe1xuICAgICAgICAgICAgIHJldC5wdXNoKFtkYXlzW2ldXSk7XG4gICAgICAgICAgICAgbisrO1xuICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICByZXRbbl0ucHVzaChkYXlzW2ldKTtcbiAgICAgICAgICAgfVxuICAgICAgICAgICBwcmV2ID0gZGF5c1tpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfTtcbiAgICAgIFxuICB9O1xuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNoYXJlZCcpXG4gICAgICAuZmFjdG9yeSgnRmVhdHVyZScsIEZlYXR1cmUpO1xuXG4gICAgZnVuY3Rpb24gRmVhdHVyZShCQVNFX0FQSV9VUkwsICRodHRwKXtcbiAgICAgICAgdmFyIGZlYXR1cmVzX3VybCA9IEJBU0VfQVBJX1VSTCArICcvZmVhdHVyZXMnOyAgICBcbiAgICAgICAgdmFyIHNlbGYgPSAge1xuICAgICAgICAgIGZlYXR1cmVzOiBbXSxcbiAgICAgICAgICBpbmRleDogaW5kZXhcbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5pbmRleCgpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBpbmRleCgpe1xuICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoZmVhdHVyZXNfdXJsLCB7IFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7J2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30sIFxuICAgICAgICAgICAgICBjYWNoZTogdHJ1ZSBcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgIHNlbGYuZmVhdHVyZXMgPSByZXNwLmRhdGE7XG4gICAgICAgICAgICAgcmV0dXJuIHNlbGYuZmVhdHVyZXM7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gIFxuICAgIH1cbiAgICAgICAgXG4gICAgRmVhdHVyZS4kaW5qZWN0ID0gWydCQVNFX0FQSV9VUkwnLCAnJGh0dHAnXTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JzsgICAgXG4gIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zaGFyZWQnKVxuICAgIC5mYWN0b3J5KCdmaWx0ZXJQYXJhbXMnLCBmaWx0ZXJQYXJhbXMpO1xuICAgIFxuICBmdW5jdGlvbiBmaWx0ZXJQYXJhbXMoJHJvb3RTY29wZSwgbG9jYWxTdG9yYWdlU2VydmljZSl7XG4gICAgICBcbiAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICBlYXQ6IFtdLFxuICAgICAgICAgICAgZHJpbms6IFtdLFxuICAgICAgICAgICAgYXR0ZW5kOiBbXSxcbiAgICAgICAgICAgIGZlYXR1cmVzOiBbXSxcbiAgICAgICAgICAgIHE6ICcnLFxuICAgICAgICAgICAgcHJpY2U6IDAsXG4gICAgICAgICAgICBvcmRlcjogJ2Rpc3RhbmNlJyxcbiAgICAgICAgICAgIHNhdmU6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldCgnZmlsdGVyUGFyYW1zJywgZGF0YSk7IFxuICAgICAgICAgICAgfVxuICAgICAgICAgfTtcbiAgICAgIFxuICAgICAgICB2YXIgbHMgPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldCgnZmlsdGVyUGFyYW1zJyk7XG4gICAgICAgIGlmKGxzICE9PSBudWxsKXtcbiAgICAgICAgICAgIGRhdGEuZWF0ID0gbHMuZWF0O1xuICAgICAgICAgICAgZGF0YS5kcmluayA9IGxzLmRyaW5rO1xuICAgICAgICAgICAgZGF0YS5hdHRlbmQgPSBscy5hdHRlbmQ7XG4gICAgICAgICAgICBkYXRhLmZlYXR1cmVzID0gbHMuZmVhdHVyZXM7XG4gICAgICAgICAgICBkYXRhLnByaWNlID0gbHMucHJpY2U7XG4gICAgICAgICAgICBkYXRhLm9yZGVyID0gbHMub3JkZXI7XG4gICAgICAgICAgICBkYXRhLnEgID0gbHMucTtcbiAgICAgICAgfVxuICAgICAgXG4gICAgICAgIHJldHVybiBkYXRhOyAgXG4gICAgfTtcbiAgICBcbiAgICBmaWx0ZXJQYXJhbXMuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICdsb2NhbFN0b3JhZ2VTZXJ2aWNlJ107XG4gICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc2hhcmVkJylcbiAgICAgICAgLmZpbHRlcignbGlua1RhZycsIGxpbmtUYWcpO1xuICAgIFxuICAgIGZ1bmN0aW9uIGxpbmtUYWcoKXtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KXtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC8oaHR0cDpcXC9cXC93d3cufGh0dHBzOlxcL1xcL3d3dy4pLywgJycpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNoYXJlZCcpXG4gICAgLnZhbHVlKCdvcGVuTm93Jywgb3Blbk5vdyk7XG4gICAgXG4gZnVuY3Rpb24gb3Blbk5vdyhkYXlzQXJyLG8sYyl7XG4gICAgdmFyIGQgPSBuZXcgRGF0ZSgpLFxuICAgICAgICBub3cgPSBkLnRvVGltZVN0cmluZygpLFxuICAgICAgICB0b2RheSA9IGQuZ2V0RGF5KCkgPT09IDAgPyA3IDogZC5nZXREYXkoKSxcbiAgICAgICAgeWVzdGVyZGF5ID0gdG9kYXkgLSAxLFxuICAgICAgICBkYXlzID0gZGF5c0Fyci5tYXAoTnVtYmVyKSxcbiAgICAgICAgb3BlbiA9IG5ldyBEYXRlKG8pLnRvVGltZVN0cmluZygpLFxuICAgICAgICBjbG9zZSA9IG5ldyBEYXRlKGMpLnRvVGltZVN0cmluZygpO1xuICAgICBcbiAgICBpZihkYXlzLmluZGV4T2YodG9kYXkpID4gLTEpeyBcbiAgICAgICAgXG4gICAgICAgaWYob3BlbiA9PSBjbG9zZSl7IFxuICAgICAgICAgcmV0dXJuIHRydWU7ICAgIFxuICAgICAgICAgICBcbiAgICAgICB9ZWxzZSBpZiAob3BlbiA8IGNsb3NlKXsgXG4gICAgICAgICAgIFxuICAgICAgICAgaWYgKG9wZW4gPD0gbm93ICYmIG5vdyA8PSBjbG9zZSl7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICBcbiAgICAgICAgIH1lbHNle1xuICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAgXG4gICAgICAgICB9XG5cbiAgICAgICB9ZWxzZSBpZiAob3BlbiA+IGNsb3NlKXtcbiAgICBcbiAgICAgICAgIGlmIChvcGVuIDw9IG5vdyApeyAvL3x8IG5vdyA8PSBjbG9zZSl7ICAgLy8gICAgTW9uLCBXZWQgLSBTYXRcdDExOjAwIFBNIC0gMjowMCBBTSBAIDE6MzlhbS4uXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgXG4gICAgICAgICAgICBpZihkYXlzLmluZGV4T2YoeWVzdGVyZGF5KSA+IC0xICYmICAob3BlbiA8PSBub3cgfHwgbm93IDw9IGNsb3NlKSl7XG4gICAgICAgICAgICAgICByZXR1cm4gIHRydWU7XG4gICAgICAgICAgICAgXG4gICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAgXG4gICAgICAgICAgICAgXG4gICAgICAgICAgICAgfSAgICBcbiAgICAgICAgICB9ICAgICAgIFxuICAgICAgIH1cblxuICAgICB9ZWxzZSBpZihkYXlzLmluZGV4T2YoeWVzdGVyZGF5KSA+IC0xICYmICAob3BlbiA+IGNsb3NlKSl7XG5cbiAgICAgICBpZihub3cgPD0gY2xvc2Upe1xuICAgICAgICAgICByZXR1cm4gdHJ1ZTsgIFxuICAgICAgIH1cbiAgICAgfVxuICAgICBcbiAgICAgcmV0dXJuIGZhbHNlO1xuXG4gIH1cbiAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpXG4gICAgICAgIC5jb25maWcocm91dGVzKTtcbiAgICAgIFxuICAgIGZ1bmN0aW9uIHJvdXRlcygkc3RhdGVQcm92aWRlcil7XG4gICAgICAgIFxuICAgICAgICAkc3RhdGVQcm92aWRlclxuICAgICAgICAgIC5zdGF0ZSgnYnVzaW5lc3MnLHtcbiAgICAgICAgICAgIHVybDogJy9idXNpbmVzcycsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3N0YXRpYy9idXNpbmVzcy5odG1sJ1xuICAgICAgICB9KVxuICAgICAgICAgIC5zdGF0ZSgndGVybXMnLHtcbiAgICAgICAgICAgIHVybDogJy90ZXJtcy1hbmQtY29uZGl0aW9ucycsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3N0YXRpYy90ZXJtcy1hbmQtY29uZGl0aW9ucy5odG1sJ1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgfVxuICAgIFxuICAgIHJvdXRlcy4kaW5qZWN0ID0gWyckc3RhdGVQcm92aWRlciddO1xuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLmxheW91dCcpXG4gICAgICAuY29udHJvbGxlcignbmF2JywgbmF2KTtcbiAgICBcbiAgICBmdW5jdGlvbiBuYXYoJHJvb3RTY29wZSwgb3ZlcmxheSwgJHN0YXRlLCBmaWx0ZXJQYXJhbXMpe1xuICAgICAgICB2YXIgY3RybCA9IHRoaXM7XG4gICAgICAgIGN0cmwub3Blbk5hdk92ZXJsYXkgPSBvcGVuTmF2T3ZlcmxheTtcbiAgICAgICAgY3RybC5vcGVuU2VhcmNoT3ZlcmxheSA9IG9wZW5TZWFyY2hPdmVybGF5O1xuICAgICAgICBjdHJsLmZpbHRlclBhcmFtcyA9IGZpbHRlclBhcmFtcztcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIG9wZW5TZWFyY2hPdmVybGF5KCl7XG4gICAgICAgICAgICBvdmVybGF5Lm9wZW4oJ2NvbXBvbmVudHMvb3ZlcmxheS9zZWFyY2gvc2VhcmNoT3ZlcmxheS5odG1sJykudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICBpZihyZXNwLmlkKXtcbiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKHJlc3Auc3RhdGUsIHtpZDogcmVzcC5pZCB9KTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKHJlc3Auc3RhdGUpOyBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gb3Blbk5hdk92ZXJsYXkoKXtcbiAgICAgICAgICAgb3ZlcmxheS5vcGVuKCdjb21wb25lbnRzL292ZXJsYXkvbmF2L25hdk92ZXJsYXkuaHRtbCcpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgaWYocmVzcC5pZCl7XG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbyhyZXNwLnN0YXRlLCB7aWQ6IHJlc3AuaWQgfSk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbyhyZXNwLnN0YXRlKTsgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgIH07XG5cbiAgICBuYXYuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICdvdmVybGF5JywgJyRzdGF0ZScsICdmaWx0ZXJQYXJhbXMnXTtcbiAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5sYXlvdXQnKVxuICAgICAgICAuZGlyZWN0aXZlKCduc1JlcGxhY2VJbmNsdWRlJywgbnNSZXBsYWNlSW5jbHVkZSk7XG4gICAgXG4gICAgZnVuY3Rpb24gbnNSZXBsYWNlSW5jbHVkZSgpe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVxdWlyZTogJ25nSW5jbHVkZScsXG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHJzKXtcbiAgICAgICAgICAgICAgICBlbGVtLnJlcGxhY2VXaXRoKGVsZW0uY2hpbGRyZW4oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gXG4gICAgfTtcbiAgICAgICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAubGF5b3V0JylcbiAgICAgICAgLmRpcmVjdGl2ZSgnbnNUb3BiYXInLCBuc1RvcGJhcik7XG4gICAgXG4gICAgZnVuY3Rpb24gbnNUb3BiYXIoKXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2xheW91dC9uc1RvcGJhci5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICduYXYnLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAnbmF2Q3RybCcsXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMpe31cbiAgICAgICAgfSBcbiAgICB9O1xuICAgICAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zcGxhc2gnKVxuICAgICAgICAuZGlyZWN0aXZlKCduc1NwbGFzaCcsIG5zU3BsYXNoKTtcbiAgICBcbiAgICBmdW5jdGlvbiBuc1NwbGFzaChMb2NhdGlvbk1hbmFnZXIsJHRpbWVvdXQpe1xuICAgICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgbGluazogbGlua1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLGVsZW0sIGF0dHJzKXtcbiAgICAgICAgICAgIHNjb3BlLmxvY2F0aW9uID0gTG9jYXRpb25NYW5hZ2VyO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBcbiAgICBuc1NwbGFzaC4kaW5qZWN0ID0gWydMb2NhdGlvbk1hbmFnZXInLCAnJHRpbWVvdXQnXTtcbiAgICAgICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAub3ZlcmxheScpXG4gICAgICAgIC5kaXJlY3RpdmUoJ25zT3ZlcmxheScsIG5zT3ZlcmxheSk7XG4gICAgXG4gICAgZnVuY3Rpb24gbnNPdmVybGF5KCRyb290U2NvcGUsIG92ZXJsYXkpe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIHNjb3BlOiB0cnVlLFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHJzKXtcbiAgICAgICAgICAgICAgICBzY29wZS5zaG93T3ZlcmxheSA9IG51bGw7XG4gICAgICAgICAgICAgICAgc2NvcGUuZGlzbWlzcyA9IGRpc21pc3M7ICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZGlzbWlzcygpe1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5zaG93T3ZlcmxheSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRvbignb3ZlcmxheS5vcGVuJywgZnVuY3Rpb24oZXZlbnQsIHR5cGUpe1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5zaG93T3ZlcmxheSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJ292ZXJsYXkuY2xvc2UnLCBmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnNob3dPdmVybGF5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gXG4gICAgfTtcbiAgICBcbiAgICBuc092ZXJsYXkuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICdvdmVybGF5J107XG4gICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAub3ZlcmxheScpXG4gICAgICAgIC5zZXJ2aWNlKCdvdmVybGF5Jywgb3ZlcmxheSk7XG4gICAgXG4gICAgZnVuY3Rpb24gb3ZlcmxheSgkcm9vdFNjb3BlLCAkcSl7XG4gICAgICAgIHZhciBkID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiAoe1xuICAgICAgICAgICAgb3Blbjogb3BlbixcbiAgICAgICAgICAgIHJlc29sdmU6IHJlc29sdmUsXG4gICAgICAgICAgICByZWplY3Q6IHJlamVjdFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIG9wZW4odHlwZSl7XG4gICAgICAgICAgICBkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ292ZXJsYXkub3BlbicsIHR5cGUpO1xuICAgICAgICAgICAgcmV0dXJuIGQucHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZShyZXNwKXtcbiAgICAgICAgICAgIGlmKCFkKSByZXR1cm47XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdvdmVybGF5LmNsb3NlJyk7XG4gICAgICAgICAgICByZXR1cm4gZC5yZXNvbHZlKHJlc3ApO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiByZWplY3QocmVzcCl7XG4gICAgICAgICAgICBpZighZCkgcmV0dXJuO1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnb3ZlcmxheS5jbG9zZScpO1xuICAgICAgICAgICAgcmV0dXJuIGQucmVqZWN0KHJlc3ApO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICB9O1xuICAgIFxuICAgIG92ZXJsYXkuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckcSddO1xuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnOyAgXG4gICAgXG4gIGZ1bmN0aW9uIFNwb3QoQkFTRV9BUElfVVJMLCAkcmVzb3VyY2Upe1xuICAgICAgcmV0dXJuICRyZXNvdXJjZShCQVNFX0FQSV9VUkwgKyAnL3Nwb3RzLzppZCcsIHsgaWQ6ICdAaWQnIH0sIHsgXG4gICAgICAgICAgbmVhcjogICAgIHsgbWV0aG9kOiAnR0VUJywgdXJsOiBCQVNFX0FQSV9VUkwgKyAnL3Nwb3RzL25lYXInLCBpc0FycmF5OiB0cnVlIH0sXG4gICAgICAgICAgdXNlckluZGV4OnsgbWV0aG9kOiAnR0VUJywgdXJsOiBCQVNFX0FQSV9VUkwgKyAnL3Nwb3RzL3VzZXJfaW5kZXgnLCBpc0FycmF5OiB0cnVlICwgY2FjaGU6IHRydWV9LCBcbiAgICAgICAgICBmYXZvcml0ZXM6eyBtZXRob2Q6ICdHRVQnLCB1cmw6IEJBU0VfQVBJX1VSTCArICcvc3BvdHMvZmF2b3JpdGVzJywgaXNBcnJheTogdHJ1ZSB9LFxuICAgICAgICAgIHNlYXJjaDogICB7IG1ldGhvZDogJ0dFVCcsIHVybDogQkFTRV9BUElfVVJMICsgJy9zcG90cy9zZWFyY2gnLCBpc0FycmF5OiB0cnVlIH0sXG4gICAgICAgICAgdXBkYXRlOiAgIHsgbWV0aG9kOiAnUFVUJyAgfSAgICAgIFxuICAgICAgfSk7XG4gIH07XG4gICAgXG4gIFNwb3QuJGluamVjdCA9IFsnQkFTRV9BUElfVVJMJywgJyRyZXNvdXJjZSddO1xuICBcbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAuZmFjdG9yeSgnU3BvdCcsIFNwb3QpOyAgICBcbiAgICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKVxuICAgIC5jb25maWcocm91dGVzKTtcbiAgICAgIFxuICBmdW5jdGlvbiByb3V0ZXMoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgTG9jYXRpb25NYW5hZ2VyKXtcbiAgICAgIFxuICAgICAgJHN0YXRlUHJvdmlkZXJcbiAgICAgICAgLnN0YXRlKCdob21lJyx7IFxuICAgICAgICAgIHVybDogJy8nLFxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9zcG90cy9ob21lL2hvbWUuaHRtbCcsIFxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdob21lJyxcbiAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZWF0Jyx7XG4gICAgICAgICAgdXJsOiAnL2VhdCcsXG4gICAgICAgICAgY29udHJvbGxlcjogJ3NlYXJjaCcsXG4gICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9zcG90cy9zZWFyY2gvc2VhcmNoLmh0bWwnLCBcbiAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgIHNvcnQ6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gJ2VhdCc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZHJpbmsnLHtcbiAgICAgICAgICB1cmw6ICcvZHJpbmsnLFxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdzZWFyY2gnLFxuICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvc3BvdHMvc2VhcmNoL3NlYXJjaC5odG1sJyxcbiAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgIHNvcnQ6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gJ2RyaW5rJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdhdHRlbmQnLHtcbiAgICAgICAgICB1cmw6ICcvYXR0ZW5kJyxcbiAgICAgICAgICBjb250cm9sbGVyOiAnc2VhcmNoVmVudWVzJyxcbiAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Nwb3RzL3NlYXJjaC9zZWFyY2hWZW51ZXMuaHRtbCcsIC8vdmVudWVzXG4gICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgICBzb3J0OiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgcmV0dXJuICdhdHRlbmQnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2Zhdm9yaXRlcycse1xuICAgICAgICAgIHVybDogJy9mYXZvcml0ZXMnLFxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdmYXZvcml0ZXMnLFxuICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvc3BvdHMvZmF2b3JpdGVzL2Zhdm9yaXRlcy5odG1sJyxcbiAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgYXV0aDogWyckYXV0aCcsIGZ1bmN0aW9uKCRhdXRoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRhdXRoLnZhbGlkYXRlVXNlcigpO1xuICAgICAgICAgICAgICB9XSBcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICBcbiAgICAgICAgLnN0YXRlKCd2aWV3U3BvdCcse1xuICAgICAgICAgIHVybDogJy9zcG90cy86aWQnLFxuICAgICAgICAgIGFic3RyYWN0OiB0cnVlLFxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9zcG90cy92aWV3L3ZpZXdTcG90Lmh0bWwnLFxuICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aWV3U3BvdCcsXG4gICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgIHJlc29sdmU6e1xuICAgICAgICAgICAgICBzcG90OiBbJ1Nwb3QnLCAnJHN0YXRlUGFyYW1zJywnTG9jYXRpb25NYW5hZ2VyJywgZnVuY3Rpb24oU3BvdCwgJHN0YXRlUGFyYW1zLCBMb2NhdGlvbk1hbmFnZXIpe1xuICAgICAgICAgICAgICAgIHJldHVybiBTcG90LmdldCh7aWQ6ICRzdGF0ZVBhcmFtcy5pZH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgICAgICAgcmVzcC5kaXN0YW5jZSA9IExvY2F0aW9uTWFuYWdlci5kaXN0YW5jZShyZXNwLmxhdGl0dWRlLCByZXNwLmxvbmdpdHVkZSk7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTcG90KHJlc3ApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XSBcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ3ZpZXdTcG90LmFib3V0Jywge1xuICAgICAgICAgICAgICAgIHVybDogJycsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2Fib3V0JyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhYm91dEN0cmwnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9zcG90cy9hYm91dC9hYm91dC5odG1sJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgndmlld1Nwb3Quc3BlY2lhbHMnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3NwZWNpYWxzJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc3BlY2lhbHMnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3NwbHNDdHJsJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvc3BvdHMvc3BlY2lhbHMvc3BlY2lhbHMuaHRtbCdcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ3ZpZXdTcG90Lm1lbnVzJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9tZW51cycsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21lbnVzJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdtZW51c0N0cmwnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9zcG90cy9tZW51cy9tZW51cy5odG1sJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgndmlld1Nwb3QuZXZlbnRzJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9ldmVudHMnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdldmVudHMnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2V2ZW50c0N0cmwnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9zcG90cy9ldmVudHMvZXZlbnRzLmh0bWwnXG4gICAgICAgICAgICB9KVxuICAgICAgIFxuICAgICAgICAuc3RhdGUoJ2VkaXQnLCB7XG4gICAgICAgICAgdXJsOiAnL3VwZGF0ZV9zcG90JyxcbiAgICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgICBjb250cm9sbGVyOiAnZWRpdFNwb3QnLFxuICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvc3BvdHMvZWRpdC9lZGl0Lmh0bWwnLFxuICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgYXV0aDogWyckYXV0aCcsIGZ1bmN0aW9uKCRhdXRoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRhdXRoLnZhbGlkYXRlVXNlcigpO1xuICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgc3BvdDogWydzcG90U2VydmljZScsICckcScsICckdGltZW91dCcsICckc3RhdGUnLCBmdW5jdGlvbihzcG90U2VydmljZSwgJHEsICR0aW1lb3V0LCAkc3RhdGUpe1xuICAgICAgICAgICAgICAgICAgaWYoc3BvdFNlcnZpY2Uuc3BvdCl7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLndoZW4oc3BvdFNlcnZpY2Uuc3BvdClcbiAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnaG9tZScpO1xuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfV1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ2VkaXQuYWJvdXQnLHtcbiAgICAgICAgICAgICAgICB1cmw6ICcnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdlZGl0QWJvdXQnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2Fib3V0Q3RybCcsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Nwb3RzL2Fib3V0L2VkaXRBYm91dC5odG1sJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnZWRpdC5jb250YWN0Jyx7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2NvbnRhY3QnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9zcG90cy9lZGl0L2NvbnRhY3QuaHRtbCdcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ2VkaXQuc3BlY2lhbHMnLHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvc3BlY2lhbHMnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdlZGl0U3BlY2lhbHMnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3NwbHNDdHJsJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvc3BvdHMvc3BlY2lhbHMvZWRpdFNwZWNpYWxzLmh0bWwnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdlZGl0Lm1lbnVzJyx7XG4gICAgICAgICAgICAgICAgdXJsOiAnL21lbnUnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdlZGl0TWVudXMnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ21lbnVzQ3RybCcsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Nwb3RzL21lbnVzL2VkaXRNZW51cy5odG1sJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnZWRpdC5ldmVudHMnLHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvZXZlbnRzJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZWRpdEV2ZW50cycsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZXZlbnRzQ3RybCcsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Nwb3RzL2V2ZW50cy9lZGl0RXZlbnRzLmh0bWwnXG4gICAgICAgICAgICB9KVxuICAgICAgXG4gICAgICAuc3RhdGUoJ25ld1Nwb3QnLHtcbiAgICAgICAgICB1cmw6ICcvbmV3LXNwb3QnLFxuICAgICAgICAgIGNvbnRyb2xsZXI6ICduZXdTcG90JyxcbiAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Nwb3RzL25ldy9uZXdTcG90Lmh0bWwnLFxuICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgYXV0aDogWyckYXV0aCcsIGZ1bmN0aW9uKCRhdXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkYXV0aC52YWxpZGF0ZVVzZXIoKTtcbiAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJvdXRlcy4kaW5qZWN0ID0gWyckc3RhdGVQcm92aWRlcicsJyR1cmxSb3V0ZXJQcm92aWRlciddO1xuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnOyAgXG4gIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpXG4gICAgLmZhY3RvcnkoJ3Nwb3RTZXJ2aWNlJywgc3BvdFNlcnZpY2UpOyBcbiBcbiAgZnVuY3Rpb24gc3BvdFNlcnZpY2UoJHJvb3RTY29wZSwgU3BvdCwgTG9jYXRpb25NYW5hZ2VyLCAkcSwgZmlsdGVyUGFyYW1zICwgdG9hc3RlciwgJGNhY2hlRmFjdG9yeSwgQkFTRV9BUElfVVJMKXtcbiAgICAgIFxuICAgICAgdmFyIHNlbGYgPSB7XG4gICAgICAgICAgaW5pdDogaW5pdCxcbiAgICAgICAgICBwZW5kaW5nOiBmYWxzZSxcbiAgICAgICAgICBzcG90OiBudWxsLFxuICAgICAgICAgIHNwb3RzOiBbXSxcbiAgICAgICAgICAvL3BhcmFtczogbnVsbCxcbiAgICAgICAgICBuZWFyOiBuZWFyLFxuICAgICAgICAgIGZhdm9yaXRlczogZmF2b3JpdGVzLFxuICAgICAgICAgIHVzZXJJbmRleDogdXNlckluZGV4LFxuICAgICAgICAgIGNyZWF0ZTogY3JlYXRlLFxuICAgICAgICAgIHVwZGF0ZTogdXBkYXRlLFxuICAgICAgICAgIGRlc3Ryb3k6IGRlc3Ryb3ksXG4gICAgICAgICAgc2VhcmNoOiBzZWFyY2hcbiAgICAgIH07XG4gICAgICBcbiAgICAgICRyb290U2NvcGUuJG9uKCdsb2NhdGlvbkNoYW5nZWQnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICBzZWxmLm5lYXIoKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICAgIFxuICAgICAgZnVuY3Rpb24gaW5pdCgpe1xuICAgICAgICAgIExvY2F0aW9uTWFuYWdlci5pbml0KCkudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICByZXR1cm4gbmVhcigpO1xuICAgICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgXG4gICAgICBmdW5jdGlvbiBuZWFyKCl7XG4gICAgICAgICAgaWYoc2VsZi5wZW5kaW5nKSByZXR1cm47XG4gICAgICAgICAgc2VsZi5wZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICBzZWxmLnNwb3RzLmxlbmd0aCA9IDA7XG4vLyAgICAgICAgICB2YXIgcSA9IGFuZ3VsYXIuZXh0ZW5kKHtcbi8vICAgICAgICAgICAgICBsb2NhdGlvbjogTG9jYXRpb25NYW5hZ2VyLnNlYXJjaCA/IFtMb2NhdGlvbk1hbmFnZXIuc2VhcmNoLmxhdCAsIExvY2F0aW9uTWFuYWdlci5zZWFyY2gubG5nXS5qb2luKCcsJykgOiBudWxsLFxuLy8gICAgICAgICAgICAgIHI6IExvY2F0aW9uTWFuYWdlci5yYWRpdXNcbi8vICAgICAgICAgIH0sIHNlbGYucGFyYW1zKTtcbiAgICAgICAgICBcbiAgICAgICAgICBTcG90Lm5lYXIoe1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBMb2NhdGlvbk1hbmFnZXIuc2VhcmNoID8gW0xvY2F0aW9uTWFuYWdlci5zZWFyY2gubGF0ICwgTG9jYXRpb25NYW5hZ2VyLnNlYXJjaC5sbmddLmpvaW4oJywnKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgcjogTG9jYXRpb25NYW5hZ2VyLnJhZGl1cyB9KS4kcHJvbWlzZVxuICAgICAgICAgICAgICAudGhlbihfc2V0U3BvdHMpXG4gICAgICAgICAgICAgIC5jYXRjaChfaGFuZGxlRXJyb3IpXG4gICAgICAgICAgICAgIC5maW5hbGx5KGZ1bmN0aW9uKCl7IHNlbGYucGVuZGluZyA9IGZhbHNlO30pOyBcbiAgICAgIH07IFxuICAgICAgXG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZShkYXRhKSB7XG4gICAgICAgIGlmKHNlbGYucGVuZGluZykgcmV0dXJuO1xuICAgICAgICB2YXIgZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgIFNwb3Quc2F2ZShkYXRhKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgICRjYWNoZUZhY3RvcnkuZ2V0KCckaHR0cCcpLnJlbW92ZShCQVNFX0FQSV9VUkwgKyAnL3Nwb3RzL3VzZXJfaW5kZXgnKTtcbiAgICAgICAgICAgIHRvYXN0ZXIucG9wKCdzdWNjZXNzJywgJ1Nwb3QgQ3JlYXRlZCEnKTtcbiAgICAgICAgICAgIGQucmVzb2x2ZShyZXNwKTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICB0b2FzdGVyLnBvcCgnZXJyb3InLCAnVW5hYmxlIHRvIENyZWF0ZSBuaXRlc3BvdCcpO1xuICAgICAgICAgICAgZC5yZWplY3QocmVzcCk7XG4gICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKXsgc2VsZi5wZW5kaW5nID0gZmFsc2UgfSk7XG4gICAgICAgIHJldHVybiBkLnByb21pc2U7XG4gICAgICB9O1xuICAgICAgXG4gICAgICBmdW5jdGlvbiB1cGRhdGUoKXtcbiAgICAgICAgICBpZighc2VsZi5zcG90IHx8IHNlbGYucGVuZGluZykgcmV0dXJuO1xuICAgICAgICAgIHNlbGYucGVuZGluZyA9IHRydWU7ICAgIFxuICAgICAgICAgIHNlbGYuc3BvdC4kdXBkYXRlKCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgJGNhY2hlRmFjdG9yeS5nZXQoJyRodHRwJykucmVtb3ZlKEJBU0VfQVBJX1VSTCArICcvc3BvdHMvdXNlcl9pbmRleCcpO1xuICAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnc3VjY2VzcycsJ1Nwb3QgdXBkYXRlZCcpO1xuICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnZXJyb3InLCdVbmFibGUgdG8gY29tcGxldGUgdXBkYXRlLicpO1xuICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKXsgc2VsZi5wZW5kaW5nID0gZmFsc2UgfSk7XG4gICAgICB9OyBcbiAgICAgIFxuICAgICAgZnVuY3Rpb24gZGVzdHJveSgpe1xuICAgICAgICAgIGlmKCFzZWxmLnNwb3QgfHwgc2VsZi5wZW5kaW5nKSByZXR1cm47XG4gICAgICAgICAgc2VsZi5wZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gc2VsZi5zcG90LiRkZWxldGUoKS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICAkY2FjaGVGYWN0b3J5LmdldCgnJGh0dHAnKS5yZW1vdmUoQkFTRV9BUElfVVJMICsgJy9zcG90cy91c2VyX2luZGV4Jyk7XG4gICAgICAgICAgICAgIHRvYXN0ZXIucG9wKCdpbmZvJywgJ1Nwb3QgcGVybWFuZW50bHkgcmVtb3ZlZCcpO1xuICAgICAgICAgICAgICBzZWxmLnNwb3QgPSBudWxsO1xuICAgICAgICAgIH0pLmNhdGNoKF9oYW5kbGVFcnJvcikuZmluYWxseShmdW5jdGlvbigpeyBzZWxmLnBlbmRpbmcgPSAgZmFsc2UgfSk7XG4gICAgICB9XG4gICAgXG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIHVzZXJJbmRleCgpe1xuICAgICAgICAgIGlmKHNlbGYucGVuZGluZykgcmV0dXJuO1xuICAgICAgICAgIHZhciBzcG90cztcbiAgICAgICAgICBzZWxmLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBTcG90LnVzZXJJbmRleCgpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgIHNwb3RzID0gcmVzcC5tYXAoZnVuY3Rpb24ob2JqKXtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU3BvdChvYmopO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmV0dXJuIHNwb3RzO1xuICAgICAgICAgIH0pLmNhdGNoKF9oYW5kbGVFcnJvcikuZmluYWxseShmdW5jdGlvbigpeyBzZWxmLnBlbmRpbmcgPSBmYWxzZSB9KTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIGZhdm9yaXRlcygpe1xuICAgICAgICAgIGlmKHNlbGYucGVuZGluZykgcmV0dXJuO1xuICAgICAgICAgIHNlbGYucGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgc2VsZi5zcG90cy5sZW5ndGggPSAwO1xuICAgICAgICAgIHZhciBxO1xuICAgICAgICAgIGlmKExvY2F0aW9uTWFuYWdlci5zZWFyY2gpe1xuICAgICAgICAgICAgICBxID0ge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBbTG9jYXRpb25NYW5hZ2VyLnNlYXJjaC5sYXQgLCBMb2NhdGlvbk1hbmFnZXIuc2VhcmNoLmxuZ10uam9pbignLCcpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgU3BvdC5mYXZvcml0ZXMocSkuJHByb21pc2VcbiAgICAgICAgICAgICAgLnRoZW4oX3NldFNwb3RzKVxuICAgICAgICAgICAgICAuY2F0Y2goX2hhbmRsZUVycm9yKVxuICAgICAgICAgICAgICAuZmluYWxseShmdW5jdGlvbigpeyBzZWxmLnBlbmRpbmcgPSBmYWxzZX0pO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgZnVuY3Rpb24gc2VhcmNoKHF1ZXJ5KXtcbiAgICAgICAgaWYoc2VsZi5wZW5kaW5nKSByZXR1cm47XG4gICAgICAgIHNlbGYucGVuZGluZyA9IHRydWU7XG4gICAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICAgIHJldHVybiBTcG90LnNlYXJjaCh7cTogcXVlcnl9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgIGZvcih2YXIgaSA9IDAsIGogPSByZXNwLmxlbmd0aDsgaSA8IGo7IGkrKyl7XG4gICAgICAgICAgICAgICAgcmVzcFtpXS5kaXN0YW5jZSA9IExvY2F0aW9uTWFuYWdlci5kaXN0YW5jZShyZXNwW2ldLmxhdGl0dWRlLCByZXNwW2ldLmxvbmdpdHVkZSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHJlc3BbaV0pO1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgfSkuY2F0Y2goX2hhbmRsZUVycm9yKS5maW5hbGx5KGZ1bmN0aW9uKCl7IHNlbGYucGVuZGluZyA9IGZhbHNlIH0pOyBcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIF9zZXRTcG90cyhyZXNwKXtcbiAgICAgICAgICAgZm9yKHZhciBpID0gMCwgaiA9IHJlc3AubGVuZ3RoOyBpIDwgajsgaSsrKXtcbiAgICAgICAgICAgICAgICByZXNwW2ldLmRpc3RhbmNlID0gTG9jYXRpb25NYW5hZ2VyLmRpc3RhbmNlKHJlc3BbaV0ubGF0aXR1ZGUsIHJlc3BbaV0ubG9uZ2l0dWRlKTtcbiAgICAgICAgICAgICAgICBzZWxmLnNwb3RzLnB1c2gocmVzcFtpXSk7XG4gICAgICAgICAgIH1cbiAgICAgIH07XG4gIFxuICAgICAgZnVuY3Rpb24gX2hhbmRsZUVycm9yKHJlc3Ape1xuICAgICAgICAgIHJldHVybiByZXNwO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgXG4gICAgfTtcbiAgICBcbiAgICBzcG90U2VydmljZS4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJ1Nwb3QnLCAnTG9jYXRpb25NYW5hZ2VyJywnJHEnLCAnZmlsdGVyUGFyYW1zJywndG9hc3RlcicsJyRjYWNoZUZhY3RvcnknLCAnQkFTRV9BUElfVVJMJ107XG4gICAgICBcbn0pKCk7XG5cbiIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gIGFuZ3VsYXIubW9kdWxlKCduc0FwcC51c2VycycpXG4gICAgLmNvbmZpZyhjb25maWcpO1xuICAgICAgICBcbiAgZnVuY3Rpb24gY29uZmlnKCRhdXRoUHJvdmlkZXIsIEJBU0VfQVBJX1VSTCl7XG4gICAgJGF1dGhQcm92aWRlci5jb25maWd1cmUoe1xuICAgICAgYXBpVXJsOiBCQVNFX0FQSV9VUkwsICAgIFxuICAgICAgYXV0aFByb3ZpZGVyUGF0aHM6IHtcbiAgICAgICAgZmFjZWJvb2s6ICcvYXV0aC9mYWNlYm9vaycsXG4gICAgICB9LFxuICAgICAgb21uaWF1dGhXaW5kb3dUeXBlOiAnbmV3V2luZG93JyxcbiAgICAgIHBhc3N3b3JkUmVzZXRTdWNjZXNzVXJsOiAnaHR0cDovL2xvY2FsaG9zdDo4MDAwLyMvdXNlcnMvcGFzc3dvcmQvcmVzZXQnXG4gICAgfSk7XG4gIH07XG4gICAgXG4gIGNvbmZpZy4kaW5qZWN0ID0gWyckYXV0aFByb3ZpZGVyJywgJ0JBU0VfQVBJX1VSTCddO1xuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAudXNlcnMnKVxuICAgIC5ydW4oYXV0aEV2ZW50cyk7XG4gICAgXG4gICAgZnVuY3Rpb24gYXV0aEV2ZW50cygkcm9vdFNjb3BlLCB1c2VyU2VydmljZSwgJHN0YXRlLCB0b2FzdGVyLCAkY2FjaGVGYWN0b3J5LCBCQVNFX0FQSV9VUkwpe1xuXG4gICAgICAgICRyb290U2NvcGUuJG9uKCdhdXRoOmxvZ291dC1zdWNjZXNzJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICRjYWNoZUZhY3RvcnkuZ2V0KCckaHR0cCcpLnJlbW92ZShCQVNFX0FQSV9VUkwgKyAnL3Nwb3RzL3VzZXJfaW5kZXgnKTtcbiAgICAgICAgICAgIHVzZXJTZXJ2aWNlLmFjY291bnQgPSBudWxsO1xuICAgICAgICAgICAgJHN0YXRlLmdvKCdob21lJyk7XG4gICAgICAgICAgICB0b2FzdGVyLnBvcCgnaW5mbycsICdHb29kYnllIScpO1xuICAgICAgICB9KTsgICAgICAgIFxuICAgICAgICBcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJ2F1dGg6bG9naW4tc3VjY2VzcycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2hvbWUnKTtcbiAgICAgICAgfSk7XG4gICAgXG4gICAgfVxuICAgIFxuICAgIGF1dGhFdmVudHMuJGluamVjdCA9IFsnJHJvb3RTY29wZScsJ3VzZXJTZXJ2aWNlJywgJyRzdGF0ZScsICd0b2FzdGVyJywgJyRjYWNoZUZhY3RvcnknLCAnQkFTRV9BUElfVVJMJ107XG4gICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gIGFuZ3VsYXIubW9kdWxlKCduc0FwcC51c2VycycpXG4gICAgLmNvbmZpZyhyb3V0ZXMpO1xuICBcbiAgZnVuY3Rpb24gcm91dGVzKCRzdGF0ZVByb3ZpZGVyKXtcbiAgICAgIFxuICAgICAgJHN0YXRlUHJvdmlkZXJcbiAgICAgICAgLnN0YXRlKCdsb2dpbicseyBcbiAgICAgICAgICB1cmw6ICcvdXNlcnMvc2lnbl9pbicsXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3VzZXJzL2xvZ2luL2xvZ2luVXNlci5odG1sJyxcbiAgICAgICAgICBjb250cm9sbGVyOiAnbG9naW5Vc2VyJyxcbiAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgcmVzb2x2ZTp7XG4gICAgICAgICAgICAgdXNlcjogWyckcm9vdFNjb3BlJywgZnVuY3Rpb24oJHJvb3RTY29wZSl7XG4gICAgICAgICAgICAgICAgIGlmKCRyb290U2NvcGUudXNlci5zaWduZWRJbil7XG4gICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2hvbWUnKTtcbiAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICB9XVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCduZXdBY2NvdW50Jyx7XG4gICAgICAgICAgdXJsOiAnL3VzZXJzL3NpZ25fdXAnLFxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy91c2Vycy9hY2NvdW50L25ld0FjY291bnQuaHRtbCcsXG4gICAgICAgICAgY29udHJvbGxlcjogJ25ld0FjY291bnQnLFxuICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyAgICBcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdlZGl0QWNjb3VudCcse1xuICAgICAgICAgIHVybDogJy9hY2NvdW50L2VkaXQnLFxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy91c2Vycy9hY2NvdW50L2VkaXRBY2NvdW50Lmh0bWwnLFxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdlZGl0QWNjb3VudCcsXG4gICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgYXV0aDogWyckYXV0aCcsIGZ1bmN0aW9uKCRhdXRoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRhdXRoLnZhbGlkYXRlVXNlcigpO1xuICAgICAgICAgICAgICB9XVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdyZXF1ZXN0UGFzc3dvcmRSZXNldCcse1xuICAgICAgICAgIHVybDogJy91c2Vycy9wYXNzd29yZC9uZXcnLFxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy91c2Vycy9hY2NvdW50L3JlcXVlc3RQYXNzd29yZFJlc2V0Lmh0bWwnLFxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdyZXF1ZXN0UGFzc3dvcmRSZXNldCcsXG4gICAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgncmVzZXRQYXNzd29yZCcse1xuICAgICAgICAgIHVybDogJy91c2Vycy9wYXNzd29yZC9yZXNldCcsXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvdXNlcnMvYWNjb3VudC9yZXNldHBhc3N3b3JkLmh0bWwnLFxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdyZXNldFBhc3N3b3JkJyxcbiAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgICBhdXRoOiBbJyRhdXRoJywgZnVuY3Rpb24oJGF1dGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJGF1dGgudmFsaWRhdGVVc2VyKCk7XG4gICAgICAgICAgICAgIH1dXG4gICAgICAgICAgfVxuICAgICAgICB9KTsgXG4gIH0gICBcblxuICByb3V0ZXMuJGluamVjdCA9IFsnJHN0YXRlUHJvdmlkZXInLCAnJGF1dGhQcm92aWRlciddO1xuICAgIFxufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gIGFuZ3VsYXIubW9kdWxlKCduc0FwcC51c2VycycpXG4gICAgLmZhY3RvcnkoJ3VzZXJTZXJ2aWNlJywgdXNlclNlcnZpY2UpO1xuICAgIFxuICBmdW5jdGlvbiB1c2VyU2VydmljZSgkcm9vdFNjb3BlLCAkYXV0aCwgJHEsIHRvYXN0ZXIpe1xuICAgICAgXG4gICAgdmFyIHNlbGYgPSB7XG4gICAgICAgIHBlbmRpbmc6IGZhbHNlLFxuICAgICAgICBhY2NvdW50OiBudWxsLFxuICAgICAgICBzZXRDdXJyZW50QWNjb3VudDogc2V0Q3VycmVudEFjY291bnQsXG4gICAgICAgIGxvZ2luOiBsb2dpbixcbiAgICAgICAgcmVnaXN0ZXI6IHJlZ2lzdGVyLFxuICAgICAgICB1cGRhdGU6IHVwZGF0ZSxcbiAgICAgICAgcmVxdWVzdFBhc3N3b3JkUmVzZXQ6IHJlcXVlc3RQYXNzd29yZFJlc2V0LFxuICAgICAgICByZXNldFBhc3N3b3JkOiByZXNldFBhc3N3b3JkLFxuICAgICAgICBkZXN0cm95OiBkZXN0cm95XG4gICAgfSBcbiAgICBcbiAgICAkcm9vdFNjb3BlLiRvbignYXV0aDpsb2dvdXQtc3VjY2VzcycsIGZ1bmN0aW9uKGV2LCByZWFzb24pIHtcbiAgICAgICAgc2VsZi5hY2NvdW50ID0gbnVsbDtcbiAgICB9KTtcbiAgICAgIFxuICAgIHJldHVybiBzZWxmO1xuICBcbiAgICBmdW5jdGlvbiBzZXRDdXJyZW50QWNjb3VudCgpe1xuICAgICAgIHNlbGYuYWNjb3VudCA9IGFuZ3VsYXIuY29weSgkcm9vdFNjb3BlLnVzZXIpO1xuLy8gICAgICAgaWYoc2VsZi5hY2NvdW50LnByb3ZpZGVyID09ICdlbWFpbCcpIHNlbGYuYWNjb3VudC5jdXJyZW50X3Bhc3N3b3JkID0gJydcbiAgICAgICByZXR1cm4gc2VsZi5hY2NvdW50OyBcbiAgICB9O1xuICAgICAgXG4gICAgZnVuY3Rpb24gbG9naW4oKXtcbiAgICAgICAgdmFyIGQgPSAkcS5kZWZlcigpO1xuICAgICAgICAkYXV0aC5zdWJtaXRMb2dpbihzZWxmLmFjY291bnQpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgJGF1dGgudmFsaWRhdGVVc2VyKCk7XG4gICAgICAgICAgdG9hc3Rlci5wb3AoJ3N1Y2Nlc3MnLCdXZWxjb21lLCAnICsgcmVzcC5maXJzdF9uYW1lICsgJyEnKTtcbiAgICAgICAgICBkLnJlc29sdmUocmVzcCk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgIHRvYXN0ZXIucG9wKCdlcnJvcicsICdJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkLicpOyBcbiAgICAgICAgICBzZWxmLmFjY291bnQucGFzc3dvcmQgPSAnJzsgICAgXG4gICAgICAgICAgZC5yZWplY3QocmVzcCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZC5wcm9taXNlOyBcbiAgICB9O1xuICAgICAgXG4gICAgZnVuY3Rpb24gcmVnaXN0ZXIoKXtcbiAgICAgICBpZihzZWxmLnBlbmRpbmcpIHJldHVybjtcbiAgICAgICB2YXIgZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgc2VsZi5wZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAkYXV0aC5zdWJtaXRSZWdpc3RyYXRpb24oc2VsZi5hY2NvdW50KS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgJGF1dGgudmFsaWRhdGVVc2VyKCk7XG4gICAgICAgICAgICB0b2FzdGVyLnBvcCgnc3VjY2VzcycsICdSZWdpc3RyYXRpb24gY29tcGxldGUnLCAnV2VsY29tZSB0byBUaGUgTml0ZXNwb3QgOiknKTtcbiAgICAgICAgICAgIGQucmVzb2x2ZShyZXNwKTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICB0b2FzdGVyLnBvcCgnZXJyb3InLCAnUmVnaXN0cmF0aW9uIEVycm9yJywgJ1BsZWFzZSByZXZpZXcgdGhlIGZvcm0nKTtcbiAgICAgICAgICAgIGQucmVqZWN0KHJlc3ApO1xuICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uKHJlc3ApeyBzZWxmLnBlbmRpbmcgPSBmYWxzZSB9KTtcbiAgICAgICAgcmV0dXJuIGQucHJvbWlzZTtcbiAgICB9O1xuICAgICAgXG4gICAgZnVuY3Rpb24gdXBkYXRlKCl7XG4gICAgICAgaWYoc2VsZi5wZW5kaW5nKSByZXR1cm47XG4gICAgICAgdmFyIGQgPSAkcS5kZWZlcigpO1xuICAgICAgIHNlbGYucGVuZGluZyA9IHRydWU7XG4gICAgICAgJGF1dGgudXBkYXRlQWNjb3VudChzZWxmLmFjY291bnQpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICB0b2FzdGVyLnBvcCgnc3VjY2VzcycsICdBY2NvdW50IHVwZGF0ZWQnKTtcbiAgICAgICAgICAgIGQucmVzb2x2ZShyZXNwKTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICB0b2FzdGVyLnBvcCgnZXJyb3InLCAnVW5hYmxlIHRvIHVwZGF0ZScpO1xuICAgICAgICAgICAgZC5yZWplY3QocmVzcCk7XG4gICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24ocmVzcCl7IFxuICAgICAgICAgICBzZWxmLnBlbmRpbmcgPSBmYWxzZSBcbiAgICAgICAgICAgaWYoc2VsZi5hY2NvdW50LnBhc3N3b3JkKSBkZWxldGUgc2VsZi5hY2NvdW50LnBhc3N3b3JkO1xuICAgICAgICAgICBpZihzZWxmLmFjY291bnQucGFzc3dvcmRfY29uZmlybWF0aW9uKSBkZWxldGUgc2VsZi5hY2NvdW50LnBhc3N3b3JkX2NvbmZpcm1hdGlvbjtcbiAgICAgICAgICAgc2VsZi5hY2NvdW50LmN1cnJlbnRfcGFzc3dvcmQgPSAnJztcbiAgICAgICB9KTtcbiAgICAgICByZXR1cm4gZC5wcm9taXNlO1xuICAgIH07XG4gICAgICBcbiAgICBmdW5jdGlvbiByZXF1ZXN0UGFzc3dvcmRSZXNldCgpe1xuICAgICAgICBpZihzZWxmLnBlbmRpbmcpIHJldHVybjtcbiAgICAgICAgdmFyIGQgPSAkcS5kZWZlcigpO1xuICAgICAgICBzZWxmLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICAkYXV0aC5yZXF1ZXN0UGFzc3dvcmRSZXNldChzZWxmLmFjY291bnQpLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKHJlc3ApO1xuICAgICAgICAgICAgdG9hc3Rlci5wb3AoJ3N1Y2Nlc3MnLCBgUGxlYXNlIGNoZWNrIGVtYWlsICR7c2VsZi5hY2NvdW50LmVtYWlsfSBmb3IgaW5zdHJ1Y3Rpb25zLmApO1xuICAgICAgICAgICAgZC5yZXNvbHZlKHJlc3ApO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlc3ApO1xuICAgICAgICAgICAgaWYocmVzcC5zdGF0dXMgPT0gNDA0KXtcbiAgICAgICAgICAgICAgdG9hc3Rlci5wb3AoJ2Vycm9yJywgYFRoZXJlIGlzIG5vIGFjY291bnQgZm9yICR7c2VsZi5hY2NvdW50LmVtYWlsfWApO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgIHRvYXN0ZXIucG9wKCdlcnJvcicsICdVbmFibGUgdG8gcmVzZXQgcGFzc3dvcmQuJyk7ICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGQucmVqZWN0KHJlc3ApO1xuICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uKHJlc3ApeyBzZWxmLnBlbmRpbmcgPSBmYWxzZSB9KTsgXG4gICAgICAgIHJldHVybiBkLnByb21pc2U7XG4gICAgfTtcbiAgICAgIFxuICAgIGZ1bmN0aW9uIHJlc2V0UGFzc3dvcmQoKXtcbiAgICAgICAgaWYoc2VsZi5wZW5kaW5nKSByZXR1cm47XG4gICAgICAgIHNlbGYucGVuZGluZyA9IHRydWU7XG4gICAgICAgIHZhciBkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgJGF1dGgudXBkYXRlUGFzc3dvcmQoc2VsZi5hY2NvdW50KS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhyZXNwKTtcbiAgICAgICAgICAgIHRvYXN0ZXIucG9wKCdzdWNjZXNzJywgJ1Bhc3N3b3JkIGhhcyBiZWVuIHJlc2V0Jyk7XG4gICAgICAgICAgICBkLnJlc29sdmUocmVzcCk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHNlbGYuYWNjb3VudCk7XG4gICAgICAgICAgICB0b2FzdGVyLnBvcCgnZXJyb3InLCAnVW5hYmxlIHRvIHJlc2V0IHBhc3N3b3JkLicpO1xuICAgICAgICAgICAgZC5yZWplY3QocmVzcCk7XG4gICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24ocmVzcCl7IHNlbGYucGVuZGluZyA9IGZhbHNlIH0pOyBcbiAgICAgICAgcmV0dXJuIGQucHJvbWlzZTtcbiAgICB9O1xuICAgICAgXG4gICAgZnVuY3Rpb24gZGVzdHJveSgpe1xuICAgICAgICBpZihzZWxmLnBlbmRpbmcpIHJldHVybjtcbiAgICAgICAgdmFyIGQgPSAkcS5kZWZlcigpO1xuICAgICAgICBzZWxmLnBlbmRpbmcgPSAgdHJ1ZTtcbiAgICAgICAgJGF1dGguZGVzdHJveUFjY291bnQoc2VsZi5hY2NvdW50KS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgICRhdXRoLnNpZ25PdXQoKTtcbiAgICAgICAgICAgIHRvYXN0ZXIucG9wKCdpbmZvJywnQWNjb3VudCBjbG9zZWQnKTtcbiAgICAgICAgICAgIGQucmVzb2x2ZShyZXNwKTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcCk7XG4gICAgICAgICAgICB0b2FzdGVyLnBvcCgnZXJyb3InLCAnVWFuYmxlIHRvIGNsb3NlIGFjY291bnQgYXQgdGhpcyB0aW1lJyk7XG4gICAgICAgICAgICBzZWxmLmFjY291bnQuY3VycmVudF9wYXNzd29yZCA9ICcnOyBcbiAgICAgICAgICAgIGQucmVqZWN0KHJlc3ApO1xuICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uKHJlc3ApeyBzZWxmLnBlbmRpbmcgPSBmYWxzZSB9KTtcbiAgICAgICAgcmV0dXJuIGQucHJvbWlzZTtcbiAgICB9O1xuICAgICAgXG4gIH1cbiAgICBcbiAgdXNlclNlcnZpY2UuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckYXV0aCcsICckcScsICd0b2FzdGVyJ107XG4gICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc2hhcmVkJylcbiAgICAgIC5jb250cm9sbGVyKCdjcm9wSW1hZ2VNb2RhbCcsIGNyb3BJbWFnZU1vZGFsKTtcbiAgICBcbiAgICBmdW5jdGlvbiBjcm9wSW1hZ2VNb2RhbChpbWdGaWxlLCAkdWliTW9kYWxJbnN0YW5jZSl7XG4gICAgICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgICAgIGN0cmwuaW1nRmlsZSA9IGltZ0ZpbGU7XG4gICAgICAgY3RybC51cGxvYWQgPSB1cGxvYWQ7XG4gICAgICAgY3RybC5jYW5jZWwgPSBjYW5jZWw7XG4gICAgICAgIFxuICAgICAgIGZ1bmN0aW9uIHVwbG9hZChkYXRhVXJsKXtcbiAgICAgICAgICByZXR1cm4gJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoZGF0YVVybCk7ICBcbiAgICAgICB9O1xuICAgICAgXG4gICAgICAgZnVuY3Rpb24gY2FuY2VsKCl7XG4gICAgICAgICAgcmV0dXJuICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MobnVsbCk7XG4gICAgICAgfSA7IFxuICAgICAgICBcbiAgICB9O1xuICAgXG4gICAgY3JvcEltYWdlTW9kYWwuJGluamVjdCA9IFsnaW1nRmlsZScsICckdWliTW9kYWxJbnN0YW5jZSddO1xuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc2hhcmVkJylcbiAgICAuZmlsdGVyKCdkZWZhdWx0SW1nJywgZGVmYXVsdEltZyk7XG5cbiAgZnVuY3Rpb24gZGVmYXVsdEltZyhCQVNFX0FQSV9VUkwpe1xuICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCwgcGFyYW0pe1xuICAgICAgIGlmKCFpbnB1dCl7XG4gICAgICAgICAgIHJldHVybiAnYXNzZXRzL2ltZy9kZWZhdWx0JyArIHBhcmFtO1xuICAgICAgIH1cbiAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfTsgIFxuICB9O1xuICAgICAgICAgIFxuICBkZWZhdWx0SW1nLiRpbmplY3QgPSBbJ0JBU0VfQVBJX1VSTCddO1xuICAgICAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zaGFyZWQnKVxuICAgICAgICAuZmFjdG9yeSgnaW1hZ2VTZXJ2aWNlJywgaW1hZ2VTZXJ2aWNlKTtcbiAgICBcbiAgICBmdW5jdGlvbiBpbWFnZVNlcnZpY2UoQkFTRV9BUElfVVJMLCAkaHR0cCwgVXBsb2FkLCAkcSwgdG9hc3Rlcil7XG4gICAgICAgIHZhciB1cmw7XG4gICAgICAgIHZhciBzZWxmID0ge1xuICAgICAgICAgICAgaW5pdDogaW5pdCxcbiAgICAgICAgICAgIHBlbmRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgaW1hZ2VzOiBbXSxcbiAgICAgICAgICAgIGxvYWRJbWFnZXM6IGxvYWRJbWFnZXMsXG4gICAgICAgICAgICB1cGxvYWQ6IHVwbG9hZCxcbiAgICAgICAgICAgIHNldFByaW1hcnk6IHNldFByaW1hcnksIFxuICAgICAgICAgICAgZGVzdHJveTogZGVzdHJveVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gaW5pdChkYXRhKXtcbiAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHNlbGYsIGRhdGEpO1xuICAgICAgICAgICAgdXJsID0gW0JBU0VfQVBJX1VSTCwgc2VsZi51cmksIHNlbGYuaW1hZ2VhYmxlX2lkLCAnaW1hZ2VzJ10uam9pbignLycpO1xuLy8gICAgICAgICAgICBsb2FkSW1hZ2VzKCk7XG4gICAgICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIGxvYWRJbWFnZXMoKXtcbiAgICAgICAgICAgICRodHRwLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgc2VsZi5pbWFnZXMgPSByZXNwLmRhdGE7IFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiB1cGxvYWQoZGF0YVVybCwgcHJpbWFyeSl7XG4gICAgICAgICAgICBpZihzZWxmLnBlbmRpbmcpIHJldHVybjtcbiAgICAgICAgICAgIHNlbGYucGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICBkYXRhOiB7IGZpbGVfZGF0YV91cmk6IGRhdGFVcmwsIHByaW1hcnk6IHByaW1hcnkgfVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnc3VjY2VzcycsJ0ltYWdlIEFkZGVkJyk7XG4gICAgICAgICAgICAgICAgc2VsZi5pbWFnZXMucHVzaChyZXNwLmRhdGEpO1xuICAgICAgICAgICAgICAgIGQucmVzb2x2ZShyZXNwKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICAgIHRvYXN0ZXIucG9wKCdlcnJvcicsJ1VuYWJsZSB0byB1cGxvYWQgaW1hZ2UnKTtcbiAgICAgICAgICAgICAgICBkLnJlamVjdChyZXNwKTtcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKXsgc2VsZi5wZW5kaW5nID0gZmFsc2U7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIGQucHJvbWlzZTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIHNldFByaW1hcnkoaW1hZ2Upe1xuICAgICAgICAgICAgaWYoc2VsZi5wZW5kaW5nIHx8ICFpbWFnZSkgcmV0dXJuO1xuICAgICAgICAgICAgc2VsZi5wZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgICRodHRwLnB1dChCQVNFX0FQSV9VUkwgKyAnL2ltYWdlcy8nICsgaW1hZ2UuaWQsIHsgcHJpbWFyeTogdHJ1ZSB9KS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICAgIHRvYXN0ZXIucG9wKCdzdWNjZXNzJywgJ0ltYWdlIHNldCcpO1xuICAgICAgICAgICAgICAgIGQucmVzb2x2ZShyZXNwKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICAgIGQucmVqZWN0KHJlc3ApO1xuICAgICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbigpeyBzZWxmLnBlbmRpbmcgPSBmYWxzZTsgfSk7XG4gICAgICAgICAgICByZXR1cm4gZC5wcm9taXNlO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gZGVzdHJveShpbWFnZSl7XG4gICAgICAgICAgICBpZihzZWxmLnBlbmRpbmcgfHwgIWltYWdlKSByZXR1cm47XG4gICAgICAgICAgICB2YXIgZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICBzZWxmLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgJGh0dHAuZGVsZXRlKEJBU0VfQVBJX1VSTCArICcvaW1hZ2VzLycgKyBpbWFnZS5pZCApLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSBzZWxmLmltYWdlcy5pbmRleE9mKGltYWdlKTtcbiAgICAgICAgICAgICAgICBzZWxmLmltYWdlcy5zcGxpY2UoaSwxKTtcbiAgICAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnc3VjY2VzcycsICdJbWFnZSBSZW1vdmVkJyk7XG4gICAgICAgICAgICAgICAgZC5yZXNvbHZlKHJlc3ApO1xuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgZC5yZWplY3QocmVzcCk7XG4gICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uKCl7IHNlbGYucGVuZGluZyA9IGZhbHNlOyB9KTtcbiAgICAgICAgICAgIHJldHVybiBkLnByb21pc2U7XG4gICAgICAgIH07ICBcbiAgICB9XG4gICAgXG4gICAgaW1hZ2VTZXJ2aWNlLiRpbmplY3QgPVsnQkFTRV9BUElfVVJMJywgJyRodHRwJywgJ1VwbG9hZCcsICckcScsICd0b2FzdGVyJ107XG4gICAgXG4gICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc2hhcmVkJylcbiAgICAgIC5kaXJlY3RpdmUoJ25zUHJpbWFyeUltYWdlJywgbnNQcmltYXJ5SW1hZ2UpO1xuICAgIFxuICAgIGZ1bmN0aW9uIG5zUHJpbWFyeUltYWdlKGltYWdlU2VydmljZSwgJHVpYk1vZGFsKXtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0aWN0OiAnRScsXG4gICAgICAgICAgICBzY29wZToge30sXG4gICAgICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB7XG4gICAgICAgICAgICAgICBpbWFnZWFibGU6ICc9JyxcbiAgICAgICAgICAgICAgIHVyaTogJ0AnIFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJ2ltYWdlU2VydmljZScsICckdWliTW9kYWwnLCBmdW5jdGlvbigkc2NvcGUsIGltYWdlU2VydmljZSwgJHVpYk1vZGFsKXtcbiAgICAgICAgICAgICAgICB2YXIgY3RybCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgY3RybC5pbWFnZVNlcnZpY2UgPSBpbWFnZVNlcnZpY2U7XG4gICAgICAgICAgICAgICAgY3RybC5pbWdGaWxlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjdHJsLm9wZW5Nb2RhbCA9IG9wZW5Nb2RhbDtcbiAgICAgICAgICAgICAgICBjdHJsLnJlbW92ZSA9IHJlbW92ZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKCdpbWFnZWFibGUnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBjdHJsLmltYWdlU2VydmljZS5pbml0KHt1cmk6IGN0cmwudXJpLCBpbWFnZWFibGVfaWQ6IGN0cmwuaW1hZ2VhYmxlLmlkfSk7IFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlKCl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZW1vdmluZy4uLj8nKTtcbiAgICAgICAgICAgICAgICAgICAgY3RybC5pbWFnZVNlcnZpY2UuZGVzdHJveShjdHJsLmltYWdlYWJsZS5wcmltYXJ5X2ltYWdlKS50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHJsLmltYWdlYWJsZS5wcmltYXJ5X2ltYWdlID0gbnVsbDsgXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBvcGVuTW9kYWwoKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoIWN0cmwuaW1nRmlsZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdjcm9wSW1hZ2VNb2RhbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdpbWdDdHJsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc2hhcmVkL2ltYWdlcy9jcm9wSW1hZ2VNb2RhbC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdtZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nRmlsZTogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0cmwuaW1nRmlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9ICAgIFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuaW1nRmlsZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHJsLmltYWdlU2VydmljZS51cGxvYWQocmVzLCB0cnVlKS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuaW1hZ2VhYmxlLnByaW1hcnlfaW1hZ2UgPSByZXNwLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgXG4gICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2ltZ0N0cmwnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzaGFyZWQvaW1hZ2VzL25zUHJpbWFyeUltYWdlLmh0bWwnXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuICAgIFxuICAgIG5zUHJpbWFyeUltYWdlLiRpbmplY3QgPSBbJ2ltYWdlU2VydmljZScsICckdWliTW9kYWwnXTtcbiAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc2hhcmVkJylcbiAgICAuZmlsdGVyKCdwcmltYXJ5SW1hZ2UnLCBwcmltYXJ5SW1hZ2UpO1xuXG4gIGZ1bmN0aW9uIHByaW1hcnlJbWFnZSgpe1xuICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCl7XG4gICAgICAgaWYoIWlucHV0LnByaW1hcnlfaW1hZ2Upe1xuICAgICAgICAgIHZhciBwYXRoID0gJ2Fzc2V0cy9pbWcvZGVmYXVsdC8nOyAgIFxuICAgICAgICAgIGlmKGlucHV0Lmhhc093blByb3BlcnR5KCdlYXQnKSl7XG4gICAgICAgICAgICAgIGlmKGlucHV0LmVhdCkgcGF0aCArPSAnZSc7XG4gICAgICAgICAgICAgIGlmKGlucHV0LmRyaW5rKSBwYXRoICs9ICdkJztcbiAgICAgICAgICAgICAgaWYoaW5wdXQuYXR0ZW5kKSBwYXRoICs9ICdhJztcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgcGF0aCArPSAnYSc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhdGggKz0gJy5wbmcnO1xuICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgIH1cbiAgICAgICByZXR1cm4gaW5wdXQucHJpbWFyeV9pbWFnZS51cmw7XG4gICAgfTsgIFxuICB9O1xuICAgICAgICAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zaGFyZWQnKVxuICAgICAgICAuZGlyZWN0aXZlKCduc0NvbmZpcm0nLCBuc0NvbmZpcm0pO1xuICAgIFxuICAgIGZ1bmN0aW9uIG5zQ29uZmlybSgkdWliTW9kYWwpe1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByaW9yaXR5OiAxLFxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgbnNDb25maXJtOiAnQCcsXG4gICAgICAgICAgICAgICAgbmdDbGljazogJyYnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGluazogbGluayAgICBcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbSwgYXR0cnMpe1xuICAgICAgICAgICAgZWxlbS51bmJpbmQoJ2NsaWNrJykuYmluZCgnY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgXG5cbiAgICAgICAgICAgICAgIHZhciBtaSA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5IGNsZWFyZml4XCI+IDxoMyBjbGFzcz1cInRleHQteHMtY2VudGVyXCI+Q29uZmlybTwvaDM+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8cCBjbGFzcz1cInRleHQteHMtY2VudGVyXCIgbmctYmluZD1cImN0cmwubWVzc2FnZVwiPjwvcD4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1wcmltYXJ5LW91dGxpbmVcIiBuZy1jbGljaz1cImN0cmwuY29uZmlybSgpXCI+T2s8L2J1dHRvbj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1kYW5nZXItb3V0bGluZSBwdWxsLXJpZ2h0XCIgbmctY2xpY2s9XCJjdHJsLmNhbmNlbCgpXCI+Q2FuY2VsPC9idXR0b24+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHVpYk1vZGFsSW5zdGFuY2UnLCAnbWVzc2FnZScsIGZ1bmN0aW9uKCR1aWJNb2RhbEluc3RhbmNlLCBtZXNzYWdlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdHJsID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwubWVzc2FnZSA9IG1lc3NhZ2UgfHwgJ0FyZSB5b3Ugc3VyZT8nO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5jb25maXJtID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuY2FuY2VsID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2N0cmwnLFxuICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXG4gICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGUubnNDb25maXJtO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgICAgICAgIG1pLnJlc3VsdC50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICBzY29wZS5uZ0NsaWNrKCk7XG4gICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBuc0NvbmZpcm0uJGluamVjdCA9IFsnJHVpYk1vZGFsJ107XG4gICAgXG4gICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gICAgXG4gIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zaGFyZWQnKVxuICAgIC5kaXJlY3RpdmUoJ25zRm9ybUlucHV0JywgbnNGb3JtSW5wdXQpO1xuICAgIFxuICBmdW5jdGlvbiBuc0Zvcm1JbnB1dCgpe1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgIHJlcXVpcmU6ICdeZm9ybScsXG4gICAgICAgICAgbGluazogbGlua1xuICAgICAgfVxuICAgICAgXG4gICAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtLCBhdHRycywgZm9ybUN0cmwpe1xuICAgICAgICAgIHZhciBpbnB1dCA9IGFuZ3VsYXIuZWxlbWVudChlbGVtWzBdLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0LCB0ZXh0YXJlYSwgc2VsZWN0JykpO1xuICAgICAgICAgIHZhciBuYW1lID0gaW5wdXRbMF0uYXR0cmlidXRlcy5uYW1lLnZhbHVlO1xuXG4gICAgICAgICAgc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICByZXR1cm4gW2Zvcm1DdHJsW25hbWVdLiRkaXJ0eSwgZm9ybUN0cmxbbmFtZV0uJGludmFsaWRdO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKHJldFZhbCl7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZihyZXRWYWwgJiYgcmV0VmFsWzBdKXtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICBpZihyZXRWYWxbMV0pe1xuICAgICAgICAgICAgICAgICAgICAgZWxlbS5yZW1vdmVDbGFzcygnaGFzLXN1Y2Nlc3MnKS5hZGRDbGFzcygnaGFzLWRhbmdlcicpO1xuICAgICAgICAgICAgICAgICAgICAgaW5wdXQucmVtb3ZlQ2xhc3MoJ2Zvcm0tY29udHJvbC1zdWNjZXNzJykuYWRkQ2xhc3MoJ2Zvcm0tY29udHJvbC1kYW5nZXInKTtcbiAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICBlbGVtLnJlbW92ZUNsYXNzKCdoYXMtZGFuZ2VyJykuYWRkQ2xhc3MoJ2hhcy1zdWNjZXNzJyk7XG4gICAgICAgICAgICAgICAgICAgICBpbnB1dC5yZW1vdmVDbGFzcygnZm9ybS1jb250cm9sLWRhbmdlcicpLmFkZENsYXNzKCdmb3JtLWNvbnRyb2wtc3VjY2VzcycpOyAgXG4gICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICB9XG4gICAgICAgICB9KTsgICBcbiAgICAgIH1cbiAgICAgIFxuICB9XG4gICAgXG59KSgpO1xuLy8oZnVuY3Rpb24oKXtcbi8vICAndXNlIHN0cmljdCc7XG4vLyAgICBcbi8vICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc2hhcmVkJylcbi8vICAgIC5kaXJlY3RpdmUoJ25zRm9ybUlucHV0JywgbnNGb3JtSW5wdXQpO1xuLy8gICAgXG4vLyAgZnVuY3Rpb24gbnNGb3JtSW5wdXQoKXtcbi8vICAgICAgcmV0dXJuIHtcbi8vICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4vLyAgICAgICAgICByZXF1aXJlOiAnXmZvcm0nLFxuLy8gICAgICAgICAgbGluazogbGlua1xuLy8gICAgICB9XG4vLyAgICAgIFxuLy8gICAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtLCBhdHRycywgZm9ybUN0cmwpe1xuLy8gICAgICAgICB2YXIgbmFtZSA9IHNldHVwRWxlbWVudChlbGVtWzBdKTsgICAgICAgICAgXG4vLyAgICAgICAgIHNjb3BlLiR3YXRjaEdyb3VwKGZ1bmN0aW9uKCl7XG4vLyAgICAgICAgICAgIGlmKGZvcm1DdHJsICYmIGZvcm1DdHJsW25hbWVdKXtcbi8vICAgICAgICAgICAgICByZXR1cm4gWyBmb3JtQ3RybFtuYW1lXS4kZGlydHksIGZvcm1DdHJsW25hbWVdLiRpbnZhbGlkIF07XG4vLyAgICAgICAgICAgIH1cbi8vICAgICAgICAgfSwgZnVuY3Rpb24ocmV0VmFsKXtcbi8vICAgICAgICAgICAgIGlmKHJldFZhbCAmJiByZXRWYWxbMF0pe1xuLy8gICAgICAgICAgICAgICAgIGlmKHJldFZhbFsxXSl7XG4vLyAgICAgICAgICAgICAgICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoJ2hhcy1zdWNjZXNzJykuYWRkQ2xhc3MoJ2hhcy1lcnJvcicpO1xuLy8gICAgICAgICAgICAgICAgIH1lbHNle1xuLy8gICAgICAgICAgICAgICAgICAgICBlbGVtLnJlbW92ZUNsYXNzKCdoYXMtZXJyb3InKS5hZGRDbGFzcygnaGFzLXN1Y2Nlc3MnKTsgICAgIFxuLy8gICAgICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgfSk7ICAgXG4vLyAgICAgIH1cbi8vICAgICAgXG4vLyAgICAgIGZ1bmN0aW9uIHNldHVwRWxlbWVudChlbGVtKXtcbi8vICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnZm9ybS1ncm91cCcpO1xuLy8gICAgICAgICAgdmFyIGlucHV0ID0gZWxlbS5xdWVyeVNlbGVjdG9yKCdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCcpO1xuLy8gICAgICAgICAgdmFyIG5hbWUgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcbi8vICAgICAgICAgIHZhciB0eXBlID0gaW5wdXQuZ2V0QXR0cmlidXRlKCd0eXBlJyk7XG4vLyAgICAgICAgICBpZih0eXBlICE9PSAnY2hlY2tib3gnICYmIHR5cGUgIT09ICdyYWRpbycpe1xuLy8gICAgICAgICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoJ2Zvcm0tY29udHJvbCcpO1xuLy8gICAgICAgICAgfVxuLy8gICAgICAgICAgcmV0dXJuIG5hbWU7XG4vLyAgICAgIH1cbi8vICAgICAgXG4vLyAgfVxuLy8gICAgXG4vL30pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zaGFyZWQnKVxuICAgICAgLmRpcmVjdGl2ZSgnbnNNYXRjaGVzJywgbnNNYXRjaGVzKTtcbiAgICBcbiAgICBmdW5jdGlvbiBuc01hdGNoZXMoKXtcbiAgICAgICAgcmV0dXJue1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgdmFsOiBcIj1uc01hdGNoZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxpbms6IGxpbmtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbSwgYXR0ciwgbmdNb2RlbCl7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG5nTW9kZWwuJHZhbGlkYXRvcnMubWF0Y2hlcyA9IGZ1bmN0aW9uKG1vZGVsVmFsKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWxWYWwgPT0gc2NvcGUudmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goJ3ZhbCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgbmdNb2RlbC4kdmFsaWRhdGUoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc2hhcmVkJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnbnNTcG90UHJpY2VTZWxlY3QnLCBuc1Nwb3RQcmljZVNlbGVjdCk7XG4gICAgXG4gICAgZnVuY3Rpb24gbnNTcG90UHJpY2VTZWxlY3QoKXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICBzY29wZTp7fSxcbiAgICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6e1xuICAgICAgICAgICAgICAgIHByaWNlOiAnPW5nTW9kZWwnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udHJvbGxlcjogbnNTcG90UHJpY2VTZWxlY3RDdHJsLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAnY3RybCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3NoYXJlZC9mb3Jtcy9uc1Nwb3RQcmljZVNlbGVjdC5odG1sJ1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBuc1Nwb3RQcmljZVNlbGVjdEN0cmwoKXtcbiAgICAgICAgICAgIHZhciBjdHJsID0gdGhpcztcbiAgICAgICAgICAgIGN0cmwucHJldmlldyA9IC0xO1xuICAgICAgICAgICAgY3RybC5wcmljZXMgPSBuZXcgQXJyYXkoNCk7XG4gICAgICAgICAgICBjdHJsLmNsaWNrID0gY2xpY2s7XG4gICAgICAgICAgICBjdHJsLnN0eWxlcyA9IHN0eWxlcztcbiAgICAgICAgICAgIGN0cmwubW91c2VvdmVyID0gbW91c2VvdmVyO1xuICAgICAgICAgICAgY3RybC5tb3VzZW91dCA9IG1vdXNlb3V0O1xuICAgICAgICAgICAgY3RybC5jbGVhciA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgY3RybC5wcmljZSA9IDA7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmdW5jdGlvbiBjbGljaygkaW5kZXgpe1xuICAgICAgICAgICAgICAgIGN0cmwucHJpY2UgPSAkaW5kZXggKyAxO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZnVuY3Rpb24gbW91c2VvdmVyKCRpbmRleCl7XG4gICAgICAgICAgICAgICAgY3RybC5wcmV2aWV3ID0gJGluZGV4O1xuICAgICAgICAgICAgfTsgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBmdW5jdGlvbiBtb3VzZW91dCgkaW5kZXgpe1xuICAgICAgICAgICAgICAgIGN0cmwucHJldmlldyA9IC0xO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZnVuY3Rpb24gc3R5bGVzKCRpbmRleCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgJ2VhdCc6ICRpbmRleCA8IGN0cmwucHJpY2UsXG4gICAgICAgICAgICAgICAgICAgICdwcmV2aWV3JzogJGluZGV4IDw9IGN0cmwucHJldmlld1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9O1xuXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc2hhcmVkJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnbnNTcG90U2VydmljZVNlbGVjdCcsIG5zU3BvdFNlcnZpY2VTZWxlY3QpO1xuICAgIFxuICAgIGZ1bmN0aW9uIG5zU3BvdFNlcnZpY2VTZWxlY3QoKXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICBzY29wZToge30sXG4gICAgICAgICAgICBiaW5kVG9Db250cm9sbGVyOntcbiAgICAgICAgICAgICAgICBzcG90OiAnPSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSl7XG4gICAgICAgICAgICAgICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGN0cmwudmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoR3JvdXAoWydjdHJsLnNwb3QuZWF0JywgJ2N0cmwuc3BvdC5kcmluaycsICdjdHJsLnNwb3QuYXR0ZW5kJ10sIGZ1bmN0aW9uKHJldFZhbCl7XG4gICAgICAgICAgICAgICAgICAgIGlmKHJldFZhbFswXSB8fCByZXRWYWxbMV0gfHwgcmV0VmFsWzJdKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwudmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwudmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICdjdHJsJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc2hhcmVkL2Zvcm1zL25zU3BvdFNlcnZpY2VTZWxlY3QuaHRtbCdcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zaGFyZWQnKVxuICAgICAgLmRpcmVjdGl2ZSgnbnNVbmlxdWVFbWFpbCcsIG5zVW5pcXVlRW1haWwpO1xuXG4gICAgZnVuY3Rpb24gbnNVbmlxdWVFbWFpbChCQVNFX0FQSV9VUkwsICRodHRwLCAkcSwgJHRpbWVvdXQpe1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgcmVxdWlyZTogXCJuZ01vZGVsXCIsXG4gICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtLCBhdHRycywgbmdNb2RlbCl7XG4gICAgICAgICAgICAgICBuZ01vZGVsLiRhc3luY1ZhbGlkYXRvcnMuZW1haWxleGlzdHMgPSBlbWFpbEV4aXN0cztcbiAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBlbWFpbEV4aXN0cyhtb2RlbFZhbCwgdmlld1ZhbCl7XG4gICAgICAgICAgIHZhciB2YWwgPSBtb2RlbFZhbCB8fCB2aWV3VmFsO1xuICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KEJBU0VfQVBJX1VSTCArICcvdXNlcnMvZW1haWxleGlzdHMnLCB7IHBhcmFtczogeyAnZW1haWwnOiB2YWwgfX0pXG4gICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICBpZihyZXNwLmRhdGEpe1xuICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZmFsc2UpO1xuICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIG5zVW5pcXVlRW1haWwuJGluamVjdCA9IFsnQkFTRV9BUElfVVJMJywgJyRodHRwJywgJyRxJywgJyR0aW1lb3V0J107XG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKVxuICAgICAgICAuZGlyZWN0aXZlKCduc1VuaXF1ZVNwb3QnLCBuc1VuaXF1ZVNwb3QpO1xuXG4gICAgLy8gVE9ETyBDaGFuZ2luZyB0aGUgbmFtZSBvZiBjdXJyZW50IHNwb3QgYmVpbmcgZWRpdGVkLi4uIC8vXG4gICAgZnVuY3Rpb24gbnNVbmlxdWVTcG90KEJBU0VfQVBJX1VSTCwgJGh0dHAsICRxLCAkdGltZW91dCl7XG4gICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgcmVxdWlyZTogXCJuZ01vZGVsXCIsXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMsIG5nTW9kZWwpe1xuICAgICAgICAgICAgICAgIG5nTW9kZWwuJGFzeW5jVmFsaWRhdG9ycy5zcG90RXhpc3RzID0gc3BvdEV4aXN0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gc3BvdEV4aXN0cyhtb2RlbFZhbCwgdmlld1ZhbCl7XG4gICAgICAgICAgICB2YXIgdmFsID0gbW9kZWxWYWwgfHwgdmlld1ZhbDtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoQkFTRV9BUElfVVJMICsgJy9zcG90cy9zcG90X2V4aXN0cycseyBwYXJhbXM6IHtuYW1lOiB2YWwgfX0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwLmRhdGEgPyAkcS5yZWplY3QoZmFsc2UpIDogdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIG5zVW5pcXVlU3BvdC4kaW5qZWN0ID0gWydCQVNFX0FQSV9VUkwnLCAnJGh0dHAnLCAnJHEnLCAnJHRpbWVvdXQnXTtcbiAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zaGFyZWQnKVxuICAgICAgICAudmFsdWUoJ3N0YXRlcycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkFMXCI6IFwiQWxhYmFtYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQUtcIjogXCJBbGFza2FcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkFTXCI6IFwiQW1lcmljYW4gU2Ftb2FcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkFaXCI6IFwiQXJpem9uYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQVJcIjogXCJBcmthbnNhc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ0FcIjogXCJDYWxpZm9ybmlhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJDT1wiOiBcIkNvbG9yYWRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJDVFwiOiBcIkNvbm5lY3RpY3V0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJERVwiOiBcIkRlbGF3YXJlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJEQ1wiOiBcIkRpc3RyaWN0IE9mIENvbHVtYmlhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJGTVwiOiBcIkZlZGVyYXRlZCBTdGF0ZXMgT2YgTWljcm9uZXNpYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiRkxcIjogXCJGbG9yaWRhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJHQVwiOiBcIkdlb3JnaWFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkdVXCI6IFwiR3VhbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiSElcIjogXCJIYXdhaWlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIklEXCI6IFwiSWRhaG9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIklMXCI6IFwiSWxsaW5vaXNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIklOXCI6IFwiSW5kaWFuYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiSUFcIjogXCJJb3dhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJLU1wiOiBcIkthbnNhc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiS1lcIjogXCJLZW50dWNreVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiTEFcIjogXCJMb3Vpc2lhbmFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIk1FXCI6IFwiTWFpbmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIk1IXCI6IFwiTWFyc2hhbGwgSXNsYW5kc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiTURcIjogXCJNYXJ5bGFuZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiTUFcIjogXCJNYXNzYWNodXNldHRzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJNSVwiOiBcIk1pY2hpZ2FuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJNTlwiOiBcIk1pbm5lc290YVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiTVNcIjogXCJNaXNzaXNzaXBwaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiTU9cIjogXCJNaXNzb3VyaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiTVRcIjogXCJNb250YW5hXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJORVwiOiBcIk5lYnJhc2thXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJOVlwiOiBcIk5ldmFkYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiTkhcIjogXCJOZXcgSGFtcHNoaXJlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJOSlwiOiBcIk5ldyBKZXJzZXlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIk5NXCI6IFwiTmV3IE1leGljb1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiTllcIjogXCJOZXcgWW9ya1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiTkNcIjogXCJOb3J0aCBDYXJvbGluYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiTkRcIjogXCJOb3J0aCBEYWtvdGFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIk1QXCI6IFwiTm9ydGhlcm4gTWFyaWFuYSBJc2xhbmRzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJPSFwiOiBcIk9oaW9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIk9LXCI6IFwiT2tsYWhvbWFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIk9SXCI6IFwiT3JlZ29uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJQV1wiOiBcIlBhbGF1XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJQQVwiOiBcIlBlbm5zeWx2YW5pYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiUFJcIjogXCJQdWVydG8gUmljb1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiUklcIjogXCJSaG9kZSBJc2xhbmRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlNDXCI6IFwiU291dGggQ2Fyb2xpbmFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlNEXCI6IFwiU291dGggRGFrb3RhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJUTlwiOiBcIlRlbm5lc3NlZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVFhcIjogXCJUZXhhc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVVRcIjogXCJVdGFoXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJWVFwiOiBcIlZlcm1vbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlZJXCI6IFwiVmlyZ2luIElzbGFuZHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlZBXCI6IFwiVmlyZ2luaWFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIldBXCI6IFwiV2FzaGluZ3RvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiV1ZcIjogXCJXZXN0IFZpcmdpbmlhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJXSVwiOiBcIldpc2NvbnNpblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiV1lcIjogXCJXeW9taW5nXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNoYXJlZCcpXG4gICAgICAuZmFjdG9yeSgnTG9jYXRpb25NYW5hZ2VyJywgTG9jYXRpb25NYW5hZ2VyKTtcbiAgICBcbiAgICBmdW5jdGlvbiBMb2NhdGlvbk1hbmFnZXIoJHJvb3RTY29wZSwgJHEsICRnZW9sb2NhdGlvbiwgbG9jYWxTdG9yYWdlU2VydmljZSwgdG9hc3Rlcil7XG4gICAgICAgIFxuICAgICAgICB2YXIgc2VsZiA9IHtcbiAgICAgICAgICAgIGluaXQ6IGluaXQsXG4gICAgICAgICAgICB1c2VyOiBudWxsLFxuICAgICAgICAgICAgc2VhcmNoOiBudWxsLFxuICAgICAgICAgICAgcmFkaXVzOiAnMScsXG4gICAgICAgICAgICBwZW5kaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIHNldFVzZXJMb2NhdGlvbjogc2V0VXNlckxvY2F0aW9uLFxuICAgICAgICAgICAgc2V0U2VhcmNoOiBzZXRTZWFyY2gsXG4gICAgICAgICAgICBzYXZlOiBfc2F2ZSwgXG4gICAgICAgICAgICBzZXRTZWFyY2hUb1VzZXI6IHNldFNlYXJjaFRvVXNlcixcbiAgICAgICAgICAgIGRpc3RhbmNlOiBkaXN0YW5jZSAgIFxuICAgICAgICB9O1xuICAgICAgICBcbi8vICAgICAgICB2YXIgbHMgPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldCgnbG9jYXRpb25zJyk7XG4vLyAgICAgICAgaWYobHMgIT09IG51bGwpe1xuLy8gICAgICAgICAgICBzZWxmLnVzZXIgICA9IGxzLnVzZXI7XG4vLyAgICAgICAgICAgIHNlbGYuc2VhcmNoID0gbHMuc2VhcmNoO1xuLy8gICAgICAgICAgICBzZWxmLnJhZGl1cyA9IGxzLnJhZGl1cztcbi8vICAgICAgICB9XG4vLyAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIGluaXQoKXsgXG4gICAgICAgICAgdmFyIHA7XG4gICAgICAgICAgaWYoIXNlbGYuc2VhcmNoKXtcbiAgICAgICAgICAgICAgaWYoIXNlbGYudXNlcil7XG4gICAgICAgICAgICAgICAgICBwID0gc2V0VXNlckxvY2F0aW9uKCk7XG4gICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgc2VsZi5zZWFyY2ggPSBhbmd1bGFyLmNvcHkoc2VsZi51c2VyKTtcbiAgICAgICAgICAgICAgICAgIF9zYXZlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuICRxLndoZW4ocCA/IHAgOiBzZWxmLnNlYXJjaCk7IFxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBzZXRVc2VyTG9jYXRpb24oKXtcbiAgICAgICAgICBzZWxmLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgIHJldHVybiAkZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKCkudGhlbihmdW5jdGlvbihwb3MpeyAgICBcbiAgICAgICAgICAgIHNlbGYudXNlciA9IHNlbGYuc2VhcmNoID0ge1xuICAgICAgICAgICAgICAgbGF0OiBwb3MuY29vcmRzLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgbG5nOiBwb3MuY29vcmRzLmxvbmdpdHVkZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF9zYXZlKCk7XG4gICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgIHRvYXN0ZXIucG9wKCdlcnJvcicsICdVbmFibGUgdG8gZmluZCBjdXJyZW50IGxvY2F0aW9uLicpO1xuICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKXsgc2VsZi5wZW5kaW5nID0gZmFsc2UgfSk7ICBcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gc2V0U2VhcmNoKGxhdGxuZyl7XG4gICAgICAgICAgIHNlbGYuc2VhcmNoID0gbGF0bG5nO1xuICAgICAgICAgICBfc2F2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gc2V0U2VhcmNoVG9Vc2VyKCl7XG4gICAgICAgICAgIGNvbnNvbGUubG9nKCdzZXRTZWFyY2hUb1VzZXInKTtcbiAgICAgICAgICAgdG9hc3Rlci5wb3AoJ2luZm8nLCAnVXNpbmcgQ3VycmVudCBMb2NhdGlvbicpO1xuICAgICAgICAgICBzZWxmLnNlYXJjaCA9IHNlbGYudXNlcjtcbiAgICAgICAgICAgX3NhdmUoKTtcbiAgICAgICAgICAgcmV0dXJuICRxLndoZW4oc2VsZi5zZWFyY2gpO1xuICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIGRpc3RhbmNlKGxhdCwgbG9uKSB7XG4gICAgICAgICAgaWYoIXNlbGYudXNlcikgcmV0dXJuIG51bGw7XG4gICAgICAgICAgdmFyIHJhZGxhdDEgPSBNYXRoLlBJICogc2VsZi51c2VyLmxhdC8xODAsXG4gICAgICAgICAgICAgIHJhZGxhdDIgPSBNYXRoLlBJICogbGF0LzE4MCxcbiAgICAgICAgICAgICAgcmFkbG9uMSA9IE1hdGguUEkgKiBzZWxmLnVzZXIubG5nLzE4MCxcbiAgICAgICAgICAgICAgcmFkbG9uMiA9IE1hdGguUEkgKiBsb24vMTgwLFxuICAgICAgICAgICAgICB0aGV0YSA9IHNlbGYudXNlci5sbmctbG9uLFxuICAgICAgICAgICAgICByYWR0aGV0YSA9IE1hdGguUEkgKiB0aGV0YS8xODA7XG4gICAgICAgICAgdmFyIGRpc3QgPSBNYXRoLnNpbihyYWRsYXQxKSAqIE1hdGguc2luKHJhZGxhdDIpICsgTWF0aC5jb3MocmFkbGF0MSkgKiBNYXRoLmNvcyhyYWRsYXQyKSAqIE1hdGguY29zKHJhZHRoZXRhKTtcbiAgICAgICAgICBkaXN0ID0gTWF0aC5hY29zKGRpc3QpO1xuICAgICAgICAgIGRpc3QgPSBkaXN0ICogMTgwL01hdGguUEk7XG4gICAgICAgICAgZGlzdCA9IGRpc3QgKiA2MCAqIDEuMTUxNTtcbiAgICAgICAgICBkaXN0ID0gZGlzdCAqIDAuODY4NDtcbiAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChkaXN0ICogMTAwKSAvIDEwMDtcbiAgICAgICAgfSAgICBcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIF9zYXZlKCl7XG4vLyAgICAgICAgICAgY29uc29sZS5sb2coJ19zYXZpbmcuLi4uJyk7XG4vLyAgICAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoJ2xvY2F0aW9ucycsIHtcbi8vICAgICAgICAgICAgIHVzZXI6IHNlbGYudXNlcixcbi8vICAgICAgICAgICAgIHNlYXJjaDogc2VsZi5zZWFyY2gsXG4vLyAgICAgICAgICAgICByYWRpdXM6IHNlbGYucmFkaXVzXG4vLyAgICAgICAgICAgfSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnbG9jYXRpb25DaGFuZ2VkJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cbiAgICBcbiAgICBMb2NhdGlvbk1hbmFnZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckcScsICckZ2VvbG9jYXRpb24nLCAnbG9jYWxTdG9yYWdlU2VydmljZScsICd0b2FzdGVyJ107XG4gICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7ICAgIFxuICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc2hhcmVkJylcbiAgICAuZGlyZWN0aXZlKCduc01hcCcsIG5zTWFwKTtcbiAgICBcbiAgZnVuY3Rpb24gbnNNYXAoTG9jYXRpb25NYW5hZ2VyLCBNQVBCT1hfQUNDRVNTX1RPS0VOLCBNQVBCT1hfSUQpe1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgbG9jYXRpb246IFwiPW5zTWFwXCJcbiAgICAgIH0sXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHsgICBcbiAgICAgICAgIEwubWFwYm94LmFjY2Vzc1Rva2VuID0gTUFQQk9YX0FDQ0VTU19UT0tFTjtcbiAgICAgICAgIHZhciBtYXAgPSBMLm1hcGJveC5tYXAoZWxlbWVudFswXSwgTUFQQk9YX0lELCB7bWF4Wm9vbTogMTgsIG1pblpvb206IDE0LCBzY3JvbGxXaGVlbFpvb206IGZhbHNlIH0pO1xuICAgICAgICAgdmFyIGY7XG4gICAgICAgICAgXG4gICAgICAgICBtYXAuc2V0VmlldyhbNDAuNDQxMTE3NSwtNzkuOTk4OTU2M10sIDE0KTtcbiAgICAgICAgICBcbiAgICAgICAgIHNjb3BlLiR3YXRjaCgnbG9jYXRpb24nLCBmdW5jdGlvbihuZXdWYWwsIG9sZFZhbCl7XG4gICAgICAgICAgICAgY29uc29sZS5sb2coc2NvcGUubG9jYXRpb24pO1xuICAgICAgICAgICAgIGlmKG5ld1ZhbCAmJiBuZXdWYWwubGF0aXR1ZGUpe1xuICAgICAgICAgICAgICAgICBkcmF3TWFwKCk7XG4gICAgICAgICAgICAgfVxuICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgICBcbiAgICAgICAgIFxuICAgICAgICAgZnVuY3Rpb24gZHJhd01hcCgpe1xuICAgICAgICAgICB2YXIgdWwgPSAgTG9jYXRpb25NYW5hZ2VyLnVzZXJcbiAgICAgICAgICAgaWYoZikgbWFwLnJlbW92ZUxheWVyKGYpOyAgXG4gICAgICAgICAgIGYgPSBMLm1hcGJveC5mZWF0dXJlTGF5ZXIoe1xuICAgICAgICAgICAgICAgdHlwZTogJ0ZlYXR1cmUnLFxuICAgICAgICAgICAgICAgZ2VvbWV0cnk6IHtcbiAgICAgICAgICAgICAgICAgICB0eXBlOiAnUG9pbnQnLFxuICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmxvY2F0aW9uLmxvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUubG9jYXRpb24ubGF0aXR1ZGVcbiAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgcHJvcGVydGllczp7XG4gICAgICAgICAgICAgICAgICAgdGl0bGU6IHNjb3BlLmxvY2F0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHNjb3BlLmxvY2F0aW9uLmFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgJ21hcmtlci1zaXplJzogJ21lZGl1bScsXG4gICAgICAgICAgICAgICAgICAgJ21hcmtlci1jb2xvcic6ICcjRkY0REZGJ1xuICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuYWRkVG8obWFwKTtcbiAgICAgICAgICAgIGlmKHVsKXtcbiAgICAgICAgICAgICAgIHZhciB1c2VyTGF0TG5nID0gbmV3IEwuTGF0TG5nKHVsLmxhdCwgdWwubG5nKTtcbiAgICAgICAgICAgICAgIEwuY2lyY2xlTWFya2VyKCB1c2VyTGF0TG5nLCB7IFxuICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLCBcbiAgICAgICAgICAgICAgICAgICByYWRpdXM6IDcsXG4gICAgICAgICAgICAgICAgICAgc3Ryb2tlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgIHdlaWdodDogMixcbiAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMWM5M2ZiJyxcbiAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC44ICBcbiAgICAgICAgICAgICAgIH0pLmFkZFRvKG1hcCk7XG4gICAgICAgICAgICB9ICAgXG4gICAgICAgICAgICBtYXAuc2V0Vmlldyhbc2NvcGUubG9jYXRpb24ubGF0aXR1ZGUsIHNjb3BlLmxvY2F0aW9uLmxvbmdpdHVkZV0sIDE2KTtcblxuICAgICAgICAgICBmLmVhY2hMYXllcihmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICAgbS5vcGVuUG9wdXAoKTtcbiAgICAgICAgICAgfSk7XG4gICAgICAgICAgIFxuICAgICAgICAgfTtcblxuICAgICAgICB9XG4gICAgICBcbiAgICB9XG4gIH1cbiAgICBcbiAgbnNNYXAuJGluamVjdCA9IFsnTG9jYXRpb25NYW5hZ2VyJywgJ01BUEJPWF9BQ0NFU1NfVE9LRU4nLCAnTUFQQk9YX0lEJ107XG4gICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7ICAgIFxuICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc2hhcmVkJylcbiAgICAuZGlyZWN0aXZlKCduc01hcExpc3QnLCBuc01hcExpc3QpO1xuICAgIFxuICBmdW5jdGlvbiBuc01hcExpc3QoTG9jYXRpb25NYW5hZ2VyLCBNQVBCT1hfQUNDRVNTX1RPS0VOLCBNQVBCT1hfSUQsICR0aW1lb3V0LCBmb2N1c2VkKXtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIGxvY2F0aW9uczogXCI9bnNNYXBMaXN0XCIsXG4gICAgICAgIHNvcnQ6ICdAJ1xuICAgICAgfSxcbiAgICAgIGxpbms6IGxpbmsgXG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW0sIGF0dHJzKXtcbiAgICAgICAgTC5tYXBib3guYWNjZXNzVG9rZW4gPSBNQVBCT1hfQUNDRVNTX1RPS0VOO1xuICAgICAgICB2YXIgbWFwID0gTC5tYXBib3gubWFwKGVsZW1bMF0sIE1BUEJPWF9JRCwge21heFpvb206IDE3LCBtaW5ab29tOiAxMiwgc2Nyb2xsV2hlZWxab29tOiBmYWxzZSB9KTtcbiAgICAgICAgdmFyIGJvdW5kcyA9IFtdO1xuICAgICAgICB2YXIgbWFya2VycyA9IFtdO1xuICAgICAgICBcbiAgICAgICAgc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignbG9jYXRpb25zJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgZHJhd01hcCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbigpeyByZXR1cm4gTG9jYXRpb25NYW5hZ2VyLnNlYXJjaDt9LCBmdW5jdGlvbigpe1xuICAgICAgICAgIGRyYXdNYXAoKTtcbiAgICAgICAgfSk7ICAgIFxuICAgICAgICBcbiAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCl7IHJldHVybiBmb2N1c2VkLnNwb3Q7IH0sIGZ1bmN0aW9uKG5ld1ZhbCwgb2xkVmFsKXtcbiAgICAgICAgICAgY2xlYXJNYXJrZXJzKCk7ICAgIFxuICAgICAgICAgICBzZXRNYXJrZXJzKCk7ICAgIFxuICAgICAgICAgICBpZihuZXdWYWwpe1xuICAgICAgICAgICAgICAvL3ZhciBmID0gbmV3IEwuTGF0TG5nKG5ld1ZhbC5sYXRpdHVkZSwgbmV3VmFsLmxvbmdpdHVkZSk7XG4gICAgICAgICAgICAgIC8vbWFwLnBhblRvKGYpO1xuICAgICAgICAgICB9ZWxzZSBpZihib3VuZHMubGVuZ3RoKXsgXG4gICAgICAgICAgICAgIG1hcC5maXRCb3VuZHMoYm91bmRzLCB7IHBhZGRpbmc6IFsyMCwyMF19KTsgXG4gICAgICAgICAgIH0gICAgIFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIGRyYXdNYXAoKXtcbiAgICAgICAgICAgIHZhciB1bCA9IExvY2F0aW9uTWFuYWdlci51c2VyLFxuICAgICAgICAgICAgICAgIHNsID0gTG9jYXRpb25NYW5hZ2VyLnNlYXJjaDtcbiAgICAgICAgICAgIGJvdW5kcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgY2xlYXJNYXJrZXJzKCk7ICAgIFxuICAgICAgICAgICAgaWYodWwpe1xuICAgICAgICAgICAgICAgIHZhciB1c2VyTGF0TG5nID0gbmV3IEwuTGF0TG5nKHVsLmxhdCwgdWwubG5nKTtcbiAgICAgICAgICAgICAgICBMLmNpcmNsZU1hcmtlcih1c2VyTGF0TG5nLCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLCBcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiA3LFxuICAgICAgICAgICAgICAgICAgICBzdHJva2U6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHdlaWdodDogMixcbiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzFjOTNmYicsXG4gICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjggfSkuYWRkVG8obWFwKTtcbiAgICAgICAgICAgICAgICBpZih1bC5sYXQgPT09IHNsLmxhdCl7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kcy5wdXNoKHVzZXJMYXRMbmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHNjb3BlLmxvY2F0aW9ucy5sZW5ndGgpe1xuICAgICAgICAgICAgICAgIHNldE1hcmtlcnMoKTtcbiAgICAgICAgICAgIH1lbHNlIGlmKHNsKXtcbiAgICAgICAgICAgICAgICB2YXIgc2VhcmNoTGF0TG5nID0gbmV3IEwuTGF0TG5nKHNsLmxhdCwgc2wubG5nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFwLnNldFZpZXcoc2VhcmNoTGF0TG5nLCAxNCk7IFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZihib3VuZHMubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBtYXAuZml0Qm91bmRzKGJvdW5kcywgeyBwYWRkaW5nOiBbMTAsMTBdIH0pOyAvL3sgcGFkZGluZzogWzIwLDIwXX0gXG4gICAgICAgICAgICAgICAgfSwzNTApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIHNldE1hcmtlcnMoKXtcbiAgICAgICAgICAgIGZvcih2YXIgayA9IDAsIGwgPSBzY29wZS5sb2NhdGlvbnMubGVuZ3RoOyBrIDwgbDsgaysrKXtcbiAgICAgICAgICAgICAgICB2YXIgaWQgPSBzY29wZS5sb2NhdGlvbnNba10uaWQ7XG4gICAgICAgICAgICAgICAgdmFyIGxhdGxuZyA9IG5ldyBMLkxhdExuZyhzY29wZS5sb2NhdGlvbnNba10ubGF0aXR1ZGUsc2NvcGUubG9jYXRpb25zW2tdLmxvbmdpdHVkZSk7XG4gICAgICAgICAgICAgICAgdmFyIG1hcmtlciA9IEwubWFya2VyKGxhdGxuZywgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBzY29wZS5sb2NhdGlvbnNba10ubmFtZSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBMLm1hcGJveC5tYXJrZXIuaWNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmtlci1zaXplJzogJ21lZGl1bScsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJrZXItc3ltYm9sJzogKGsrMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmtlci1jb2xvcic6IG1hcmtlckNvbG9yKGlkKSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleE9mZnNldDogbWFya2VySW5kZXgoaWQpIH0pXG4gICAgICAgICAgICAgICAgICAgIC5hZGRUbyhtYXApXG4gICAgICAgICAgICAgICAgICAgIC5iaW5kUG9wdXAoJzxzdHJvbmc+JyArIHNjb3BlLmxvY2F0aW9uc1trXS5uYW1lICsgJzwvc3Ryb25nPjxici8+JyArIHNjb3BlLmxvY2F0aW9uc1trXS5hZGRyZXNzLHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlQnV0dG9uOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAub24oJ21vdXNlb3ZlcicsZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5Qb3B1cCgpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAub24oJ21vdXNlb3V0JywgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbWFya2Vycy5wdXNoKG1hcmtlcik7XG4gICAgICAgICAgICAgICAgYm91bmRzLnB1c2gobGF0bG5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIGNsZWFyTWFya2Vycygpe1xuICAgICAgICAgICAgZm9yKHZhciBpID0gMCwgaiA9IG1hcmtlcnMubGVuZ3RoOyBpIDwgajsgaSsrKXtcbiAgICAgICAgICAgICAgICBtYXAucmVtb3ZlTGF5ZXIobWFya2Vyc1tpXSk7XG4gICAgICAgICAgICB9IFxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gbWFya2VySW5kZXgoaWQpe1xuICAgICAgICAgICAgcmV0dXJuIChmb2N1c2VkLnNwb3QgJiYgZm9jdXNlZC5zcG90LmlkID09IGlkKSA/IDk5OTkgOiAwO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBtYXJrZXJDb2xvcihpZCl7XG4gICAgICAgICAgaWYoZm9jdXNlZC5zcG90ICYmIGZvY3VzZWQuc3BvdC5pZCA9PSBpZCl7XG4gICAgICAgICAgICAgIHJldHVybiAnI0ZGNERGRic7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICdlYXQnOiAnIzRERkY0RCcsXG4gICAgICAgICAgICAgICdkcmluayc6ICcjRkY0RDREJyxcbiAgICAgICAgICAgICAgJ2F0dGVuZCc6ICcjNEREMkZGJywgXG4gICAgICAgICAgICAgICcnOiAnIzAwMCdcbiAgICAgICAgICB9W3Njb3BlLnNvcnRdO1xuICAgICAgICB9IFxuICAgICAgICBcbiAgICAgICAgXG4gICAgfVxuICAgICAgXG4gIH1cbiAgICBcbiAgbnNNYXBMaXN0LiRpbmplY3QgPSBbJ0xvY2F0aW9uTWFuYWdlcicsICdNQVBCT1hfQUNDRVNTX1RPS0VOJywgJ01BUEJPWF9JRCcsICckdGltZW91dCcsICdmb2N1c2VkJ107XG4gICAgXG59KSgpOyAgIFxuLy8oZnVuY3Rpb24oKXtcbi8vICAndXNlIHN0cmljdCc7ICAgIFxuLy8gIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zaGFyZWQnKVxuLy8gICAgLmRpcmVjdGl2ZSgnbnNNYXBMaXN0JywgbnNNYXBMaXN0KTtcbi8vICAgIFxuLy8gIGZ1bmN0aW9uIG5zTWFwTGlzdChMb2NhdGlvbk1hbmFnZXIsIE1BUEJPWF9BQ0NFU1NfVE9LRU4sIE1BUEJPWF9JRCwgJHRpbWVvdXQsIGZvY3VzZWQpe1xuLy8gICAgcmV0dXJuIHtcbi8vICAgICAgcmVzdHJpY3Q6ICdBJyxcbi8vICAgICAgc2NvcGU6IHtcbi8vICAgICAgICBsb2NhdGlvbnM6IFwiPW5zTWFwTGlzdFwiLFxuLy8gICAgICAgIHNvcnQ6ICdAJ1xuLy8gICAgICB9LFxuLy8gICAgICBsaW5rOiBsaW5rIFxuLy8gICAgfVxuLy8gICAgXG4vLyAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykgeyAgIFxuLy8gICAgICBMLm1hcGJveC5hY2Nlc3NUb2tlbiA9IE1BUEJPWF9BQ0NFU1NfVE9LRU47XG4vLyAgICAgIHZhciBtYXAgPSBMLm1hcGJveC5tYXAoZWxlbWVudFswXSwgJ3Jvd2xhbmRydWRvbGYuZjdmZTdiNDMnLCB7bWF4Wm9vbTogMTcsIG1pblpvb206IDEyfSk7XG4vLyAgICAgIHZhciBuc0ZlYXR1cmVzID0gTC5tYXBib3guZmVhdHVyZUxheWVyKCkuYWRkVG8obWFwKTtcbi8vICAgICAgdmFyIGdlb0pzb24gPSB7XG4vLyAgICAgICAgICAgIHR5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbicsXG4vLyAgICAgICAgICAgIGZlYXR1cmVzOiBbXVxuLy8gICAgICB9OyAgICBcbi8vICAgICAgdmFyIGJvdW5kcyA9IFtdO1xuLy8gICAgICBuc0ZlYXR1cmVzLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbihlKSB7IGUubGF5ZXIub3BlblBvcHVwKCk7IH0pO1xuLy8gICAgICBuc0ZlYXR1cmVzLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uKGUpIHsgZS5sYXllci5jbG9zZVBvcHVwKCk7IH0pOyAgXG4vLyAgICBcbi8vICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCl7XG4vLyAgICAgICAgICByZXR1cm4gTG9jYXRpb25NYW5hZ2VyLnNlYXJjaDtcbi8vICAgICAgfSwgZnVuY3Rpb24oKXtcbi8vICAgICAgICAgIGRyYXdNYXAoKTtcbi8vICAgICAgfSkgICAgXG4vLyAgICAgICAgXG4vLyAgICAgIHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ2xvY2F0aW9ucycsIGZ1bmN0aW9uKCl7XG4vLyAgICAgICAgICBkcmF3TWFwKCk7XG4vLyAgICAgIH0pO1xuLy8gICAgICAgIFxuLy8gICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24oKXtcbi8vICAgICAgICAgICAgcmV0dXJuIGZvY3VzZWQuc3BvdDsgICAgXG4vLyAgICAgIH0sIGZ1bmN0aW9uKG5ld1ZhbCwgb2xkVmFsKXtcbi8vICAgICAgICAgICBpZihuZXdWYWwpe1xuLy8gICAgICAgICAgICAgIHZhciBmID0gbmV3IEwuTGF0TG5nKG5ld1ZhbC5sYXRpdHVkZSwgbmV3VmFsLmxvbmdpdHVkZSk7XG4vLyAgICAgICAgICAgICAgbnNGZWF0dXJlcy5zZXRHZW9KU09OKGFzR2VvSnNvbigpKTtcbi8vICAgICAgICAgICAgICBtYXAucGFuVG8oZik7IFxuLy8gICAgICAgICAgIH1lbHNle1xuLy8gICAgICAgICAgICAgIG5zRmVhdHVyZXMuc2V0R2VvSlNPTihhc0dlb0pzb24oKSk7ICAgXG4vLyAgICAgICAgICAgICAgaWYoYm91bmRzLmxlbmd0aCkgbWFwLmZpdEJvdW5kcyhib3VuZHMsIHsgcGFkZGluZzogWzIwLDIwXX0pOyBcbi8vICAgICAgICAgICB9ICAgICBcbi8vICAgICAgfSk7XG4vLyAgICAgICAgXG4vLyAgICAgIGZ1bmN0aW9uIGRyYXdNYXAoKXtcbi8vICAgICAgICAgdmFyIHVsID0gTG9jYXRpb25NYW5hZ2VyLnVzZXIsXG4vLyAgICAgICAgICAgICBzbCA9IExvY2F0aW9uTWFuYWdlci5zZWFyY2g7XG4vLyAgICAgICAgIGJvdW5kcy5sZW5ndGggPSAwO1xuLy8gICAgICAgICBpZih1bCl7XG4vLyAgICAgICAgICAgIHZhciB1c2VyTGF0TG5nID0gbmV3IEwuTGF0TG5nKHVsLmxhdCwgdWwubG5nKTtcbi8vICAgICAgICAgICAgTC5jaXJjbGVNYXJrZXIodXNlckxhdExuZywgeyBjb2xvcjogJyMxYzkzZmInLCByYWRpdXM6IDcsIGZpbGxPcGFjaXR5OiAwLjggfSkuYWRkVG8obWFwKTtcbi8vICAgICAgICAgICAgaWYodWwubGF0ID09PSBzbC5sYXQpe1xuLy8gICAgICAgICAgICAgICAgYm91bmRzLnB1c2godXNlckxhdExuZyk7XG4vLyAgICAgICAgICAgIH1cbi8vICAgICAgICAgfSBcbi8vICAgICAgICAgIFxuLy8gICAgICAgICBuc0ZlYXR1cmVzLnNldEdlb0pTT04oYXNHZW9Kc29uKCkpOyAgXG4vLyAgICAgICAgIGlmKHNjb3BlLmxvY2F0aW9ucy5sZW5ndGgpe1xuLy8gICAgICAgICAgICAgYm91bmRzLnB1c2gobnNGZWF0dXJlcy5nZXRCb3VuZHMoKSk7XG4vLyAgICAgICAgIH1lbHNlIGlmKHNsKXtcbi8vICAgICAgICAgICAgIHZhciBzZWFyY2hMYXRMbmcgPSBuZXcgTC5MYXRMbmcoc2wubGF0LCBzbC5sbmcpO1xuLy8gICAgICAgICAgICAgcmV0dXJuIG1hcC5zZXRWaWV3KHNlYXJjaExhdExuZywgMTQpO1xuLy8gICAgICAgICB9XG4vLyAgICAgICAgICBcbi8vICAgICAgICBpZihib3VuZHMubGVuZ3RoKXtcbi8vICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbi8vICAgICAgICAgICAgICAgbWFwLmZpdEJvdW5kcyhib3VuZHMsIHsgcGFkZGluZzogWzIwLDIwXX0pOyBcbi8vICAgICAgICAgICAgfSwzNTApO1xuLy8gICAgICAgIH1cbi8vICAgICAgICAgXG4vLyAgICAgIH1cbi8vICAgICAgICBcbi8vICAgICAgZnVuY3Rpb24gYXNHZW9Kc29uKCl7XG4vLyAgICAgICAgICBnZW9Kc29uLmZlYXR1cmVzLmxlbmd0aCA9IDA7XG4vLyAgICAgICAgICBmb3IodmFyIGkgPSAwLCBsZW4gPSBzY29wZS5sb2NhdGlvbnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuLy8gICAgICAgICAgICAgIGdlb0pzb24uZmVhdHVyZXMucHVzaCh7XG4vLyAgICAgICAgICAgICAgICAgIHR5cGU6ICdGZWF0dXJlJyxcbi8vICAgICAgICAgICAgICAgICAgZ2VvbWV0cnk6IHtcbi8vICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQb2ludCcsXG4vLyAgICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlczogW3Njb3BlLmxvY2F0aW9uc1tpXS5sb25naXR1ZGUsIHNjb3BlLmxvY2F0aW9uc1tpXS5sYXRpdHVkZV1cbi8vICAgICAgICAgICAgICAgICAgfSxcbi8vICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuLy8gICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHNjb3BlLmxvY2F0aW9uc1tpXS5uYW1lLFxuLy8gICAgICAgICAgICAgICAgICAgICAgJ21hcmtlci1jb2xvcic6IG1hcmtlckNvbG9yKHNjb3BlLmxvY2F0aW9uc1tpXS5pZCksXG4vLyAgICAgICAgICAgICAgICAgICAgICAnbWFya2VyLXNpemUnOiAnbWVkaXVtJyxcbi8vICAgICAgICAgICAgICAgICAgICAgICdtYXJrZXItc3ltYm9sJzogKGkgKyAxKVxuLy8gICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICAgfSk7XG4vLyAgICAgICAgICB9XG4vLyAgICAgICAgICByZXR1cm4gZ2VvSnNvbjsgXG4vLyAgICAgIH07XG4vLyAgICAgICAgXG4vLyAgICAgIGZ1bmN0aW9uIG1hcmtlckNvbG9yKGlkKXtcbi8vICAgICAgICAgIGlmKGZvY3VzZWQuc3BvdCAmJiBmb2N1c2VkLnNwb3QuaWQgPT0gaWQpe1xuLy8gICAgICAgICAgICAgIHJldHVybiAnI0ZGNERGRic7XG4vLyAgICAgICAgICB9XG4vLyAgICAgICAgICByZXR1cm4ge1xuLy8gICAgICAgICAgICAgICdlYXQnOiAnIzRERkY0RCcsXG4vLyAgICAgICAgICAgICAgJ2RyaW5rJzogJyNGRjRENEQnLFxuLy8gICAgICAgICAgICAgICdhdHRlbmQnOiAnIzRERDJGRicsIFxuLy8gICAgICAgICAgICAgICcnOiAnIzAwMCdcbi8vICAgICAgICAgIH1bc2NvcGUuc29ydF07XG4vLyAgICAgIH1cbi8vICAgICAgICBcbi8vICAgIH1cbi8vICAgICAgXG4vLyAgfVxuLy8gICAgXG4vLyAgbnNNYXBMaXN0LiRpbmplY3QgPVsnTG9jYXRpb25NYW5hZ2VyJywgJ01BUEJPWF9BQ0NFU1NfVE9LRU4nLCAnTUFQQk9YX0lEJywgJyR0aW1lb3V0JywgJ2ZvY3VzZWQnXTtcbi8vICAgIFxuLy99KSgpOyAgIFxuXG4iLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2NhdGVnb3JpZXNPdmVybGF5JywgY2F0ZWdvcmllc092ZXJsYXkpO1xuICAgIFxuICAgIGZ1bmN0aW9uIGNhdGVnb3JpZXNPdmVybGF5KENhdGVnb3J5LCBmaWx0ZXJQYXJhbXMpe1xuICAgICAgICB2YXIgY3RybCA9IHRoaXM7XG4gICAgICAgIGN0cmwuY2F0ZWdvcnkgPSBDYXRlZ29yeTtcbiAgICAgICAgY3RybC5maWx0ZXJQYXJhbXMgPSBmaWx0ZXJQYXJhbXM7XG4gICAgfVxuICAgIFxuICAgIGNhdGVnb3JpZXNPdmVybGF5LiRpbmplY3QgPSBbJ0NhdGVnb3J5JywnZmlsdGVyUGFyYW1zJ107XG4gICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAub3ZlcmxheScpXG4gICAgICAgIC5kaXJlY3RpdmUoJ25zQ2F0ZWdvcmllc092ZXJsYXlCdG4nLCBuc0NhdGVnb3JpZXNPdmVybGF5QnRuKTtcbiAgICBcbiAgICBmdW5jdGlvbiBuc0NhdGVnb3JpZXNPdmVybGF5QnRuKCl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgc2NvcGU6IHt9LFxuICAgICAgICAgICAgYmluZFRvQ29udHJvbGxlcjp7XG4gICAgICAgICAgICAgICBzb3J0OiAnPSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbJ292ZXJsYXknLCAnZmlsdGVyUGFyYW1zJywgZnVuY3Rpb24ob3ZlcmxheSwgZmlsdGVyUGFyYW1zKXtcbiAgICAgICAgICAgICAgICB2YXIgY3RybCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgY3RybC5vcGVuT3ZlcmxheSA9IG9wZW5PdmVybGF5O1xuICAgICAgICAgICAgICAgIGN0cmwuZmlsdGVyUGFyYW1zID0gZmlsdGVyUGFyYW1zOyAgICAgICAgIFxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gb3Blbk92ZXJsYXkoKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBvdmVybGF5Lm9wZW4oJ2NvbXBvbmVudHMvb3ZlcmxheS9jYXRlZ29yaWVzLycgKyBjdHJsLnNvcnQgKyAnT3ZlcmxheS5odG1sJyk7XG4gICAgICAgICAgICAgICAgICAgIHAudGhlbihmdW5jdGlvbihyZXNwKXt9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICdjdHJsJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIjxidXR0b24gY2xhc3M9J25zLWZpbHRlci1idG4ge3tjdHJsLnNvcnR9fS10b2dnbGUtYnRuJyBuZy1jbGljaz0nY3RybC5vcGVuT3ZlcmxheSgpJz5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgXCIgRmVhdHVyZXMgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgIFwiPHNwYW4gY2xhc3M9J25zLWZpbHRlci1jb3VudCB7e2N0cmwuc29ydH19JyBuZy1zaG93PSdjdHJsLmZpbHRlclBhcmFtc1tjdHJsLnNvcnRdLmxlbmd0aCc+IHt7IGN0cmwuZmlsdGVyUGFyYW1zW2N0cmwuc29ydF0ubGVuZ3RoIH19PC9zcGFuPlwiICtcbiAgICAgICAgICAgICAgICAgICAgICBcIjwvYnV0dG9uPlwiXG4gICAgICAgIH07ICAgXG4gICAgfVxuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLm92ZXJsYXknKVxuICAgICAgICAuY29udHJvbGxlcignZmVhdHVyZXNPdmVybGF5JyxmZWF0dXJlc092ZXJsYXkpO1xuICAgIFxuICAgIGZ1bmN0aW9uIGZlYXR1cmVzT3ZlcmxheShGZWF0dXJlLCBmaWx0ZXJQYXJhbXMpe1xuICAgICAgICB2YXIgY3RybCA9IHRoaXM7XG4gICAgICAgIGN0cmwuZmVhdHVyZSA9IEZlYXR1cmU7XG4gICAgICAgIGN0cmwuZmlsdGVyUGFyYW1zID0gZmlsdGVyUGFyYW1zO1xuICAgIH1cbiAgICBcbiAgICBmZWF0dXJlc092ZXJsYXkuJGluamVjdCA9IFsnRmVhdHVyZScsJ2ZpbHRlclBhcmFtcyddO1xuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLm92ZXJsYXknKVxuICAgICAgICAuZGlyZWN0aXZlKCduc0ZlYXR1cmVzT3ZlcmxheUJ0bicsIG5zRmVhdHVyZXNPdmVybGF5QnRuKTtcbiAgICBcbiAgICBmdW5jdGlvbiBuc0ZlYXR1cmVzT3ZlcmxheUJ0bigpe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgIHNjb3BlOiB7fSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnb3ZlcmxheScsICdmaWx0ZXJQYXJhbXMnLCBmdW5jdGlvbihvdmVybGF5LCBmaWx0ZXJQYXJhbXMpe1xuICAgICAgICAgICAgICAgIHZhciBjdHJsID0gdGhpcztcbiAgICAgICAgICAgICAgICBjdHJsLm9wZW5PdmVybGF5ID0gb3Blbk92ZXJsYXk7XG4gICAgICAgICAgICAgICAgY3RybC5maWx0ZXJQYXJhbXMgPSBmaWx0ZXJQYXJhbXM7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gb3Blbk92ZXJsYXkoKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBvdmVybGF5Lm9wZW4oJ2NvbXBvbmVudHMvb3ZlcmxheS9mZWF0dXJlcy9mZWF0dXJlc092ZXJsYXkuaHRtbCcpO1xuICAgICAgICAgICAgICAgICAgICBwLnRoZW4oZnVuY3Rpb24ocmVzcCl7fSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2N0cmwnLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiPGJ1dHRvbiBjbGFzcz0nbnMtZmlsdGVyLWJ0biBmZWF0dXJlLXRvZ2dsZS1idG4nIG5nLWNsaWNrPSdjdHJsLm9wZW5PdmVybGF5KCknPlwiICtcbiAgICAgICAgICAgICAgICAgICAgICBcIiBGZWF0dXJlcyBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgXCI8c3BhbiBjbGFzcz0nbnMtZmlsdGVyLWNvdW50IGxvdWQnIG5nLXNob3c9J2N0cmwuZmlsdGVyUGFyYW1zLmZlYXR1cmVzLmxlbmd0aCc+IHt7Y3RybC5maWx0ZXJQYXJhbXMuZmVhdHVyZXMubGVuZ3RoIH19PC9zcGFuPlwiICtcbiAgICAgICAgICAgICAgICAgICAgICBcIjwvYnV0dG9uPlwiXG4gICAgICAgIH07XG4gICAgXG4gICAgfVxuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLm92ZXJsYXknKVxuICAgICAgICAuY29udHJvbGxlcignbG9jYXRpb25TZXR0aW5nc092ZXJsYXknLCBsb2NhdGlvblNldHRpbmdzT3ZlcmxheSk7XG4gICAgXG4gICAgZnVuY3Rpb24gbG9jYXRpb25TZXR0aW5nc092ZXJsYXkoJHNjb3BlLCBMb2NhdGlvbk1hbmFnZXIpe1xuICAgICAgICB2YXIgY3RybCA9IHRoaXM7XG4gICAgICAgIGN0cmwubG9jYXRpb25NYW5hZ2VyID0gTG9jYXRpb25NYW5hZ2VyO1xuICAgICAgICBjdHJsLmFkZHJlc3MgPSAoTG9jYXRpb25NYW5hZ2VyLnNlYXJjaCAmJiBMb2NhdGlvbk1hbmFnZXIuc2VhcmNoLmFkZHJlc3MpID8gTG9jYXRpb25NYW5hZ2VyLnNlYXJjaC5hZGRyZXNzIDogJyc7ICAgICAgICBjdHJsLlBBQ0xvY2F0aW9uID0gbnVsbDtcbiAgICAgICAgY3RybC5zbGlkZXJPcHRpb25zID0ge1xuICAgICAgICAgICAgIGZsb29yOiAxLFxuICAgICAgICAgICAgIGNlaWw6IDgsXG4gICAgICAgICAgICAgc2hvd1NlbGVjdGlvbkJhcjogdHJ1ZSxcbiAgICAgICAgICAgICBzaG93VGlja3M6IHRydWUsXG4gICAgICAgICAgICAgb25FbmQ6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgIHJldHVybiBMb2NhdGlvbk1hbmFnZXIuc2F2ZSgpO1xuICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgdHJhbnNsYXRlOiBmdW5jdGlvbih2YWwpe1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWwgKyAnIG1pJztcbiAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgIGdldFNlbGVjdGlvbkJhckNvbG9yOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnI0IyMDBCMic7XG4gICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICBnZXRQb2ludGVyQ29sb3I6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcjRkY0REZGJztcbiAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ2xvY2F0aW9uQ3RybC5QQUNMb2NhdGlvbicsZnVuY3Rpb24odmFsKXtcbiAgICAgICAgICAgIGlmKHZhbCAmJiB2YWwuZ2VvbWV0cnkpe1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWFyY2hQQUNMb2NhdGlvbigpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBzZWFyY2hQQUNMb2NhdGlvbigpe1xuICAgICAgICAgICAgTG9jYXRpb25NYW5hZ2VyLnNldFNlYXJjaCh7XG4gICAgICAgICAgICAgICAgbGF0OiBjdHJsLlBBQ0xvY2F0aW9uLmdlb21ldHJ5LmxvY2F0aW9uLmxhdCgpLFxuICAgICAgICAgICAgICAgIGxuZzogY3RybC5QQUNMb2NhdGlvbi5nZW9tZXRyeS5sb2NhdGlvbi5sbmcoKSxcbiAgICAgICAgICAgICAgICBhZGRyZXNzOiBjdHJsLlBBQ0xvY2F0aW9uLmZvcm1hdHRlZF9hZGRyZXNzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGN0cmwuYWRkcmVzcyA9IGN0cmwuUEFDTG9jYXRpb24uZm9ybWF0dGVkX2FkZHJlc3M7XG4gICAgICAgIH07IFxuICAgIH1cbiAgICBcbiAgICBsb2NhdGlvblNldHRpbmdzT3ZlcmxheS4kaW5qZWN0ID0gWyckc2NvcGUnLCAnTG9jYXRpb25NYW5hZ2VyJ107XG4gICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAub3ZlcmxheScpXG4gICAgICAgIC5kaXJlY3RpdmUoJ25zTG9jYXRpb25PdmVybGF5QnRuJywgbnNMb2NhdGlvbk92ZXJsYXlCdG4pO1xuICAgIFxuICAgIGZ1bmN0aW9uIG5zTG9jYXRpb25PdmVybGF5QnRuKCl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgc2NvcGU6IHt9LFxuICAgICAgICAgICAgY29udHJvbGxlcjogWydvdmVybGF5JywgJ0xvY2F0aW9uTWFuYWdlcicsJyRzY29wZScsJyR0aW1lb3V0JywgZnVuY3Rpb24ob3ZlcmxheSwgTG9jYXRpb25NYW5hZ2VyLCAkc2NvcGUsICR0aW1lb3V0KXtcbiAgICAgICAgICAgICAgICB2YXIgY3RybCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgY3RybC5vcGVuT3ZlcmxheSA9IG9wZW5PdmVybGF5O1xuICAgICAgICAgICAgICAgIGN0cmwubG9jYXRpb25NYW5hZ2VyID0gTG9jYXRpb25NYW5hZ2VyO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9wZW5PdmVybGF5KCl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwID0gb3ZlcmxheS5vcGVuKCdjb21wb25lbnRzL292ZXJsYXkvbG9jYXRpb24vbG9jYXRpb25TZXR0aW5nc092ZXJsYXkuaHRtbCcpO1xuICAgICAgICAgICAgICAgICAgICByZWZyZXNoU2xpZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBwLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTtcbiAgICAgICAgICAgICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFNsaWRlcigpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcmVmcmVzaFNsaWRlcigpIHtcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ3J6U2xpZGVyRm9yY2VSZW5kZXInKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICdjdHJsJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAne3tjdHJsLmxvY2F0aW9uTWFuYWdlci5zZWFyY2guYWRkcmVzc319IDxidXR0b24gY2xhc3M9XCJucy1maWx0ZXItYnRuIGxvY2F0aW9uLXRvZ2dsZS1idG5cIiBuZy1jbGljaz1cImN0cmwub3Blbk92ZXJsYXkoKVwiPiBMb2NhdGlvbiA8L2J1dHRvbj4nXG4gICAgICAgIH07XG4gICAgXG4gICAgfVxuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLm92ZXJsYXknKVxuICAgICAgLmNvbnRyb2xsZXIoJ25hdk92ZXJsYXknLCBuYXZPdmVybGF5KTtcbiAgICBcbiAgICBmdW5jdGlvbiBuYXZPdmVybGF5KCRyb290U2NvcGUsIG92ZXJsYXksIHNwb3RTZXJ2aWNlKXtcbiAgICAgICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgICAgICBjdHJsLm92ZXJsYXkgPSBvdmVybGF5OyBcbiAgICAgICAgY3RybC5zaWduT3V0ID0gc2lnbk91dDtcbiAgICAgICAgY3RybC5zcG90U2VydmljZSA9IHNwb3RTZXJ2aWNlO1xuICAgICAgICBjdHJsLnVzZXJTcG90cyA9IFtdO1xuICAgICAgICBjdHJsLnVwZGF0ZSA9IHVwZGF0ZTtcbiAgICAgICAgXG4gICAgICAgIGluaXQoKTtcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIGluaXQoKXtcbiAgICAgICAgICAgaWYoISRyb290U2NvcGUudXNlciB8fCAhJHJvb3RTY29wZS51c2VyLnNpZ25lZEluKSByZXR1cm47XG4gICAgICAgICAgIGN0cmwuc3BvdFNlcnZpY2UudXNlckluZGV4KCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgIGN0cmwudXNlclNwb3RzID0gcmVzcDtcbiAgICAgICAgICAgfSlcbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBzaWduT3V0KCl7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLnNpZ25PdXQoKTtcbiAgICAgICAgICAgIHJldHVybiBvdmVybGF5LnJlc29sdmUoe3N0YXRlOiAnaG9tZSd9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlKHNwb3Qpe1xuICAgICAgICAgICAgY3RybC5zcG90U2VydmljZS5zcG90ID0gc3BvdDtcbiAgICAgICAgICAgIHJldHVybiBvdmVybGF5LnJlc29sdmUoe3N0YXRlOiAnZWRpdC5hYm91dCd9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5hdk92ZXJsYXkuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICdvdmVybGF5JywgJ3Nwb3RTZXJ2aWNlJ107XG4gICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKVxuICAgICAgICAuY29udHJvbGxlcignc2VhcmNoT3ZlcmxheScsc2VhcmNoT3ZlcmxheSk7XG4gICAgXG4gICAgZnVuY3Rpb24gc2VhcmNoT3ZlcmxheShvdmVybGF5LCBzcG90U2VydmljZSwgZmlsdGVyUGFyYW1zKXtcbiAgICAgICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgICAgICBjdHJsLm92ZXJsYXkgPSBvdmVybGF5OyAgICBcbiAgICAgICAgY3RybC5zcG90U2VydmljZSA9IHNwb3RTZXJ2aWNlO1xuICAgICAgICBjdHJsLmZpbHRlclBhcmFtcyA9IGZpbHRlclBhcmFtczsgICAgXG4gICAgICAgIGN0cmwuc3BvdHMgPSBbXTtcbiAgICAgICAgY3RybC5zZWFyY2hOYW1lID0gc2VhcmNoTmFtZTtcbiAgICAgICAgY3RybC5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xuXG4gICAgICAgIGN0cmwucSA9ICcnO1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gc2VhcmNoTmFtZSgpe1xuICAgICAgICAgICAgY3RybC5zcG90U2VydmljZS5zZWFyY2goY3RybC5maWx0ZXJQYXJhbXMucSkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICBjdHJsLnNwb3RzID0gcmVzcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gcGxhY2Vob2xkZXIob2JqKXtcbiAgICAgICAgICAgIHZhciBmaWxlID0gJy8nO1xuICAgICAgICAgICAgaWYob2JqLmVhdCB8fCBvYmouZHJpbmsgfHwgb2JqLmF0dGVuZCl7XG4gICAgICAgICAgICAgICAgaWYob2JqLmVhdCkgZmlsZSArPSAnZSc7XG4gICAgICAgICAgICAgICAgaWYob2JqLmRyaW5rKSBmaWxlICs9ICdkJztcbiAgICAgICAgICAgICAgICBpZihvYmouYXR0ZW5kKSBmaWxlICs9ICdhJztcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGZpbGUgKz0gJ2EnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlsZSArPSAnLnBuZydcbiAgICAgICAgICAgIHJldHVybiBmaWxlO1xuICAgICAgICB9O1xuICAgICAgICAgXG4gICAgfTtcblxuICAgIHNlYXJjaE92ZXJsYXkuJGluamVjdCA9IFsnb3ZlcmxheScsICdzcG90U2VydmljZScsICdmaWx0ZXJQYXJhbXMnXTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2Fib3V0JywgYWJvdXQpO1xuICAgIFxuICAgIGZ1bmN0aW9uIGFib3V0KHNwb3QsIG9wZW5Ob3csIGltYWdlU2VydmljZSwgRmVhdHVyZSl7IC8vIEZlYXR1cmUgLy8gaW1hZ2VTZXJ2aWNlLi4uXG4gICAgICAgIHZhciBjdHJsID0gdGhpcztcbiAgICAgICAgY3RybC5pbWFnZVNlcnZpY2UgPSBpbWFnZVNlcnZpY2UuaW5pdCh7XG4gICAgICAgICAgICB1cmk6ICdzcG90cycsXG4gICAgICAgICAgICBpbWFnZWFibGVfaWQ6IHNwb3QuaWRcbiAgICAgICAgfSk7XG4gICAgICAgIGN0cmwuaW1hZ2VTZXJ2aWNlLmxvYWRJbWFnZXMoKTtcbiAgICAgICAgXG4gICAgICAgIGN0cmwub3Blbk5vdyA9IG9wZW5Ob3c7XG4gICAgICAgIFxuICAgICAgICBGZWF0dXJlLmluZGV4KCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgIGN0cmwuZmVhdHVyZXMgPSByZXNwLmZpbHRlcihmdW5jdGlvbihuKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3BvdC5mZWF0dXJlX2lkcy5pbmRleE9mKG4uaWQpID4gLTE7IFxuICAgICAgICAgICAgfSk7IFxuICAgICAgICB9KTsgXG4gICAgICAgIFxuICAgIH1cbiAgICBcbiAgICBhYm91dC4kaW5qZWN0ID0gWydzcG90JywgJ29wZW5Ob3cnLCAnaW1hZ2VTZXJ2aWNlJywgJ0ZlYXR1cmUnXTtcbiAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpXG4gICAgICAuY29udHJvbGxlcignZWRpdEFib3V0JywgZWRpdEFib3V0KTtcbiAgICBcbiAgICBmdW5jdGlvbiBlZGl0QWJvdXQoc3BvdCwgQ2F0ZWdvcnksIEZlYXR1cmUpe1xuICAgICAgICB2YXIgY3RybCA9IHRoaXM7IFxuICAgICAgICBjdHJsLmNhdGVnb3J5ID0gQ2F0ZWdvcnk7XG4gICAgICAgIGN0cmwuZmVhdHVyZSA9IEZlYXR1cmU7XG4gICAgICAgIGN0cmwucHJpY2VzID0gW1xuICAgICAgICAgICAgeyd2YWwnOiAwLCAnbGFiZWwnOiAnTi9BJ30sXG4gICAgICAgICAgICB7J3ZhbCc6IDEsICdsYWJlbCc6ICckJ30sXG4gICAgICAgICAgICB7J3ZhbCc6IDIsICdsYWJlbCc6ICckJCd9LFxuICAgICAgICAgICAgeyd2YWwnOiAzLCAnbGFiZWwnOiAnJCQkJ30sXG4gICAgICAgICAgICB7J3ZhbCc6IDQsICdsYWJlbCc6ICckJCQkJ30sXG4gICAgICAgIF07XG4gICAgfTtcbiAgICBcbiAgICBlZGl0QWJvdXQuJGluamVjdCA9IFsnc3BvdCcsICdDYXRlZ29yeScsICdGZWF0dXJlJ107XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpXG4gICAgICAuY29udHJvbGxlcignZWRpdFNwb3QnLCBlZGl0U3BvdCk7XG4gICAgXG4gICAgZnVuY3Rpb24gZWRpdFNwb3Qoc3BvdFNlcnZpY2UsICRzdGF0ZSwgc3RhdGVzKXtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgdm0uc3BvdFNlcnZpY2UgPSBzcG90U2VydmljZTtcbiAgICAgICAgdm0udXBkYXRlID0gdXBkYXRlO1xuICAgICAgICB2bS5kZXN0cm95ID0gZGVzdHJveTtcbiAgICAgICAgdm0uc3RhdGVzID0gc3RhdGVzO1xuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZShmb3JtKXtcbiAgICAgICAgICAgIGlmKGZvcm0uJGludmFsaWQpIHJldHVybjtcbiAgICAgICAgICAgIHZtLnNwb3RTZXJ2aWNlLnVwZGF0ZSgpO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gZGVzdHJveSgpe1xuICAgICAgICAgICAgdm0uc3BvdFNlcnZpY2UuZGVzdHJveSgpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdidXNpbmVzcycpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgIH07XG4gICAgXG4gICAgZWRpdFNwb3QuJGluamVjdCA9IFsnc3BvdFNlcnZpY2UnLCAnJHN0YXRlJywgJ3N0YXRlcyddO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAudmFsdWUoJ2RheXMnLHtcbiAgICAgIDA6ICdTdW4nLFxuICAgICAgMTogJ01vbicsXG4gICAgICAyOiAnVHVlJyxcbiAgICAgIDM6ICdXZWQnLFxuICAgICAgNDogJ1RodScsXG4gICAgICA1OiAnRnJpJyxcbiAgICAgIDY6ICdTYXQnXG4gICAgfSk7IFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2VkaXRFdmVudHMnLCBlZGl0RXZlbnRzKTtcblxuICAgIGZ1bmN0aW9uIGVkaXRFdmVudHMoZXZlbnRTZXJ2aWNlLCAkdWliTW9kYWwpe1xuICAgICAgICB2YXIgY3RybCA9IHRoaXM7XG4gICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgY3RybC5ldmVudFNlcnZpY2UgPSBldmVudFNlcnZpY2U7XG4gICAgICAgIGN0cmwuZXZlbnRTZXJ2aWNlLmxvYWRFdmVudHMoKTtcbiAgICAgICAgY3RybC5vcGVuTW9kYWwgPSBvcGVuTW9kYWw7XG4gICAgICAgIGN0cmwuZGVzdHJveSA9IGRlc3Ryb3k7ICAgICBcblxuICAgIFxuICAgICAgICBmdW5jdGlvbiBvcGVuTW9kYWwoZXZlbnQpe1xuICAgICAgICAgICAgaWYoZXZlbnQpe1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgZXZlbnQuc3RhcnRfZGF0ZSA9IG5ldyBEYXRlKGV2ZW50LnN0YXJ0X2RhdGUpO1xuICAgICAgICAgICAgICAgZXZlbnQuc3RhcnRfdGltZSA9IG5ldyBEYXRlKGV2ZW50LnN0YXJ0X3RpbWUpO1xuICAgICAgICAgICAgICAgaWYoZXZlbnQuZW5kX2RhdGUpIGV2ZW50LmVuZF9kYXRlID0gbmV3IERhdGUoZXZlbnQuZW5kX2RhdGUpO1xuICAgICAgICAgICAgICAgaWYoZXZlbnQuZW5kX3RpbWUpIGV2ZW50LmVuZF90aW1lID0gbmV3IERhdGUoZXZlbnQuZW5kX3RpbWUpO1xuICAgICAgICAgXG4gICAgICAgICAgICAgICBjdHJsLmV2ZW50U2VydmljZS5ldmVudCA9IGV2ZW50O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgIGN0cmwuZXZlbnRTZXJ2aWNlLmV2ZW50ID0ge1xuICAgICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGU6IG5vdyxcbiAgICAgICAgICAgICAgICAgICBzdGFydF90aW1lOiBudWxsLCBcbiAgICAgICAgICAgICAgICAgICBlbnRyeTogJ2ZyZWUnLCBcbiAgICAgICAgICAgICAgICAgICBhZ2U6ICdhbGwgYWdlcydcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIG1pID0gJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdldmVudE1vZGFsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdldmVudEN0cmwnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9zcG90cy9ldmVudHMvZXZlbnRNb2RhbC5odG1sJyxcbiAgICAgICAgICAgICAgICBzaXplOiAnbWQnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbWkucmVzdWx0LnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBjdHJsLmV2ZW50U2VydmljZS5ldmVudCA9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIGRlc3Ryb3koZXZlbnQpe1xuICAgICAgICAgICAgY3RybC5ldmVudFNlcnZpY2UuZXZlbnQgPSBldmVudDtcbiAgICAgICAgICAgIGN0cmwuZXZlbnRTZXJ2aWNlLmRlc3Ryb3koKTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgfTtcbiAgICBcbiAgICBlZGl0RXZlbnRzLiRpbmplY3QgPSBbJ2V2ZW50U2VydmljZScsJyR1aWJNb2RhbCddO1xuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKVxuICAgICAgLmZhY3RvcnkoJ0V2ZW50JywgRXZlbnQpO1xuICAgIFxuICAgICAgZnVuY3Rpb24gRXZlbnQoQkFTRV9BUElfVVJMLCAkcmVzb3VyY2Upe1xuICAgICAgICAgdmFyIG5lc3RlZFVybCA9IEJBU0VfQVBJX1VSTCArICcvc3BvdHMvOnNwb3RfaWQvZXZlbnRzJztcbiAgICAgICAgIHJldHVybiAkcmVzb3VyY2UoQkFTRV9BUElfVVJMICsgJy9ldmVudHMvOmlkJywgeyBpZDogJ0BpZCcsIHNwb3RfaWQ6ICdAc3BvdF9pZCd9LHtcbiAgICAgICAgICAgICBpbmRleDogICB7IG1ldGhvZDogJ0dFVCcsICB1cmw6IG5lc3RlZFVybCwgaXNBcnJheTogdHJ1ZSB9LFxuICAgICAgICAgICAgIGNyZWF0ZTogIHsgbWV0aG9kOiAnUE9TVCcsIHVybDogbmVzdGVkVXJsIH0sXG4gICAgICAgICAgICAgdXBkYXRlOiAgeyBtZXRob2Q6ICdQVVQnIH1cbiAgICAgICAgIH0pOyAgICAgXG4gICAgICB9O1xuICAgIFxuICAgICAgRXZlbnQuJGluamVjdCA9IFsnQkFTRV9BUElfVVJMJywnJHJlc291cmNlJ107XG4gICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpXG4gICAgICAuY29udHJvbGxlcignZXZlbnRNb2RhbCcsIGV2ZW50TW9kYWwpO1xuXG4gICAgZnVuY3Rpb24gZXZlbnRNb2RhbCgkdWliTW9kYWxJbnN0YW5jZSwgZXZlbnRTZXJ2aWNlLCBDYXRlZ29yeSl7XG4gICAgICAgIHZhciBjdHJsID0gdGhpcztcbiAgICAgICAgY3RybC5ldmVudFNlcnZpY2UgPSBldmVudFNlcnZpY2U7XG4gICAgICAgIGN0cmwuY2F0ZWdvcnkgPSBDYXRlZ29yeTtcbiAgICAgICAgY3RybC5zYXZlID0gc2F2ZTtcbiAgICAgICAgY3RybC5jYW5jZWwgPSBjYW5jZWw7XG4gICAgICAgIGN0cmwubWluRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGN0cmwubWF4RGF0ZSA9IG5ldyBEYXRlKCkuc2V0RGF0ZShuZXcgRGF0ZSgpLmdldERhdGUoKSArIDE4MCk7XG4gICAgICAgIFxuICAgICAgIGZ1bmN0aW9uIHNhdmUoKXtcbiAgICAgICAgICBldmVudFNlcnZpY2Uuc2F2ZSgpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgIHJldHVybiAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpOyAgXG4gICAgICAgICAgfSk7XG4gICAgICAgfTtcbiAgICAgIFxuICAgICAgIGZ1bmN0aW9uIGNhbmNlbCgpe1xuICAgICAgICAgIHJldHVybiAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKG51bGwpO1xuICAgICAgIH07IFxuICAgICAgICBcbiAgICB9O1xuICAgIFxuICAgIGV2ZW50TW9kYWwuJGluamVjdCA9IFsnJHVpYk1vZGFsSW5zdGFuY2UnLCdldmVudFNlcnZpY2UnLCdDYXRlZ29yeSddO1xuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnOyAgXG4gIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpXG4gICAgICAgIC5mYWN0b3J5KCdldmVudFNlcnZpY2UnLCBldmVudFNlcnZpY2UpO1xuICAgIFxuICAgIGZ1bmN0aW9uIGV2ZW50U2VydmljZShFdmVudCwgc3BvdFNlcnZpY2UsICRxLCB0b2FzdGVyKXtcblxuICAgICAgICAgIHZhciBzZWxmID0ge1xuICAgICAgICAgICAgcGVuZGluZzogZmFsc2UsXG4gICAgICAgICAgICBldmVudHM6IFtdLFxuICAgICAgICAgICAgZXZlbnQ6IG51bGwsXG4gICAgICAgICAgICBsb2FkRXZlbnRzOiBsb2FkRXZlbnRzLFxuICAgICAgICAgICAgc2F2ZTogc2F2ZSwgXG4gICAgICAgICAgICBkZXN0cm95OiBkZXN0cm95XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG5cbiAgICAgICAgICBmdW5jdGlvbiBsb2FkRXZlbnRzKHNwb3RfaWQpe1xuICAgICAgICAgICAgICBpZihzZWxmLnBlbmRpbmcpIHJldHVybjtcbiAgICAgICAgICAgICAgdmFyIHNwb3RfaWQgPSBzcG90X2lkIHx8IHNwb3RTZXJ2aWNlLnNwb3QuaWQ7XG4gICAgICAgICAgICAgIHNlbGYucGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgIEV2ZW50LmluZGV4KHtzcG90X2lkOiBzcG90X2lkfSkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICAgIHNlbGYuZXZlbnRzID0gcmVzcC5tYXAoZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShldmVudC5zdGFydF9kYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdGFydF90aW1lID0gbmV3IERhdGUoZXZlbnQuc3RhcnRfdGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYoZXZlbnQuZW5kX2RhdGUpIGV2ZW50LmVuZF9kYXRlID0gbmV3IERhdGUoZXZlbnQuZW5kX2RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmKGV2ZW50LmVuZF90aW1lKSBldmVudC5lbmRfdGltZT0gbmV3IERhdGUoZXZlbnQuZW5kX3RpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgfSk7IFxuICAgICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uKCl7IHNlbGYucGVuZGluZyA9IGZhbHNlIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIHNhdmUoKXtcbiAgICAgICAgICAgICBpZihzZWxmLnBlbmRpbmcgfHwgIXNlbGYuZXZlbnQpIHJldHVybiAkcS5yZWplY3QoKTtcbiAgICAgICAgICAgICByZXR1cm4gc2VsZi5ldmVudC5pZCA/IHVwZGF0ZSgpIDogY3JlYXRlKCk7ICAgIFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZSgpeyAgXG4gICAgICAgICAgICAgIHZhciBkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgICAgc2VsZi5wZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgc2VsZi5ldmVudC5zcG90X2lkID0gc3BvdFNlcnZpY2Uuc3BvdC5pZDtcbiAgICAgICAgICAgICAgRXZlbnQuY3JlYXRlKHNlbGYuZXZlbnQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgICByZXNwLnN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShyZXNwLnN0YXJ0X2RhdGUpO1xuICAgICAgICAgICAgICAgICAgcmVzcC5zdGFydF90aW1lID0gbmV3IERhdGUocmVzcC5zdGFydF90aW1lKTtcbiAgICAgICAgICAgICAgICAgIGlmKHJlc3AuZW5kX2RhdGUpIHJlc3AuZW5kX2RhdGUgPSBuZXcgRGF0ZShyZXNwLmVuZF9kYXRlKTtcbiAgICAgICAgICAgICAgICAgIGlmKHJlc3AuZW5kX3RpbWUpIHJlc3AuZW5kX3RpbWUgPSBuZXcgRGF0ZShyZXNwLmVuZF90aW1lKTsgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyBFdmVudChyZXNwKTtcbiAgICAgICAgICAgICAgICAgIHNlbGYuZXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgc2VsZi5ldmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnc3VjY2VzcycsJ0V2ZW50IGNyZWF0ZWQnKTtcbiAgICAgICAgICAgICAgICAgIGQucmVzb2x2ZShyZXNwKTtcbiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnZXJyb3InLCdVbmFibGUgdG8gYWRkIGV2ZW50Jyk7XG4gICAgICAgICAgICAgICAgICBkLnJlamVjdChyZXNwKTtcbiAgICAgICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbigpeyBzZWxmLnBlbmRpbmcgPSBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgcmV0dXJuIGQucHJvbWlzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiB1cGRhdGUoKXtcbiAgICAgICAgICAgICAgdmFyIGQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgICBzZWxmLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICBzZWxmLmV2ZW50LiR1cGRhdGUoKS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICAgICAgdG9hc3Rlci5wb3AoJ3N1Y2Nlc3MnLCdFdmVudCB1cGRhdGVkJyk7XG4gICAgICAgICAgICAgICAgICBzZWxmLmV2ZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgIGQucmVzb2x2ZShyZXNwKTtcbiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnZXJyb3InLCdVbmFibGUgdG8gdXBkYXRlIGV2ZW50Jyk7ICBcbiAgICAgICAgICAgICAgICAgIGQucmVqZWN0KHJlc3ApO1xuICAgICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uKCl7IHNlbGYucGVuZGluZyA9IGZhbHNlIH0pO1xuICAgICAgICAgICAgICByZXR1cm4gZC5wcm9taXNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGRlc3Ryb3koKXtcbiAgICAgICAgICAgICAgaWYoc2VsZi5wZW5kaW5nIHx8ICFzZWxmLmV2ZW50KSByZXR1cm47XG4gICAgICAgICAgICAgIHNlbGYucGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgIHNlbGYuZXZlbnQuJGRlbGV0ZSgpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgICB2YXIgaSA9IHNlbGYuZXZlbnRzLmluZGV4T2Yoc2VsZi5ldmVudCk7XG4gICAgICAgICAgICAgICAgICBzZWxmLmV2ZW50cy5zcGxpY2UoaSwxKTtcbiAgICAgICAgICAgICAgICAgIHNlbGYuZXZlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgdG9hc3Rlci5wb3AoJ3N1Y2Nlc3MnLCdFdmVudCByZW1vdmVkJyk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcDtcbiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlc3ApO1xuICAgICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uKCl7IHNlbGYucGVuZGluZyA9IGZhbHNlIH0pXG4gICAgICAgICAgfTsgXG5cbiAgICAgIH07XG4gICAgXG4gICAgICBldmVudFNlcnZpY2UuJGluamVjdCA9IFsnRXZlbnQnLCdzcG90U2VydmljZScsICckcScsJ3RvYXN0ZXInXTtcbiAgICBcbiAgICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2V2ZW50cycsIGV2ZW50cyk7XG5cbiAgICBmdW5jdGlvbiBldmVudHMoc3BvdCwgZXZlbnRTZXJ2aWNlKXtcbiAgICAgICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGN0cmwuZXZlbnRTZXJ2aWNlID0gZXZlbnRTZXJ2aWNlO1xuICAgICAgICBjdHJsLmV2ZW50U2VydmljZS5sb2FkRXZlbnRzKHNwb3QuaWQpO1xuICAgIH07XG4gICAgXG4gICAgZXZlbnRzLiRpbmplY3QgPSBbJ3Nwb3QnLCAnZXZlbnRTZXJ2aWNlJ107XG4gICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpXG4gICAgLnZhbHVlKCdtb250aHMnLHtcbiAgICAgIDA6ICdKYW4nLFxuICAgICAgMTogJ0ZlYicsXG4gICAgICAyOiAnTWFyJyxcbiAgICAgIDM6ICdBcHInLFxuICAgICAgNDogJ01heScsXG4gICAgICA1OiAnSnVuJyxcbiAgICAgIDY6ICdKdWwnLFxuICAgICAgNzogJ0F1ZycsXG4gICAgICA4OiAnU2VwJyxcbiAgICAgIDk6ICdPY3QnLFxuICAgICAgMTA6ICdOb3YnLFxuICAgICAgMTE6ICdEZWMnXG4gICAgfSk7ICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAuZmlsdGVyKCdvY2N1cnJlbmNlRGF0ZScsIG9jY3VycmVuY2VEYXRlKTtcblxuICAgIGZ1bmN0aW9uIG9jY3VycmVuY2VEYXRlKG1vbnRocywgZGF5cyl7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQpe1xuICAgICAgICAgIHZhciBzRGF0ZSAgPSBuZXcgRGF0ZShpbnB1dC5zdGFydF9kYXRlKSxcbiAgICAgICAgICAgICAgc0RheSAgID0gc0RhdGUuZ2V0RGF0ZSgpLFxuICAgICAgICAgICAgICBzRG93ICAgPSBkYXlzW3NEYXRlLmdldERheSgpXSxcbiAgICAgICAgICAgICAgc01vbnRoID0gbW9udGhzW3NEYXRlLmdldE1vbnRoKCldLFxuICAgICAgICAgICAgICBzdHI7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgIFxuICAgICAgICAgICAgaWYoIWlucHV0LmVuZF9kYXRlIHx8IGlucHV0LnN0YXJ0X2RhdGUgPT0gaW5wdXQuZW5kX2RhdGUpe1xuICAgICAgICAgICAgICAgc3RyID0gIHNEb3cgKyAnLCAnICsgc01vbnRoICsgJyAnICsgc0RheTsgLy9gJHtzRG93fSwgJHtzTW9udGh9ICR7c0RheX1gO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdmFyIGVEYXRlID0gbmV3IERhdGUoaW5wdXQuZW5kX2RhdGUpLFxuICAgICAgICAgICAgICAgICAgICBlRGF5ICA9IGVEYXRlLmdldERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgZU1vbnRoID0gbW9udGhzW2VEYXRlLmdldE1vbnRoKCldO1xuICAgICAgICAgICAgICAgIC8vIHN0ciA9IChzTW9udGggPT09IGVNb250aCkgPyBgJHtzTW9udGh9ICR7c0RheX0gLSAke2VEYXl9YCA6IGAke3NNb250aH0gJHtzRGF5fSAtICR7ZU1vbnRofSAke2VEYXl9YDtcbiAgICAgICAgICAgICAgICBzdHIgPSAoc01vbnRoID09PSBlTW9udGgpID8gc01vbnRoICsgJyAnICsgc0RheSArICcgLSAnICsgZURheSA6IHNNb250aCArICcgJyArIHNEYXkgKyAnIC0gJyArIGVNb250aCArICcgJyArIGVEYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RyOyAgXG4gICAgICB9XG4gICAgICBcbiAgICB9OyBcbiAgICAgICBcbiAgICBvY2N1cnJlbmNlRGF0ZS4kaW5qZWN0ID0gWydtb250aHMnLCAnZGF5cyddO1xuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgIC5mYWN0b3J5KCdGYXZvcml0ZScsIEZhdm9yaXRlKTtcbiAgICBcbiAgICBmdW5jdGlvbiBGYXZvcml0ZShCQVNFX0FQSV9VUkwsICRodHRwLCB0b2FzdGVyKXtcbiAgICAgICAgdmFyIHVybCA9IEJBU0VfQVBJX1VSTCArICcvZmF2b3JpdGVzJzsgICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgIGNyZWF0ZTogY3JlYXRlLFxuICAgICAgICAgICByZW1vdmU6IHJlbW92ZVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBjcmVhdGUoc3BvdCl7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdCh1cmwsIHtzcG90X2lkOiBzcG90LmlkfSkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnd2FybmluZycsICdTcG90IGFkZGVkIHRvIGZhdm9yaXRlcycsICcnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlKHNwb3Qpe1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmRlbGV0ZSh1cmwgKyBgLyR7c3BvdC5pZH1gKS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICAgIHRvYXN0ZXIucG9wKCd3YXJuaW5nJywgJ1Nwb3QgcmVtb3ZlZCBmcm9tIGZhdm9yaXRlcycsICcnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcDtcbiAgICAgICAgICAgIH0pOyBcbiAgICAgICAgfTsgICAgIFxuICAgIH0gICAgXG4gICAgXG4gICAgRmF2b3JpdGUuJGluamVjdCA9IFsnQkFTRV9BUElfVVJMJywgJyRodHRwJywgJ3RvYXN0ZXInXTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpXG4gICAgICAuY29udHJvbGxlcignZmF2b3JpdGVzJywgZmF2b3JpdGVzKTtcbiAgICBcbiAgICBmdW5jdGlvbiBmYXZvcml0ZXMoJHNjb3BlLCBzcG90U2VydmljZSl7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG4gICAgICAgIHZtLnNwb3RTZXJ2aWNlID0gc3BvdFNlcnZpY2U7XG4gICAgICAgIFxuICAgICAgICBpbml0KCk7XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBpbml0KCl7XG4gICAgICAgICAgIHZtLnNwb3RTZXJ2aWNlLmZhdm9yaXRlcygpO1xuICAgICAgICB9O1xuICAgIH1cbiAgIFxuICAgIGZhdm9yaXRlcy4kaW5qZWN0ID0gWyckc2NvcGUnLCdzcG90U2VydmljZSddO1xuICAgIFxufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKVxuICAgICAgLmRpcmVjdGl2ZSgnbnNGYXZvcml0ZUJ0bicsIG5zRmF2b3JpdGVCdG4pO1xuICAgIFxuICAgIGZ1bmN0aW9uIG5zRmF2b3JpdGVCdG4oKXtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgc2NvcGU6IHt9LFxuICAgICAgICAgICAgYmluZFRvQ29udHJvbGxlcjoge1xuICAgICAgICAgICAgICAgc3BvdDogJz0nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udHJvbGxlcjogWyckcm9vdFNjb3BlJywnRmF2b3JpdGUnLCAndG9hc3RlcicsIGZ1bmN0aW9uKCRyb290U2NvcGUsIEZhdm9yaXRlLCB0b2FzdGVyKXtcbiAgICAgICAgICAgICAgIHZhciBjdHJsID0gdGhpcztcbiAgICAgICAgICAgICAgIGN0cmwuaXNGYXZvcml0ZWQgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgIHJldHVybiAkcm9vdFNjb3BlLnVzZXIuc2lnbmVkSW4gJiYgJHJvb3RTY29wZS51c2VyLmZhdm9yaXRlX3Nwb3RfaWRzLmluZGV4T2YoY3RybC5zcG90LmlkKSA+IC0xID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgY3RybC5hZGQgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgIGlmKCEkcm9vdFNjb3BlLnVzZXIuc2lnbmVkSW4pe1xuICAgICAgICAgICAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnaW5mbycsICdQbGVhc2UgU2lnbiBJbiB0byB0cmFjayB5b3VyIGZhdm9yaXRlcyEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgICAgRmF2b3JpdGUuY3JlYXRlKGN0cmwuc3BvdCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICAgICAgICBjdHJsLnNwb3QuZmF2b3JpdGVzX2NvdW50ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS51c2VyLmZhdm9yaXRlX3Nwb3RfaWRzLnB1c2goY3RybC5zcG90LmlkKTtcbiAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgIGN0cmwucmVtb3ZlID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVtb3ZpbmcuLicpO1xuICAgICAgICAgICAgICAgICAgIEZhdm9yaXRlLnJlbW92ZShjdHJsLnNwb3QpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcCk7XG4gICAgICAgICAgICAgICAgICAgICAgY3RybC5zcG90LmZhdm9yaXRlc19jb3VudCAtPSAxO1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gJHJvb3RTY29wZS51c2VyLmZhdm9yaXRlX3Nwb3RfaWRzLmluZGV4T2YoY3RybC5zcG90LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnVzZXIuZmF2b3JpdGVfc3BvdF9pZHMuc3BsaWNlKGksMSk7XG4gICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2ZhdnNDdHJsJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9zcG90cy9mYXZvcml0ZXMvbnNGYXZvcml0ZUJ0bi5odG1sJ1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBcbiAgICB9XG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKVxuICAgICAgLmNvbnRyb2xsZXIoJ2hvbWUnLCBob21lKTtcblxuICAgIGZ1bmN0aW9uIGhvbWUoJHNjb3BlLCBzcG90U2VydmljZSwgZmlsdGVyUGFyYW1zKXtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgdm0uc3BvdFNlcnZpY2UgPSBzcG90U2VydmljZTtcbiAgICAgICAgdm0uZmlsdGVyUGFyYW1zID0gZmlsdGVyUGFyYW1zO1xuICAgICAgICB2bS5maWx0ZXJlZFNwb3RzID0gW107XG4gICAgICAgIHZtLmFwcGx5RmlsdGVycyA9IGFwcGx5RmlsdGVycztcbiAgICAgICAgdm0udG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBpbml0KCk7XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBpbml0KCl7XG4gICAgICAgICAgIHZtLnNwb3RTZXJ2aWNlLnBhcmFtcyA9IHt9O1xuICAgICAgICAgICB2bS5zcG90U2VydmljZS5pbml0KCk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbigndm0uc3BvdFNlcnZpY2Uuc3BvdHMnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5RmlsdGVycygpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgICRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCd2bS5maWx0ZXJQYXJhbXMuZmVhdHVyZXMnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5RmlsdGVycygpO1xuICAgICAgICB9KTsgICAgICAgIFxuICAgICAgICBcbiAgICAgICAgJHNjb3BlLiR3YXRjaCgndm0uZmlsdGVyUGFyYW1zLm9yZGVyJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBhcHBseUZpbHRlcnMoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBhcHBseUZpbHRlcnMoKXtcbiAgICAgICAgICB2bS5maWx0ZXJlZFNwb3RzID0gJHNjb3BlLiRldmFsKFwidm0uc3BvdFNlcnZpY2Uuc3BvdHMgfCBmZWF0dXJlczp2bS5maWx0ZXJQYXJhbXMuZmVhdHVyZXMgfCBvcmRlckJ5OnZtLmZpbHRlclBhcmFtcy5vcmRlclwiKTtcbiAgICAgICAgICByZXR1cm4gdm0uZmlsdGVyZWRTcG90cztcbiAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgIH07XG4gICAgXG4gICAgaG9tZS4kaW5qZWN0ID0gWyckc2NvcGUnLCdzcG90U2VydmljZScsICdmaWx0ZXJQYXJhbXMnXTtcbiAgIFxufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7ICBcbiAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAuZmFjdG9yeSgnSG91cicsIEhvdXIpO1xuICAgIFxuICBmdW5jdGlvbiBIb3VyKEJBU0VfQVBJX1VSTCwgJHJlc291cmNlKXtcbiAgICAgIHZhciBuZXN0ZWRVcmwgPSBCQVNFX0FQSV9VUkwgKyAnL3Nwb3RzLzpzcG90X2lkL2hvdXJzJztcbiAgICAgIHJldHVybiAkcmVzb3VyY2UoQkFTRV9BUElfVVJMICsgJy9ob3Vycy86aWQnLCB7IGlkOiAnQGlkJywgc3BvdF9pZDogJ0BzcG90X2lkJyB9LCB7IFxuICAgICAgICAgIGluZGV4OiAgICAgeyBtZXRob2Q6ICdHRVQnLCAgdXJsOiBuZXN0ZWRVcmwsIGlzQXJyYXk6IHRydWUgfSxcbiAgICAgICAgICBjcmVhdGU6ICAgIHsgbWV0aG9kOiAnUE9TVCcsIHVybDogbmVzdGVkVXJsIH0sXG4gICAgICAgICAgdXBkYXRlOiAgICB7IG1ldGhvZDogJ1BVVCcgfSAgICAgIFxuICAgICAgfSk7XG4gIH07XG4gICAgXG4gICAgICBcbiAgSG91ci4kaW5qZWN0ID0gWydCQVNFX0FQSV9VUkwnLCAnJHJlc291cmNlJ107XG4gICAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JzsgIFxuICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKVxuICAgIC5mYWN0b3J5KCdob3VyU2VydmljZScsIGhvdXJTZXJ2aWNlKTtcbiAgICBcbiAgZnVuY3Rpb24gaG91clNlcnZpY2UoSG91ciwgc3BvdFNlcnZpY2UsICRxLCB0b2FzdGVyKXtcbiAgICAgIFxuICAgICAgICB2YXIgc2VsZiA9IHtcbiAgICAgICAgICBwZW5kaW5nOiBmYWxzZSxcbiAgICAgICAgICBob3VyczogW10sXG4gICAgICAgICAgaG91cjogbnVsbCxcbiAgICAgICAgICBzZXRIb3Vyczogc2V0SG91cnMsXG4gICAgICAgICAgc2F2ZTogc2F2ZSwgXG4gICAgICAgICAgZGVzdHJveTogZGVzdHJveVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIHNldEhvdXJzKCl7XG4gICAgICAgICAgICBpZihzZWxmLnBlbmRpbmcgfHwgIXNwb3RTZXJ2aWNlLnNwb3QpIHJldHVybjtcbiAgICAgICAgICAgIHNlbGYuaG91cnMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHNlbGYuaG91cnMgPSBzcG90U2VydmljZS5zcG90LmhvdXJzLm1hcChmdW5jdGlvbihvYmope1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSG91cihhbmd1bGFyLmV4dGVuZChvYmoseyBcbiAgICAgICAgICAgICAgICAgIG9wZW46ICBuZXcgRGF0ZShvYmoub3BlbiksIFxuICAgICAgICAgICAgICAgICAgY2xvc2U6IG5ldyBEYXRlKG9iai5jbG9zZSksXG4gICAgICAgICAgICAgICAgICBkYXlzOiBvYmouZGF5cy5tYXAoTnVtYmVyKVxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIFxuICAgICAgICBmdW5jdGlvbiBzYXZlKCl7XG4gICAgICAgICAgIGlmKHNlbGYucGVuZGluZyB8fCAhc2VsZi5ob3VyKSByZXR1cm47XG4gICAgICAgICAgIHJldHVybiBzZWxmLmhvdXIuaWQgPyB1cGRhdGUoKSA6IGNyZWF0ZSgpOyAgICBcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlKCl7ICBcbiAgICAgICAgICAgIHZhciBkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHNlbGYuaG91cik7XG4gICAgICAgICAgICBzZWxmLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi5ob3VyLnNwb3RfaWQgPSBzcG90U2VydmljZS5zcG90LmlkO1xuICAgICAgICAgICAgSG91ci5jcmVhdGUoc2VsZi5ob3VyKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICAgIHZhciBob3VyID0gbmV3IEhvdXIoYW5ndWxhci5leHRlbmQocmVzcCx7IFxuICAgICAgICAgICAgICAgICAgb3BlbjogIG5ldyBEYXRlKHJlc3Aub3BlbiksIFxuICAgICAgICAgICAgICAgICAgY2xvc2U6IG5ldyBEYXRlKHJlc3AuY2xvc2UpLFxuICAgICAgICAgICAgICAgICAgZGF5czogcmVzcC5kYXlzLm1hcChOdW1iZXIpXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHNlbGYuaG91cnMucHVzaChob3VyKTtcbiAgICAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnc3VjY2VzcycsJ0hvdXJzIGFkZGVkJyk7XG4gICAgICAgICAgICAgICAgZC5yZXNvbHZlKHJlc3ApO1xuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgdG9hc3Rlci5wb3AoJ2Vycm9yJywnVW5hYmxlIHRvIGFkZCBob3VycycpO1xuICAgICAgICAgICAgICAgIGQucmVqZWN0KHJlc3ApO1xuICAgICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbigpeyBzZWxmLnBlbmRpbmcgPSBmYWxzZSB9KTtcbiAgICAgICAgICAgIHJldHVybiBkLnByb21pc2U7XG4gICAgICAgIH1cbiAgICAgIFxuICAgICAgICBmdW5jdGlvbiB1cGRhdGUoKXtcbiAgICAgICAgICAgIHZhciBkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIHNlbGYucGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLmhvdXIuJHVwZGF0ZSgpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgdG9hc3Rlci5wb3AoJ3N1Y2Nlc3MnLCdIb3VycyB1cGRhdGVkJyk7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoc2VsZi5ob3VyLCB7XG4gICAgICAgICAgICAgICAgICAgIG9wZW46IG5ldyBEYXRlKHJlc3Aub3BlbiksXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlOiBuZXcgRGF0ZShyZXNwLmNsb3NlKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGQucmVzb2x2ZShyZXNwKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICAgIHRvYXN0ZXIucG9wKCdlcnJvcicsJ1VuYWJsZSB0byB1cGRhdGUgaG91cnMnKTsgIFxuICAgICAgICAgICAgICAgIGQucmVqZWN0KHJlc3ApO1xuICAgICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbigpeyBzZWxmLnBlbmRpbmcgPSBmYWxzZSB9KTtcbiAgICAgICAgICAgIHJldHVybiBkLnByb21pc2U7XG4gICAgICAgIH1cbiAgICAgIFxuICAgICAgICBmdW5jdGlvbiBkZXN0cm95KCl7XG4gICAgICAgICAgICBpZihzZWxmLnBlbmRpbmcgfHwgIXNlbGYuaG91cikgcmV0dXJuO1xuICAgICAgICAgICAgc2VsZi5wZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYuaG91ci4kZGVsZXRlKCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IHNlbGYuaG91cnMuaW5kZXhPZihzZWxmLmhvdXIpO1xuICAgICAgICAgICAgICAgIHNlbGYuaG91cnMuc3BsaWNlKGksMSk7XG4gICAgICAgICAgICAgICAgc2VsZi5ob3VyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnc3VjY2VzcycsJ0hvdXJzIHJlbW92ZWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcDtcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVzcCk7XG4gICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uKCl7IHNlbGYucGVuZGluZyA9IGZhbHNlIH0pXG4gICAgICAgIH0gXG4gICAgICBcbiAgICB9O1xuICAgIFxuICAgIGhvdXJTZXJ2aWNlLiRpbmplY3QgPSBbJ0hvdXInLCdzcG90U2VydmljZScsJyRxJywndG9hc3RlciddO1xuICAgICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKVxuICAgICAgLmNvbnRyb2xsZXIoJ2hvdXJzTW9kYWwnLCBob3Vyc01vZGFsKTtcbiAgICBcbiAgICBmdW5jdGlvbiBob3Vyc01vZGFsKCR1aWJNb2RhbEluc3RhbmNlLCBob3VyU2VydmljZSl7XG4gICAgICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgICAgIGN0cmwuaG91clNlcnZpY2UgPSBob3VyU2VydmljZTtcbiAgICAgICBjdHJsLnNhdmUgPSBzYXZlO1xuICAgICAgIGN0cmwuY2FuY2VsID0gY2FuY2VsO1xuICAgICAgICBcbiAgICAgICBmdW5jdGlvbiBzYXZlKCl7XG4gICAgICAgICAgaG91clNlcnZpY2Uuc2F2ZSgpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgIHJldHVybiAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpOyAgXG4gICAgICAgICAgfSk7XG4gICAgICAgfTtcbiAgICAgIFxuICAgICAgIGZ1bmN0aW9uIGNhbmNlbCgpe1xuICAgICAgICAgIHJldHVybiAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKG51bGwpO1xuICAgICAgIH07IFxuICAgICAgICBcbiAgICB9O1xuICAgXG4gICAgaG91cnNNb2RhbC4kaW5qZWN0ID0gWyckdWliTW9kYWxJbnN0YW5jZScgLCdob3VyU2VydmljZSddO1xuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCdcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKVxuICAgICAgLmRpcmVjdGl2ZSgnbnNFZGl0SG91cnMnLCBuc0VkaXRIb3Vycyk7XG4gICAgXG4gICAgZnVuY3Rpb24gbnNFZGl0SG91cnMoaG91clNlcnZpY2UsICR1aWJNb2RhbCl7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Nwb3RzL2hvdXJzL25zRWRpdEhvdXJzLmh0bWwnLFxuICAgICAgICAgIGNvbnRyb2xsZXI6IFsnaG91clNlcnZpY2UnLCAnJHVpYk1vZGFsJywgZnVuY3Rpb24gZWRpdEhvdXJzKGhvdXJTZXJ2aWNlLCAkdWliTW9kYWwpe1xuICAgICAgICAgICAgICAgIHZhciBjdHJsID0gdGhpcztcbiAgICAgICAgICAgICAgICBjdHJsLmhvdXJTZXJ2aWNlID0gaG91clNlcnZpY2U7XG4gICAgICAgICAgICAgICAgY3RybC5ob3VyU2VydmljZS5zZXRIb3VycygpO1xuICAgICAgICAgICAgICAgIGN0cmwub3Blbk1vZGFsID0gb3Blbk1vZGFsO1xuICAgICAgICAgICAgICAgIGN0cmwucmVtb3ZlID0gcmVtb3ZlO1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gb3Blbk1vZGFsKGhvdXIpe1xuICAgICAgICAgICAgICAgICAgICBpZihob3VyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgY3RybC5ob3VyU2VydmljZS5ob3VyID0gYW5ndWxhci5leHRlbmQoaG91ciwgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbjogIG5ldyBEYXRlKGhvdXIub3BlbiksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZTogbmV3IERhdGUoaG91ci5jbG9zZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRheXM6IGhvdXIuZGF5cy5tYXAoTnVtYmVyKVxuICAgICAgICAgICAgICAgICAgICAgIH0pOyBcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgY3RybC5ob3VyU2VydmljZS5ob3VyID0ge307XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnaG91cnNNb2RhbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdocnNDdHJsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9zcG90cy9ob3Vycy9ob3Vyc01vZGFsLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ21kJyAgXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuaG91clNlcnZpY2UuaG91ciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlKGhvdXIpe1xuICAgICAgICAgICAgICAgICAgIGlmKCFob3VyKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgY3RybC5ob3VyU2VydmljZS5ob3VyID0gaG91cjtcbiAgICAgICAgICAgICAgICAgICBjdHJsLmhvdXJTZXJ2aWNlLmRlc3Ryb3koKS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICAgICAgICAgIGN0cmwuaG91clNlcnZpY2UuaG91ciA9IG51bGw7IFxuICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgIH1dLFxuICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2hyc0N0cmwnXG4gICAgICAgIH1cbiAgICB9O1xuICAgICAgICBcbiAgICBuc0VkaXRIb3Vycy4kaW5qZWN0ID0gWydob3VyU2VydmljZScsICckdWliTW9kYWwnXTtcbiAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAuZGlyZWN0aXZlKCduc0hvdXJzVGFibGUnLCBuc0hvdXJzVGFibGUpO1xuICAgIFxuICAgIGZ1bmN0aW9uIG5zSG91cnNUYWJsZShvcGVuTm93KXsgXG4gICAgICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgICAgc2NvcGU6IHRydWUsXG4gICAgICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHtcbiAgICAgICAgICAgICAgICAgIGhvdXJzOiAnPScsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnb3Blbk5vdycsIGZ1bmN0aW9uKG9wZW5Ob3cpe1xuICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuTm93ID0gb3Blbk5vdztcbiAgICAgICAgICAgICAgICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnY3RybCcsXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9zcG90cy9ob3Vycy9uc0hvdXJzVGFibGUuaHRtbCdcbiAgICAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgbnNIb3Vyc1RhYmxlLiRpbmplY3QgPSBbJ29wZW5Ob3cnXTtcbiAgICBcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnbnNFZGl0SW1hZ2VzJywgbnNFZGl0SW1hZ2VzKTtcbiAgICBcbiAgICBmdW5jdGlvbiBuc0VkaXRJbWFnZXMoKXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICdzcG90U2VydmljZScsICdpbWFnZVNlcnZpY2UnLCAnJHVpYk1vZGFsJywgZnVuY3Rpb24oJHNjb3BlLCBzcG90U2VydmljZSwgaW1hZ2VTZXJ2aWNlLCAkdWliTW9kYWwpe1xuICAgICAgICAgICAgICAgIHZhciBjdHJsID0gdGhpcztcbiAgICAgICAgICAgICAgICBjdHJsLmltZ0ZpbGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGN0cmwuaW1hZ2VTZXJ2aWNlID0gaW1hZ2VTZXJ2aWNlO1xuICAgICAgICAgICAgICAgIGN0cmwuaW1hZ2VTZXJ2aWNlLmluaXQoe1xuICAgICAgICAgICAgICAgICAgICB1cmk6ICdzcG90cycsIFxuICAgICAgICAgICAgICAgICAgICBpbWFnZWFibGVfaWQ6IHNwb3RTZXJ2aWNlLnNwb3QuaWR9KTtcbiAgICAgICAgICAgICAgICBjdHJsLmltYWdlU2VydmljZS5sb2FkSW1hZ2VzKCk7XG4gICAgICAgICAgICAgICAgY3RybC5zZXRQcmltYXJ5ID0gc2V0UHJpbWFyeTtcbiAgICAgICAgICAgICAgICBjdHJsLnJlbW92ZSA9IHJlbW92ZTsgXG4gICAgICAgICAgICAgICAgY3RybC5vcGVuTW9kYWwgPSBvcGVuTW9kYWw7XG4gICAgICAgICAgICAgICAgXG4vLyAgICAgICAgICAgICAgICAkc2NvcGUud2F0Y2goJ3Nwb3RTZXJ2aWNlLnNwb3QnLCBmdW5jdGlvbigpe30pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNldFByaW1hcnkoaW1nKXtcbiAgICAgICAgICAgICAgICAgICAgY3RybC5pbWFnZVNlcnZpY2Uuc2V0UHJpbWFyeShpbWcpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgICAgICAgIGN0cmwuaW1hZ2VTZXJ2aWNlLmxvYWRJbWFnZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgc3BvdFNlcnZpY2Uuc3BvdC5wcmltYXJ5X2ltYWdlID0gaW1nO1xuICAgICAgICAgICAgICAgICAgICAgICBpbWcucHJpbWFyeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiByZW1vdmUoaW1nKXtcbiAgICAgICAgICAgICAgICAgICAgY3RybC5pbWFnZVNlcnZpY2UuZGVzdHJveShpbWcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBvcGVuTW9kYWwoKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoIWN0cmwuaW1nRmlsZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdjcm9wSW1hZ2VNb2RhbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdpbWdDdHJsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc2hhcmVkL2ltYWdlcy9jcm9wSW1hZ2VNb2RhbC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdtZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nRmlsZTogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0cmwuaW1nRmlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9ICAgIFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuaW1nRmlsZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHJsLmltYWdlU2VydmljZS51cGxvYWQocmVzLCBmYWxzZSkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2ltZ3NDdHJsJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9zcG90cy9pbWFnZXMvbnNFZGl0SW1hZ2VzLmh0bWwnXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuICAgIFxuICAgIG5zRWRpdEltYWdlcy4kaW5qZWN0ID0gWydzcG90U2VydmljZScsICdpbWFnZVNlcnZpY2UnLCAnJHVpYk1vZGFsJ107XG4gICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKVxuICAgICAgICAudmFsdWUoJ2ZvY3VzZWQnLCB7XG4gICAgICAgICBzcG90OiBudWxsXG4gICAgfSk7XG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKVxuICAgICAgICAuZGlyZWN0aXZlKCduc1Nwb3RCbG9jaycsIG5zU3BvdEJsb2NrKTtcbiAgICBcbiAgICBmdW5jdGlvbiBuc1Nwb3RCbG9jaygpe1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgc2NvcGU6IHt9LFxuICAgICAgICAgICAgYmluZFRvQ29udHJvbGxlcjoge1xuICAgICAgICAgICAgICAgIHNwb3Q6ICc9JyxcbiAgICAgICAgICAgICAgICBzb3J0OiAnQCcsXG4gICAgICAgICAgICAgICAgaW5kZXg6ICc9JyAgXG4gICAgICAgICAgICB9LCBcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnb3Blbk5vdycsICdmb2N1c2VkJywgZnVuY3Rpb24ob3Blbk5vdywgZm9jdXNlZCl7XG4gICAgICAgICAgICAgICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGN0cmwub3Blbk5vdyA9IG9wZW5Ob3c7XG4gICAgICAgICAgICAgICAgY3RybC5oaWdobGlnaHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjdHJsLmZvY3VzID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICBjdHJsLmhpZ2hsaWdodCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgZm9jdXNlZC5zcG90ID0gY3RybC5zcG90O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdHJsLnVuZm9jdXMgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBjdHJsLmhpZ2hsaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBmb2N1c2VkLnNwb3QgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAnc3BvdEN0cmwnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Nwb3RzL2xpc3QvbnNTcG90QmxvY2suaHRtbCcsIFxuICAgICAgICB9XG4gICAgfVxuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnbnNWZW51ZUJsb2NrJywgbnNWZW51ZUJsb2NrKTtcbiAgICBcbiAgICBmdW5jdGlvbiBuc1ZlbnVlQmxvY2soZmlsdGVyUGFyYW1zKXtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgIHNjb3BlOiB7fSxcbiAgICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHtcbiAgICAgICAgICAgICAgICBzcG90OiAnPScsXG4gICAgICAgICAgICAgICAgaW5kZXg6ICc9JyAgXG4gICAgICAgICAgICB9LCBcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnZmlsdGVyUGFyYW1zJywnZm9jdXNlZCcsIGZ1bmN0aW9uKGZpbHRlclBhcmFtcywgZm9jdXNlZCl7XG4gICAgICAgICAgICAgICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGN0cmwuZmlsdGVyUGFyYW1zID0gZmlsdGVyUGFyYW1zO1xuICAgICAgICAgICAgICAgIGN0cmwuZm9jdXMgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgIGN0cmwuaGlnaGxpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICBmb2N1c2VkLnNwb3QgPSBjdHJsLnNwb3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN0cmwudW5mb2N1cyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIGN0cmwuaGlnaGxpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGZvY3VzZWQuc3BvdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICdzcG90Q3RybCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvc3BvdHMvbGlzdC9uc1ZlbnVlQmxvY2suaHRtbCdcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG4gICAgXG4gICAgbnNWZW51ZUJsb2NrLiRpbmplY3QgPSBbJ2ZpbHRlclBhcmFtcyddO1xuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKVxuICAgICAgICAuY29udHJvbGxlcignZWRpdE1lbnVzJywgZWRpdE1lbnVzKTtcbiAgICBcbiAgICBmdW5jdGlvbiBlZGl0TWVudXMobWVudVNlcnZpY2UsICR1aWJNb2RhbCl7XG4gICAgICAgIHZhciBjdHJsID0gdGhpcztcbiAgICAgICAgY3RybC5tZW51U2VydmljZSA9IG1lbnVTZXJ2aWNlO1xuICAgICAgICBjdHJsLm1lbnVTZXJ2aWNlLmxvYWRNZW51cygpO1xuICAgICAgICBjdHJsLm9wZW5NZW51TW9kYWwgPSBvcGVuTWVudU1vZGFsO1xuICAgICAgICBjdHJsLm9wZW5JdGVtTW9kYWwgPSBvcGVuSXRlbU1vZGFsO1xuICAgICAgICBjdHJsLnVwZGF0ZU1lbnUgPSB1cGRhdGVNZW51O1xuICAgICAgICBjdHJsLnJlbW92ZU1lbnUgPSByZW1vdmVNZW51O1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gb3Blbk1lbnVNb2RhbChtZW51KXtcbiAgICAgICAgICAgIGN0cmwubWVudVNlcnZpY2UubWVudSA9IG1lbnUgfHwge307XG4gICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWVudU1vZGFsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdtZW51c0N0cmwnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9zcG90cy9tZW51cy9tZW51TW9kYWwuaHRtbCcsXG4gICAgICAgICAgICAgICAgc2l6ZTogJ21kJyAgXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgICAgICAgY3RybC5tZW51U2VydmljZS5tZW51ID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gb3Blbkl0ZW1Nb2RhbChtZW51LCBpdGVtKXtcbiAgICAgICAgICAgIGN0cmwubWVudVNlcnZpY2UubWVudSA9IG1lbnU7XG4gICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnaXRlbU1vZGFsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdpdGVtc0N0cmwnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9zcG90cy9tZW51cy9pdGVtTW9kYWwuaHRtbCcsXG4gICAgICAgICAgICAgICAgc2l6ZTogJ21kJyxcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW06IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgICAgICAgY3RybC5tZW51U2VydmljZS5tZW51ID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlTWVudShtZW51KXtcbiAgICAgICAgICAgIGlmKCFtZW51KSByZXR1cm47XG4gICAgICAgICAgICBjdHJsLm1lbnVTZXJ2aWNlLm1lbnUgPSBtZW51O1xuICAgICAgICAgICAgY3RybC5tZW51U2VydmljZS5kZXN0cm95KCk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVNZW51KG1lbnUpe1xuICAgICAgICAgICAgY3RybC5tZW51U2VydmljZS5tZW51ID0gbWVudTtcbiAgICAgICAgICAgIGN0cmwubWVudVNlcnZpY2Uuc2F2ZSgpO1xuICAgICAgICAgICAgY3RybC5tZW51U2VydmljZS5tZW51ID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgfTtcbiAgICBcbiAgICBlZGl0TWVudXMuJGluamVjdCA9IFsnbWVudVNlcnZpY2UnLCAnJHVpYk1vZGFsJ107XG4gICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKVxuICAgICAgLmNvbnRyb2xsZXIoJ2l0ZW1Nb2RhbCcsIGl0ZW1Nb2RhbCk7XG4gICAgXG4gICAgZnVuY3Rpb24gaXRlbU1vZGFsKGl0ZW0sICR1aWJNb2RhbEluc3RhbmNlLCBtZW51U2VydmljZSl7XG4gICAgICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgICAgIGN0cmwubWVudVNlcnZpY2UgPSBtZW51U2VydmljZTtcbiAgICAgICBjdHJsLnNhdmUgPSBzYXZlO1xuICAgICAgIGN0cmwuY2FuY2VsID0gY2FuY2VsO1xuICAgICAgIGN0cmwuaXRlbSA9IGl0ZW0gfHwge307XG4gICAgICAgIFxuICAgICAgIGZ1bmN0aW9uIHNhdmUoKXtcbiAgICAgICAgICBpZighY3RybC5pdGVtLmlkKXtcbiAgICAgICAgICAgICAgY3RybC5tZW51U2VydmljZS5tZW51Lml0ZW1zX2F0dHJpYnV0ZXMucHVzaChjdHJsLml0ZW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZW51U2VydmljZS5zYXZlKCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgcmV0dXJuICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7ICBcbiAgICAgICAgICB9KTtcbiAgICAgICB9O1xuICAgICAgXG4gICAgICAgZnVuY3Rpb24gY2FuY2VsKCl7XG4gICAgICAgICAgcmV0dXJuICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MobnVsbCk7XG4gICAgICAgfTsgXG4gICAgICAgIFxuICAgIH07XG4gICBcbiAgICBpdGVtTW9kYWwuJGluamVjdCA9IFsnaXRlbScsICckdWliTW9kYWxJbnN0YW5jZScgLCdtZW51U2VydmljZSddO1xuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgICAgLmZhY3RvcnkoJ01lbnUnLCBNZW51KTtcbiAgICBcbiAgICAgIGZ1bmN0aW9uIE1lbnUoQkFTRV9BUElfVVJMLCAkcmVzb3VyY2Upe1xuICAgICAgICAgIHZhciBuZXN0ZWRfdXJsID0gQkFTRV9BUElfVVJMICsgJy9zcG90cy86c3BvdF9pZC9tZW51cyc7XG4gICAgICAgICAgcmV0dXJuICRyZXNvdXJjZShCQVNFX0FQSV9VUkwgKyAnL21lbnVzLzppZCcsIHsgaWQ6ICdAaWQnLCBzcG90X2lkOiAnQHNwb3RfaWQnIH0sIHsgXG4gICAgICAgICAgICAgIGluZGV4OiAgIHsgbWV0aG9kOiAnR0VUJywgIHVybDogbmVzdGVkX3VybCwgaXNBcnJheTogdHJ1ZSB9LFxuICAgICAgICAgICAgICBjcmVhdGU6ICB7IG1ldGhvZDogJ1BPU1QnLCB1cmw6IG5lc3RlZF91cmwgfSxcbiAgICAgICAgICAgICAgdXBkYXRlOiAgeyBtZXRob2Q6ICdQVVQnIH0sICAgICAgXG4gICAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIFxuICAgICAgTWVudS4kaW5qZWN0ID0gWydCQVNFX0FQSV9VUkwnLCAnJHJlc291cmNlJ107XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpXG4gICAgICAuY29udHJvbGxlcignbWVudU1vZGFsJywgbWVudU1vZGFsKTtcbiAgICBcbiAgICBmdW5jdGlvbiBtZW51TW9kYWwoJHVpYk1vZGFsSW5zdGFuY2UsIG1lbnVTZXJ2aWNlKXtcbiAgICAgICB2YXIgY3RybCA9IHRoaXM7XG4gICAgICAgY3RybC5tZW51U2VydmljZSA9IG1lbnVTZXJ2aWNlO1xuICAgICAgIGN0cmwuc2F2ZSA9IHNhdmU7XG4gICAgICAgY3RybC5jYW5jZWwgPSBjYW5jZWw7XG4gICAgICAgIFxuICAgICAgIGZ1bmN0aW9uIHNhdmUoKXtcbiAgICAgICAgICBtZW51U2VydmljZS5zYXZlKCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgcmV0dXJuICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7ICBcbiAgICAgICAgICB9KTtcbiAgICAgICB9O1xuICAgICAgXG4gICAgICAgZnVuY3Rpb24gY2FuY2VsKCl7XG4gICAgICAgICAgcmV0dXJuICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MobnVsbCk7XG4gICAgICAgfTsgXG4gICAgICAgIFxuICAgIH07XG4gICBcbiAgICBtZW51TW9kYWwuJGluamVjdCA9IFsnJHVpYk1vZGFsSW5zdGFuY2UnICwnbWVudVNlcnZpY2UnXTtcbiAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JzsgIFxuICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKVxuICAgIC5mYWN0b3J5KCdtZW51U2VydmljZScsIG1lbnVTZXJ2aWNlKTtcbiAgICBcbiAgbWVudVNlcnZpY2UuJGluamVjdCA9IFsnTWVudScsJ3Nwb3RTZXJ2aWNlJywgJyRxJywndG9hc3RlciddO1xuICAgIFxuICBmdW5jdGlvbiBtZW51U2VydmljZShNZW51LCBzcG90U2VydmljZSwgJHEsIHRvYXN0ZXIpe1xuICAgICAgXG4gICAgICB2YXIgc2VsZiA9IHtcbiAgICAgICAgcGVuZGluZzogZmFsc2UsXG4gICAgICAgIG1lbnVzOiBbXSxcbiAgICAgICAgbWVudTogbnVsbCxcbiAgICAgICAgbG9hZE1lbnVzOiBsb2FkTWVudXMsXG4gICAgICAgIHNhdmU6IHNhdmUsIFxuICAgICAgICBkZXN0cm95OiBkZXN0cm95XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBzZWxmO1xuICAgICAgXG4gICAgICBmdW5jdGlvbiBsb2FkTWVudXMoc3BvdF9pZCl7XG4gICAgICAgICAgaWYoc2VsZi5wZW5kaW5nKSByZXR1cm47XG4gICAgICAgICAgc2VsZi5wZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICB2YXIgc3BvdF9pZCA9IHNwb3RfaWQgfHwgc3BvdFNlcnZpY2Uuc3BvdC5pZDtcbiAgICAgICAgICBNZW51LmluZGV4KHtzcG90X2lkOiBzcG90X2lkfSkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgc2VsZi5tZW51cyA9IHJlc3AubWFwKGZ1bmN0aW9uKG9iail7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE1lbnUob2JqKTtcbiAgICAgICAgICAgICAgfSk7IFxuICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKXsgc2VsZi5wZW5kaW5nID0gZmFsc2UgfSk7XG4gICAgICB9XG4gICAgICAgICAgICBcbiAgICAgIGZ1bmN0aW9uIHNhdmUoKXtcbiAgICAgICAgIGlmKHNlbGYucGVuZGluZyB8fCAhc2VsZi5tZW51KSByZXR1cm4gJHEucmVqZWN0KCk7XG4gICAgICAgICByZXR1cm4gc2VsZi5tZW51LmlkID8gdXBkYXRlKCkgOiBjcmVhdGUoKTsgICAgXG4gICAgICB9XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZSgpeyAgXG4gICAgICAgICAgdmFyIGQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgIHNlbGYucGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgc2VsZi5tZW51LnNwb3RfaWQgPSBzcG90U2VydmljZS5zcG90LmlkO1xuICAgICAgICAgIE1lbnUuY3JlYXRlKHNlbGYubWVudSkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgdmFyIG1lbnUgPSBuZXcgTWVudShyZXNwKTtcbiAgICAgICAgICAgICAgc2VsZi5tZW51cy5wdXNoKG1lbnUpO1xuICAgICAgICAgICAgICBzZWxmLm1lbnUgPSBudWxsO1xuICAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnc3VjY2VzcycsJ01lbnUgYWRkZWQnKTtcbiAgICAgICAgICAgICAgZC5yZXNvbHZlKHJlc3ApO1xuICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnZXJyb3InLCdVbmFibGUgdG8gYWRkIG1lbnUnKTtcbiAgICAgICAgICAgICAgZC5yZWplY3QocmVzcCk7XG4gICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbigpeyBzZWxmLnBlbmRpbmcgPSBmYWxzZSB9KTtcbiAgICAgICAgICByZXR1cm4gZC5wcm9taXNlO1xuICAgICAgfVxuICAgICAgXG4gICAgICBmdW5jdGlvbiB1cGRhdGUoKXtcbiAgICAgICAgICB2YXIgZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgc2VsZi5wZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICBzZWxmLm1lbnUuJHVwZGF0ZSgpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgIHRvYXN0ZXIucG9wKCdzdWNjZXNzJywnTWVudSB1cGRhdGVkJyk7XG4gICAgICAgICAgICAgIHNlbGYubWVudSA9IG51bGw7XG4gICAgICAgICAgICAgIGQucmVzb2x2ZShyZXNwKTtcbiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgdG9hc3Rlci5wb3AoJ2Vycm9yJywnVW5hYmxlIHRvIHVwZGF0ZSBtZW51Jyk7ICBcbiAgICAgICAgICAgICAgZC5yZWplY3QocmVzcCk7XG4gICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbigpeyBzZWxmLnBlbmRpbmcgPSBmYWxzZSB9KTtcbiAgICAgICAgICByZXR1cm4gZC5wcm9taXNlO1xuICAgICAgfVxuICAgICAgXG4gICAgICBmdW5jdGlvbiBkZXN0cm95KCl7XG4gICAgICAgICAgaWYoc2VsZi5wZW5kaW5nIHx8ICFzZWxmLm1lbnUpIHJldHVybjtcbiAgICAgICAgICBzZWxmLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgIHNlbGYubWVudS4kZGVsZXRlKCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgdmFyIGkgPSBzZWxmLm1lbnVzLmluZGV4T2Yoc2VsZi5tZW51KTtcbiAgICAgICAgICAgICAgc2VsZi5tZW51cy5zcGxpY2UoaSwxKTtcbiAgICAgICAgICAgICAgc2VsZi5tZW51ID0gbnVsbDtcbiAgICAgICAgICAgICAgdG9hc3Rlci5wb3AoJ3N1Y2Nlc3MnLCdtZW51cyByZW1vdmVkJyk7XG4gICAgICAgICAgICAgIHJldHVybiByZXNwO1xuICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlc3ApO1xuICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKXsgc2VsZi5wZW5kaW5nID0gZmFsc2UgfSlcbiAgICAgIH0gXG4gICAgICBcbiAgfTtcbiAgICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ21lbnVzJywgbWVudXMpO1xuICAgIFxuICAgIGZ1bmN0aW9uIG1lbnVzKHNwb3QsIG1lbnVTZXJ2aWNlKXtcbiAgICAgICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgICAgICBjdHJsLm1lbnVTZXJ2aWNlID0gbWVudVNlcnZpY2U7XG4gICAgICAgIGN0cmwubWVudVNlcnZpY2UubG9hZE1lbnVzKHNwb3QuaWQpOyAgIFxuICAgIH07XG4gICAgXG4gICAgbWVudXMuJGluamVjdCA9IFsnc3BvdCcsICdtZW51U2VydmljZSddO1xuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ25ld1Nwb3QnLCBuZXdTcG90KTtcbiAgICBcbiAgICBmdW5jdGlvbiBuZXdTcG90KCRzY29wZSwgU3BvdCwgc3BvdFNlcnZpY2UsICRzdGF0ZSwgJHVpYk1vZGFsLCBzdGF0ZXMpe1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuICAgICAgICB2bS5zcG90RGF0YSA9IHt9O1xuICAgICAgICB2bS5QQUNMb2NhdGlvbiA9IG51bGw7XG4gICAgICAgIHZtLm9wZW5Nb2RhbCA9IG9wZW5Nb2RhbDtcbiAgICAgICAgdm0uc3RhdGVzID0gc3RhdGVzO1xuICAgICAgICBcbiAgICAgICAgJHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oXCJbc3BvdEZvcm0uc3RyZWV0LiR2YWxpZCwgc3BvdEZvcm0uY2l0eS4kdmFsaWQsIHNwb3RGb3JtLnN0YXRlLiR2YWxpZF1cIixmdW5jdGlvbihuZXdWYWwsIG9sZFZhbCl7XG4gICAgICAgICAgIGlmKChuZXdWYWxbMF0gJiYgbmV3VmFsWzFdICYmIG5ld1ZhbFsyXSkgJiYgKCF2bS5zcG90RGF0YS5sYXRpdHVkZSAmJiAhdm0uc3BvdERhdGEubG9uZ2l0dWRlKSl7XG4gICAgICAgICAgICAgIHJldHVybiBsb29rdXBBZGRyZXNzKCk7XG4gICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAkc2NvcGUuJHdhdGNoKCd2bS5QQUNMb2NhdGlvbicsIGZ1bmN0aW9uKG5ld1ZhbCl7XG4gICAgICAgICAgaWYobmV3VmFsICYmIG5ld1ZhbC5nZW9tZXRyeSl7XG4gICAgICAgICAgICByZXR1cm4gc2V0U3BvdEZyb21QQUMoKTsgIFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBzZXRTcG90RnJvbVBBQygpe1xuICAgICAgICAgICB2bS5zcG90RGF0YS5uYW1lICAgPSB2bS5QQUNMb2NhdGlvbi5uYW1lO1xuICAgICAgICAgICB2bS5zcG90RGF0YS5zdHJlZXQgPSBbIHZtLlBBQ0xvY2F0aW9uLmFkZHJlc3NfY29tcG9uZW50c1swXS5sb25nX25hbWUsIHZtLlBBQ0xvY2F0aW9uLmFkZHJlc3NfY29tcG9uZW50c1sxXS5zaG9ydF9uYW1lIF0uam9pbignLCAnKTtcbiAgICAgICAgICAgdm0uc3BvdERhdGEuY2l0eSAgID0gdm0uUEFDTG9jYXRpb24uYWRkcmVzc19jb21wb25lbnRzWzJdLnNob3J0X25hbWU7XG4gICAgICAgICAgIHZtLnNwb3REYXRhLnN0YXRlICA9IHZtLlBBQ0xvY2F0aW9uLmFkZHJlc3NfY29tcG9uZW50c1szXS5zaG9ydF9uYW1lO1xuICAgICAgICAgICB2bS5zcG90RGF0YS5waG9uZSAgPSB2bS5QQUNMb2NhdGlvbi5mb3JtYXR0ZWRfcGhvbmVfbnVtYmVyO1xuICAgICAgICAgICB2bS5zcG90RGF0YS53ZWJzaXRlX3VybCA9IHZtLlBBQ0xvY2F0aW9uLndlYnNpdGU7XG4gICAgICAgICAgIHZtLnNwb3REYXRhLmxhdGl0dWRlICAgPSB2bS5QQUNMb2NhdGlvbi5nZW9tZXRyeS5sb2NhdGlvbi5sYXQoKTtcbiAgICAgICAgICAgdm0uc3BvdERhdGEubG9uZ2l0dWRlICA9IHZtLlBBQ0xvY2F0aW9uLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpOyBcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIGxvb2t1cEFkZHJlc3MoKXtcbiAgICAgICAgICB2YXIgZ2VvY29kZXIgPSBuZXcgZ29vZ2xlLm1hcHMuR2VvY29kZXIoKTtcbiAgICAgICAgICB2YXIgYWRkcmVzcyAgPSBbdm0uc3BvdERhdGEuc3RyZWV0LCB2bS5zcG90RGF0YS5jaXR5LCB2bS5zcG90RGF0YS5zdGF0ZV0uam9pbignLCAnKTtcbiAgICAgICAgICBnZW9jb2Rlci5nZW9jb2RlKHsnYWRkcmVzcyc6IGFkZHJlc3N9LCBmdW5jdGlvbihyZXN1bHRzLCBzdGF0dXMpe1xuICAgICAgICAgICAgICBpZihzdGF0dXMgPT0gZ29vZ2xlLm1hcHMuR2VvY29kZXJTdGF0dXMuT0spe1xuICAgICAgICAgICAgICAgIHZtLnNwb3REYXRhLmxhdGl0dWRlID0gcmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbi5sYXQoKTtcbiAgICAgICAgICAgICAgICB2bS5zcG90RGF0YS5sb25naXR1ZGUgPSByZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBvcGVuTW9kYWwoKXtcbiAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbmV3U3BvdE1vZGFsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdjdHJsJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvc3BvdHMvbmV3L25ld1Nwb3RNb2RhbC5odG1sJyxcbiAgICAgICAgICAgICAgICBzaXplOiAnbWQnICBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgICAgICBzcG90U2VydmljZS5jcmVhdGUodm0uc3BvdERhdGEpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgICAgIHNwb3RTZXJ2aWNlLnNwb3QgPSBuZXcgU3BvdChyZXNwKTtcbiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdlZGl0LmFib3V0Jyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBuZXdTcG90LiRpbmplY3QgPSBbJyRzY29wZScsJ1Nwb3QnLCdzcG90U2VydmljZScsICckc3RhdGUnLCckdWliTW9kYWwnLCdzdGF0ZXMnXTtcbiAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpXG4gICAgICAgIC5jb250cm9sbGVyKCduZXdTcG90TW9kYWwnLCBuZXdTcG90TW9kYWwpO1xuICAgIFxuICAgIGZ1bmN0aW9uIG5ld1Nwb3RNb2RhbCgkdWliTW9kYWxJbnN0YW5jZSl7XG4gICAgICAgIHZhciBjdHJsID0gdGhpcztcbiAgICAgICAgY3RybC5zYXZlID0gc2F2ZTtcbiAgICAgICAgY3RybC5jYW5jZWwgPSBjYW5jZWw7XG4gICAgICAgIFxuICAgICAgIGZ1bmN0aW9uIHNhdmUoKXtcbiAgICAgICAgICByZXR1cm4gJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgICAgICB9O1xuICAgICAgXG4gICAgICAgZnVuY3Rpb24gY2FuY2VsKCl7XG4gICAgICAgICAgcmV0dXJuICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MobnVsbCk7XG4gICAgICAgfTsgXG4gICAgfVxuICAgIFxuICAgIG5ld1Nwb3RNb2RhbC4kaW5qZWN0ID0gWyckdWliTW9kYWxJbnN0YW5jZSddO1xufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnbnNSZXBvcnQnLCBuc1JlcG9ydCk7XG4gICAgXG4gICAgZnVuY3Rpb24gbnNSZXBvcnQoKXtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgc2NvcGU6IHt9LFxuICAgICAgICAgICAgYmluZFRvQ29udHJvbGxlcjoge1xuICAgICAgICAgICAgICAgIHNwb3RfaWQ6ICdAc3BvdCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbJyR1aWJNb2RhbCcsIGZ1bmN0aW9uKCR1aWJNb2RhbCl7XG4gICAgICAgICAgICAgICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGN0cmwub3Blbk1vZGFsID0gb3Blbk1vZGFsO1xuICAgICAgXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gb3Blbk1vZGFsKCl7XG4gICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICduc1JlcG9ydE1vZGFsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2N0cmwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Nwb3RzL3JlcG9ydHMvbnNSZXBvcnRNb2RhbC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BvdF9pZDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3RybC5zcG90X2lkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2N0cmwnLFxuICAgICAgICAgICAgdGVtcGxhdGU6ICc8c3BhbiBjbGFzcz1cIm5zLXJlcG9ydCBwdWxsLXJpZ2h0XCIgbmctY2xpY2s9XCJjdHJsLm9wZW5Nb2RhbCgpXCI+ITxpIGNsYXNzPVwiZmEgZmEtZmxhZ1wiPjwvaT4gUmVwb3J0IEFidXNlPHNwYW4+J1xuICAgICAgICB9XG4gICAgfVxuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ25zUmVwb3J0TW9kYWwnLCBuc1JlcG9ydE1vZGFsKTtcbiAgICBcbiAgICBmdW5jdGlvbiBuc1JlcG9ydE1vZGFsKCR1aWJNb2RhbEluc3RhbmNlLCBzcG90X2lkLCBSZXBvcnQpe1xuICAgICAgICB2YXIgY3RybCA9IHRoaXM7XG4gICAgICAgIGN0cmwucmVwb3J0ID0gUmVwb3J0O1xuICAgICAgICBjdHJsLnJlcG9ydERhdGEgPSB7XG4gICAgICAgICAgICBzcG90X2lkOiBzcG90X2lkLFxuICAgICAgICB9O1xuICAgICAgICBjdHJsLnNlbmQgPSBzZW5kO1xuICAgICAgICBjdHJsLmNhbmNlbCA9IGNhbmNlbDtcbiAgICBcbiAgICAgICAgZnVuY3Rpb24gc2VuZCgpe1xuICAgICAgICAgICAgY3RybC5yZXBvcnQuY3JlYXRlKGN0cmwucmVwb3J0RGF0YSkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBjYW5jZWwoKXtcbiAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFxuICAgIG5zUmVwb3J0TW9kYWwuJGluamVjdCA9IFsnJHVpYk1vZGFsSW5zdGFuY2UnLCAnc3BvdF9pZCcsICdSZXBvcnQnXTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpXG4gICAgICAgIC5mYWN0b3J5KCdSZXBvcnQnLCBSZXBvcnQpO1xuICAgIFxuICAgIGZ1bmN0aW9uIFJlcG9ydChCQVNFX0FQSV9VUkwsICRodHRwLCB0b2FzdGVyKXtcbiAgICAgICAgXG4gICAgICAgIHZhciBzZWxmID0ge1xuICAgICAgICAgICAgcGVuZGluZzogZmFsc2UsXG4gICAgICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uKHBhcmFtcyl7XG4gICAgICAgICAgICAgICAgaWYoc2VsZi5wZW5kaW5nKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc2VsZi5wZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdChCQVNFX0FQSV9VUkwgKyAnL3JlcG9ydHMnLCBwYXJhbXMpLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgdG9hc3Rlci5wb3AoJ2luZm8nLCAnVGhhbmsgeW91IGZvciB5b3VyIGZlZWRiYWNrJyk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgdG9hc3Rlci5wb3AoJ2Vycm9yJywgJ1VuYWJsZSB0byBzZW5kIHJlcG9ydC4gUGxlYXNlIGNvbnRhY3QgaW5mb0B0aGVuaXRlc3BvdC5jb20nKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5maW5hbGx5KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuIFxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgXG4gICAgfTtcbiAgICBcbiAgICBSZXBvcnQuJGluamVjdCA9IFsnQkFTRV9BUElfVVJMJywgJyRodHRwJywndG9hc3RlciddO1xuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgICAgLmZpbHRlcignZmVhdHVyZXMnLCBmZWF0dXJlcyk7XG4gICAgXG4gICAgZnVuY3Rpb24gZmVhdHVyZXMoKXtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0LCBmZWF0dXJlX2lkcyl7XG4gICAgICAgICAgICB2YXIgZmwgPSBmZWF0dXJlX2lkcy5sZW5ndGg7XG4gICAgICAgICAgICBpZighZmwpIHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgIHZhciByZXQgPSBbXTtcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDAsIGxlbiA9IGlucHV0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKXtcbiAgICAgICAgICAgICAgICB2YXIgbiA9IDA7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBqID0gMCwgayA9IGZlYXR1cmVfaWRzLmxlbmd0aDsgaiA8IGs7IGorKyl7XG4gICAgICAgICAgICAgICAgICBpZihpbnB1dFtpXS5mZWF0dXJlX2lkcy5pbmRleE9mKGZlYXR1cmVfaWRzW2pdKSA+IC0xKSBuKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKG4gPT09IGZsKSByZXQucHVzaChpbnB1dFtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9XG4gICAgfVxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgIC5maWx0ZXIoJ2lkQXJyJywgaWRBcnIpO1xuICAgIFxuICAgIGZ1bmN0aW9uIGlkQXJyKCl7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCwgYXJyMSwgYXJyMil7XG4gICAgICAgICAgICBpZighYXJyMi5sZW5ndGgpIHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgIHZhciByZXQgPSBbXTtcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDAsIGlucHV0bGVuID0gaW5wdXQubGVuZ3RoOyBpIDwgaW5wdXRsZW47IGkrKyl7IFxuICAgICAgICAgICAgICAgIGZvcih2YXIgaiA9IDAsIGFycjFsZW4gPSBpbnB1dFtpXVthcnIxXS5sZW5ndGg7IGogPCBhcnIxbGVuOyBqKyspeyBcbiAgICAgICAgICAgICAgICAgICAgaWYoYXJyMi5pbmRleE9mKGlucHV0W2ldW2FycjFdW2pdKSA+IC0xKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKGlucHV0W2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnbnNPcmRlclNlbGVjdCcsIG5zT3JkZXJTZWxlY3QpO1xuICAgIFxuICAgIGZ1bmN0aW9uIG5zT3JkZXJTZWxlY3QoKXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCI8ZGl2IGNsYXNzPSducy1vcmRlci1zZWxlY3QnPlwiK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJPcmRlciBieSBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjxzZWxlY3QgY2xhc3M9J25zLW9yZGVyLXNlbGVjdCcgbmctbW9kZWw9J3ZtLmZpbHRlclBhcmFtcy5vcmRlcic+XCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjxvcHRpb24gdmFsdWU9J2Rpc3RhbmNlJz5EaXN0YW5jZTwvb3B0aW9uPlwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8b3B0aW9uIHZhbHVlPSctZmF2b3JpdGVzX2NvdW50Jz5GYXZvcml0ZXM8L29wdGlvbj5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjwvc2VsZWN0PlwiICtcbiAgICAgICAgICAgICAgICAgICAgICBcIjwvZGl2PlwiXG4gICAgICAgIH1cbiAgICB9XG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKVxuICAgICAgLmNvbnRyb2xsZXIoJ3NlYXJjaCcsIHNlYXJjaCk7XG5cbiAgICBmdW5jdGlvbiBzZWFyY2goJHNjb3BlLCBzcG90U2VydmljZSwgc29ydCwgZmlsdGVyUGFyYW1zKXtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgdm0uc3BvdFNlcnZpY2UgPSBzcG90U2VydmljZTtcbiAgICAgICAgdm0uc29ydCA9IHNvcnQ7XG4gICAgICAgIHZtLmZpbHRlclBhcmFtcyA9IGZpbHRlclBhcmFtcztcbiAgICAgICAgdm0uZmlsdGVyZWRTcG90cyA9IFtdO1xuICAgICAgICB2bS5hcHBseUZpbHRlcnMgPSBhcHBseUZpbHRlcnM7XG4gICAgICAgIHZtLnRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgXG4gICAgICAgIGluaXQoKTtcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIGluaXQoKXtcbiAgICAgICAgICAgdm0uc3BvdFNlcnZpY2UucGFyYW1zID0geyBzb3J0OiBzb3J0IH07XG4gICAgICAgICAgIHZtLnNwb3RTZXJ2aWNlLmluaXQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgICRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCd2bS5zcG90U2VydmljZS5zcG90cycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gYXBwbHlGaWx0ZXJzKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgJHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ3ZtLmZpbHRlclBhcmFtc1t2bS5zb3J0XScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gYXBwbHlGaWx0ZXJzKCk7XG4gICAgICAgIH0pICA7ICAgICAgXG4gICAgICAgIFxuICAgICAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbigndm0uZmlsdGVyUGFyYW1zLmZlYXR1cmVzJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBhcHBseUZpbHRlcnMoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAkc2NvcGUuJHdhdGNoKCd2bS5maWx0ZXJQYXJhbXMub3JkZXInLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5RmlsdGVycygpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIGFwcGx5RmlsdGVycygpe1xuICAgICAgICAgIHZtLmZpbHRlcmVkU3BvdHMgPSAkc2NvcGUuJGV2YWwoXCJ2bS5zcG90U2VydmljZS5zcG90cyB8IGlkQXJyOidjYXRlZ29yeV9pZHMnOnZtLmZpbHRlclBhcmFtc1t2bS5zb3J0XSB8IGZlYXR1cmVzOnZtLmZpbHRlclBhcmFtcy5mZWF0dXJlcyB8IG9yZGVyQnk6dm0uZmlsdGVyUGFyYW1zLm9yZGVyXCIpO1xuICAgICAgICAgIHJldHVybiB2bS5maWx0ZXJlZFNwb3RzO1xuICAgICAgICB9O1xuICAgIFxuICAgIH07XG4gICAgXG4gICAgc2VhcmNoLiRpbmplY3QgPSBbJyRzY29wZScsJ3Nwb3RTZXJ2aWNlJywgJ3NvcnQnLCAnZmlsdGVyUGFyYW1zJ107XG4gICBcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgIC5jb250cm9sbGVyKCdzZWFyY2hWZW51ZXMnLCBzZWFyY2hWZW51ZXMpO1xuXG4gICAgZnVuY3Rpb24gc2VhcmNoVmVudWVzKCRzY29wZSwgc3BvdFNlcnZpY2UsIGZpbHRlclBhcmFtcyl7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG4gICAgICAgIHZtLnNwb3RTZXJ2aWNlID0gc3BvdFNlcnZpY2U7XG4gICAgICAgIHZtLnRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgXG4gICAgICAgIGluaXQoKTtcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIGluaXQoKXtcbiAgICAgICAgICAgdm0uc3BvdFNlcnZpY2UucGFyYW1zID0geyBzb3J0OiAnYXR0ZW5kJyB9O1xuICAgICAgICAgICB2bS5zcG90U2VydmljZS5pbml0KCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBcbiAgICBzZWFyY2hWZW51ZXMuJGluamVjdCA9IFsnJHNjb3BlJywnc3BvdFNlcnZpY2UnLCdmaWx0ZXJQYXJhbXMnXTtcbiAgIFxufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpXG4gICAgICAgIC5jb250cm9sbGVyKCdlZGl0U3BlY2lhbHMnLCBlZGl0U3BlY2lhbHMpO1xuICAgIFxuICAgIGZ1bmN0aW9uIGVkaXRTcGVjaWFscyhzcGVjaWFsU2VydmljZSwgZmVhdHVyZWRTcGVjaWFsU2VydmljZSwgc3BlY2lhbEhlYWRpbmdzLCBvcGVuTm93LCAkdWliTW9kYWwpe1xuICAgICAgICB2YXIgY3RybCA9IHRoaXM7XG4gICAgICAgIGN0cmwuc3BlY2lhbFNlcnZpY2UgPSBzcGVjaWFsU2VydmljZTtcbiAgICAgICAgY3RybC5zcGVjaWFsU2VydmljZS5sb2FkU3BlY2lhbHMoKTtcbiAgICAgICAgXG4gICAgICAgIGN0cmwuZmVhdHVyZWRTcGVjaWFsU2VydmljZSA9IGZlYXR1cmVkU3BlY2lhbFNlcnZpY2U7XG4gICAgICAgIGN0cmwuZmVhdHVyZWRTcGVjaWFsU2VydmljZS5sb2FkU3BlY2lhbHMoKTtcbiAgICAgICAgXG4gICAgICAgIGN0cmwuaGVhZGluZ3MgPSBzcGVjaWFsSGVhZGluZ3M7XG4gICAgICAgIGN0cmwub3Blbk5vdyA9IG9wZW5Ob3c7XG4gICAgICAgIGN0cmwub3BlbldlZWtseVNwZWNpYWxNb2RhbCA9IG9wZW5XZWVrbHlTcGVjaWFsTW9kYWw7XG4gICAgICAgIGN0cmwub3BlbkZlYXR1cmVkU3BlY2lhbE1vZGFsID0gb3BlbkZlYXR1cmVkU3BlY2lhbE1vZGFsO1xuICAgICAgICBjdHJsLnJlbW92ZSA9IHJlbW92ZTtcbiAgICAgICAgY3RybC5yZW1vdmVGZWF0dXJlZCA9IHJlbW92ZUZlYXR1cmVkO1xuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIG9wZW5GZWF0dXJlZFNwZWNpYWxNb2RhbChzcGwpe1xuICAgICAgICAgICAgaWYoc3BsKXtcbiAgICAgICAgICAgICAgICBmZWF0dXJlZFNwZWNpYWxTZXJ2aWNlLnNwZWNpYWwgPSBhbmd1bGFyLmV4dGVuZChzcGwsIHsgXG4gICAgICAgICAgICAgICAgICBzdGFydF90aW1lOiAgc3BsLnN0YXJ0X3RpbWUgPyBuZXcgRGF0ZShzcGwuc3RhcnRfdGltZSkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgZW5kX3RpbWU6IHNwbC5lbmRfdGltZSA/IG5ldyBEYXRlKHNwbC5lbmRfdGltZSkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgc3RhcnRfZGF0ZTogbmV3IERhdGUoc3BsLnN0YXJ0X2RhdGUpLFxuICAgICAgICAgICAgICAgICAgZW5kX2RhdGU6IHNwbC5lbmRfZGF0ZSA/IG5ldyBEYXRlKHNwbC5lbmRfZGF0ZSkgOiBudWxsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIGZlYXR1cmVkU3BlY2lhbFNlcnZpY2Uuc3BlY2lhbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRfZGF0ZTogbmV3IERhdGUoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIG1pID0gJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdmZWF0dXJlZFNwZWNpYWxNb2RhbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnc3Bsc0N0cmwnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9zcG90cy9zcGVjaWFscy9mZWF0dXJlZC9mZWF0dXJlZFNwZWNpYWxNb2RhbC5odG1sJyxcbiAgICAgICAgICAgICAgICBzaXplOiAnbWQnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbWkucmVzdWx0LnRoZW4oZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgICAgZmVhdHVyZWRTcGVjaWFsU2VydmljZS5zcGVjaWFsID0gbnVsbDtcbiAgICAgICAgICAgICAgICAvLy8gREVSUD8/IT9cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIG9wZW5XZWVrbHlTcGVjaWFsTW9kYWwoc3BsKXtcbiAgICAgICAgICAgIGlmKHNwbCl7XG4gICAgICAgICAgICAgICBjdHJsLnNwZWNpYWxTZXJ2aWNlLnNwZWNpYWwgPSBhbmd1bGFyLmV4dGVuZChzcGwsIHsgXG4gICAgICAgICAgICAgICAgICBzdGFydF90aW1lOiAgbmV3IERhdGUoc3BsLnN0YXJ0X3RpbWUpLCBcbiAgICAgICAgICAgICAgICAgIGVuZF90aW1lOiBuZXcgRGF0ZShzcGwuZW5kX3RpbWUpLFxuICAgICAgICAgICAgICAgICAgZGF5czogc3BsLmRheXMubWFwKE51bWJlcilcbiAgICAgICAgICAgICAgfSk7IFxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgIGN0cmwuc3BlY2lhbFNlcnZpY2Uuc3BlY2lhbCA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc3BlY2lhbE1vZGFsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdzcGxzQ3RybCcsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Nwb3RzL3NwZWNpYWxzL3NwZWNpYWxNb2RhbC5odG1sJyxcbiAgICAgICAgICAgICAgICBzaXplOiAnbWQnICBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgICAgICBjdHJsLnNwZWNpYWxTZXJ2aWNlLnNwZWNpYWwgPSBudWxsO1xuICAgICAgICAgICAgICAgIGN0cmwuc3BlY2lhbFNlcnZpY2Uuc29ydFNwZWNpYWxzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZShzcGwpe1xuICAgICAgICAgICAgaWYoIXNwbCkgcmV0dXJuO1xuICAgICAgICAgICAgY3RybC5zcGVjaWFsU2VydmljZS5zcGVjaWFsID0gc3BsO1xuICAgICAgICAgICAgY3RybC5zcGVjaWFsU2VydmljZS5kZXN0cm95KCk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiByZW1vdmVGZWF0dXJlZChzcGwpe1xuICAgICAgICAgICAgaWYoIXNwbCkgcmV0dXJuO1xuICAgICAgICAgICAgY3RybC5mZWF0dXJlZFNwZWNpYWxTZXJ2aWNlLnNwZWNpYWwgPSBzcGw7XG4gICAgICAgICAgICBjdHJsLmZlYXR1cmVkU3BlY2lhbFNlcnZpY2UuZGVzdHJveSgpO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICB9O1xuICAgIFxuICAgIGVkaXRTcGVjaWFscy4kaW5qZWN0ID0gWydzcGVjaWFsU2VydmljZScsICdmZWF0dXJlZFNwZWNpYWxTZXJ2aWNlJywgJ3NwZWNpYWxIZWFkaW5ncycsJ29wZW5Ob3cnLCAnJHVpYk1vZGFsJ107XG4gICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpXG4gICAgLmZhY3RvcnkoJ1NwZWNpYWwnLCBTcGVjaWFsKTtcbiAgICBcbiAgZnVuY3Rpb24gU3BlY2lhbChCQVNFX0FQSV9VUkwsICRyZXNvdXJjZSl7XG4gICAgICB2YXIgbmVzdGVkX3VybCA9IEJBU0VfQVBJX1VSTCArICcvc3BvdHMvOnNwb3RfaWQvc3BlY2lhbHMnO1xuICAgICAgcmV0dXJuICRyZXNvdXJjZShCQVNFX0FQSV9VUkwgKyAnL3NwZWNpYWxzLzppZCcsIHsgaWQ6ICdAaWQnLCBzcG90X2lkOiAnQHNwb3RfaWQnIH0sIHsgXG4gICAgICAgICAgaW5kZXg6ICAgeyBtZXRob2Q6ICdHRVQnLCAgdXJsOiBuZXN0ZWRfdXJsLCBpc0FycmF5OiB0cnVlIH0sXG4gICAgICAgICAgd2Vla2x5OiAgeyBtZXRob2Q6ICdHRVQnLCAgdXJsOiBuZXN0ZWRfdXJsICsgXCIvd2Vla2x5XCIsIGlzQXJyYXk6IHRydWUgfSxcbiAgICAgICAgICBmZWF0dXJlZDp7IG1ldGhvZDogJ0dFVCcsICB1cmw6IG5lc3RlZF91cmwgKyBcIi9mZWF0dXJlZFwiLCBpc0FycmF5OiB0cnVlIH0sXG4gICAgICAgICAgY3JlYXRlOiAgeyBtZXRob2Q6ICdQT1NUJywgdXJsOiBuZXN0ZWRfdXJsIH0sXG4gICAgICAgICAgdXBkYXRlOiAgeyBtZXRob2Q6ICdQVVQnIH0sICAgICAgXG4gICAgICB9KTtcbiAgfTtcbiAgICBcbiAgU3BlY2lhbC4kaW5qZWN0ID0gWydCQVNFX0FQSV9VUkwnLCAnJHJlc291cmNlJ107XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpXG4gICAgICAudmFsdWUoJ3NwZWNpYWxIZWFkaW5ncycsIHtcbiAgICAgICAgIDA6ICcqIERhaWx5JyxcbiAgICAgICAgIDE6ICdNb25kYXlzJyxcbiAgICAgICAgIDI6ICdUdWVzZGF5cycsXG4gICAgICAgICAzOiAnV2VkbmVzZGF5cycsXG4gICAgICAgICA0OiAnVGh1cnNkYXlzJyxcbiAgICAgICAgIDU6ICdGcmlkYXlzJyxcbiAgICAgICAgIDY6ICdTYXR1cmRheXMnLFxuICAgICAgICAgNzogJ1N1bmRheXMnICAgICAgICAgIFxuICAgICAgfSk7XG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKVxuICAgICAgLmNvbnRyb2xsZXIoJ3NwZWNpYWxNb2RhbCcsIHNwZWNpYWxNb2RhbCk7XG4gICAgXG4gICAgZnVuY3Rpb24gc3BlY2lhbE1vZGFsKCR1aWJNb2RhbEluc3RhbmNlLCBzcGVjaWFsU2VydmljZSl7XG4gICAgICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgICAgIGN0cmwuc3BlY2lhbFNlcnZpY2UgPSBzcGVjaWFsU2VydmljZTtcbiAgICAgICBjdHJsLnNhdmUgPSBzYXZlO1xuICAgICAgIGN0cmwuY2FuY2VsID0gY2FuY2VsO1xuICAgICAgIGN0cmwubWluRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgY3RybC5tYXhEYXRlID0gbmV3IERhdGUoKS5zZXREYXRlKG5ldyBEYXRlKCkuZ2V0RGF0ZSgpICsgMzApO1xuICAgICAgICBcbiAgICAgICBmdW5jdGlvbiBzYXZlKCl7XG4gICAgICAgICAgc3BlY2lhbFNlcnZpY2Uuc2F2ZSgpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgIHJldHVybiAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpOyAgXG4gICAgICAgICAgfSk7XG4gICAgICAgfTtcbiAgICAgIFxuICAgICAgIGZ1bmN0aW9uIGNhbmNlbCgpe1xuICAgICAgICAgIHJldHVybiAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKG51bGwpO1xuICAgICAgIH07IFxuICAgICAgICBcbiAgICB9O1xuICAgXG4gICAgc3BlY2lhbE1vZGFsLiRpbmplY3QgPSBbJyR1aWJNb2RhbEluc3RhbmNlJyAsJ3NwZWNpYWxTZXJ2aWNlJ107XG4gICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7ICBcbiAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAuZmFjdG9yeSgnc3BlY2lhbFNlcnZpY2UnLCBzcGVjaWFsU2VydmljZSk7XG4gICAgXG4gIGZ1bmN0aW9uIHNwZWNpYWxTZXJ2aWNlKFNwZWNpYWwsIHNwb3RTZXJ2aWNlLCAkcSwgdG9hc3Rlcil7XG4gICAgICBcbiAgICAgIHZhciBzZWxmID0ge1xuICAgICAgICBwZW5kaW5nOiBmYWxzZSxcbiAgICAgICAgc3BlY2lhbHM6IFtdLFxuICAgICAgICBzb3J0ZWRTcGVjaWFsczogeyAwOiBbXSwgMTogW10sIDI6IFtdLCAzOiBbXSwgNDogW10sIDU6IFtdLCA2OiBbXSwgNzogW10gfSxcbiAgICAgICAgc29ydFNwZWNpYWxzOiBzb3J0U3BlY2lhbHMsXG4gICAgICAgIHNwZWNpYWw6IG51bGwsXG4gICAgICAgIGxvYWRTcGVjaWFsczogbG9hZFNwZWNpYWxzLFxuICAgICAgICBzYXZlOiBzYXZlLCBcbiAgICAgICAgZGVzdHJveTogZGVzdHJveVxuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICAgIFxuICAgICAgZnVuY3Rpb24gbG9hZFNwZWNpYWxzKHNwb3RfaWQpe1xuICAgICAgICAgIGlmKHNlbGYucGVuZGluZykgcmV0dXJuO1xuICAgICAgICAgIHNlbGYucGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgdmFyIHNwb3RfaWQgPSBzcG90X2lkIHx8IHNwb3RTZXJ2aWNlLnNwb3QuaWQ7XG4gICAgICAgICAgU3BlY2lhbC53ZWVrbHkoe3Nwb3RfaWQ6IHNwb3RfaWR9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICBzZWxmLnNwZWNpYWxzID0gcmVzcC5tYXAoZnVuY3Rpb24ob2JqKXtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU3BlY2lhbChvYmopO1xuICAgICAgICAgICAgICB9KTsgXG4gICAgICAgICAgICAgIHNvcnRTcGVjaWFscygpO1xuICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKXsgc2VsZi5wZW5kaW5nID0gZmFsc2UgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIHNvcnRTcGVjaWFscygpeyAgXG4gICAgICAgICBPYmplY3Qua2V5cyhzZWxmLnNvcnRlZFNwZWNpYWxzKS5tYXAoZnVuY3Rpb24odmFsLCBpKXtcbiAgICAgICAgICAgICBzZWxmLnNvcnRlZFNwZWNpYWxzW3ZhbF0ubGVuZ3RoID0gMDtcbiAgICAgICAgIH0pOyBcbiAgICAgICAgIGZvcih2YXIgaSA9IDAsIGogPSBzZWxmLnNwZWNpYWxzLmxlbmd0aDsgaSA8IGo7IGkrKyl7XG4gICAgICAgICAgICBpZihzZWxmLnNwZWNpYWxzW2ldLmRheXMubGVuZ3RoID09IDcgKXtcbiAgICAgICAgICAgICAgICBzZWxmLnNvcnRlZFNwZWNpYWxzWzBdLnB1c2goc2VsZi5zcGVjaWFsc1tpXSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBmb3IodmFyIGsgPSAwOyBrIDwgODsgaysrKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoc2VsZi5zcGVjaWFsc1tpXS5kYXlzLmluZGV4T2YoYCR7a31gKSA+IC0xKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc29ydGVkU3BlY2lhbHNba10ucHVzaChzZWxmLnNwZWNpYWxzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICB9ICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICB9XG4gICAgICAgfVxuICAgICAgXG4gICAgICBmdW5jdGlvbiBzYXZlKCl7XG4gICAgICAgICBpZihzZWxmLnBlbmRpbmcgfHwgIXNlbGYuc3BlY2lhbCkgcmV0dXJuO1xuICAgICAgICAgcmV0dXJuIHNlbGYuc3BlY2lhbC5pZCA/IHVwZGF0ZSgpIDogY3JlYXRlKCk7ICAgIFxuICAgICAgfVxuICAgICAgXG4gICAgICBmdW5jdGlvbiBjcmVhdGUoKXsgIFxuICAgICAgICAgIHZhciBkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICBzZWxmLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgIHNlbGYuc3BlY2lhbC5zcG90X2lkID0gc3BvdFNlcnZpY2Uuc3BvdC5pZDtcbiAgICAgICAgICBTcGVjaWFsLmNyZWF0ZShzZWxmLnNwZWNpYWwpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgIHZhciBzcGVjaWFsID0gbmV3IFNwZWNpYWwocmVzcCk7XG4gICAgICAgICAgICAgIHNlbGYuc3BlY2lhbHMucHVzaChzcGVjaWFsKTtcbiAgICAgICAgICAgICAgc2VsZi5zcGVjaWFsID0gbnVsbDtcbiAgICAgICAgICAgICAgdG9hc3Rlci5wb3AoJ3N1Y2Nlc3MnLCdTcGVjaWFsIGFkZGVkJyk7XG4gICAgICAgICAgICAgIHNvcnRTcGVjaWFscygpO1xuICAgICAgICAgICAgICBkLnJlc29sdmUocmVzcCk7XG4gICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgIHRvYXN0ZXIucG9wKCdlcnJvcicsJ1VuYWJsZSB0byBhZGQgc3BlY2lhbCcpO1xuICAgICAgICAgICAgICBkLnJlamVjdChyZXNwKTtcbiAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uKCl7IHNlbGYucGVuZGluZyA9IGZhbHNlIH0pO1xuICAgICAgICAgIHJldHVybiBkLnByb21pc2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpe1xuICAgICAgICAgIHZhciBkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICBzZWxmLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgIHNlbGYuc3BlY2lhbC4kdXBkYXRlKCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgdG9hc3Rlci5wb3AoJ3N1Y2Nlc3MnLCdTcGVjaWFsIHVwZGF0ZWQnKTtcbiAgICAgICAgICAgICAgc2VsZi5zcGVjaWFsID0gbnVsbDtcbiAgICAgICAgICAgICAgc29ydFNwZWNpYWxzKCk7XG4gICAgICAgICAgICAgIGQucmVzb2x2ZShyZXNwKTtcbiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgdG9hc3Rlci5wb3AoJ2Vycm9yJywnVW5hYmxlIHRvIHVwZGF0ZSBzcGVjaWFsJyk7ICBcbiAgICAgICAgICAgICAgZC5yZWplY3QocmVzcCk7XG4gICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbigpeyBzZWxmLnBlbmRpbmcgPSBmYWxzZSB9KTtcbiAgICAgICAgICByZXR1cm4gZC5wcm9taXNlO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgZnVuY3Rpb24gZGVzdHJveSgpe1xuICAgICAgICAgIGlmKHNlbGYucGVuZGluZyB8fCAhc2VsZi5zcGVjaWFsKSByZXR1cm47XG4gICAgICAgICAgc2VsZi5wZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICBzZWxmLnNwZWNpYWwuJGRlbGV0ZSgpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgIHZhciBpID0gc2VsZi5zcGVjaWFscy5pbmRleE9mKHNlbGYuc3BlY2lhbCk7XG4gICAgICAgICAgICAgIHNlbGYuc3BlY2lhbHMuc3BsaWNlKGksMSk7XG4gICAgICAgICAgICAgIHNlbGYuc3BlY2lhbCA9IG51bGw7XG4gICAgICAgICAgICAgIHRvYXN0ZXIucG9wKCdzdWNjZXNzJywnU3BlY2lhbCByZW1vdmVkJyk7XG4gICAgICAgICAgICAgIHNvcnRTcGVjaWFscygpO1xuICAgICAgICAgICAgICByZXR1cm4gcmVzcDtcbiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXNwKTtcbiAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uKCl7IHNlbGYucGVuZGluZyA9IGZhbHNlIH0pXG4gICAgICB9O1xuICAgICAgXG4gIH07XG4gICAgXG4gICAgICBcbiAgc3BlY2lhbFNlcnZpY2UuJGluamVjdCA9IFsnU3BlY2lhbCcsJ3Nwb3RTZXJ2aWNlJywgJyRxJywndG9hc3RlciddO1xuICAgICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC5zcG90cycpXG4gICAgICAgIC5jb250cm9sbGVyKCdzcGVjaWFscycsIHNwZWNpYWxzKTtcbiAgICBcbiAgICBmdW5jdGlvbiBzcGVjaWFscyhzcG90LCBzcGVjaWFsU2VydmljZSxzcGVjaWFsSGVhZGluZ3MsIG9wZW5Ob3cpe1xuICAgICAgICB2YXIgY3RybCA9IHRoaXM7XG4gICAgICAgIGN0cmwuc3BlY2lhbFNlcnZpY2UgPSBzcGVjaWFsU2VydmljZTtcbiAgICAgICAgY3RybC5zcGVjaWFsU2VydmljZS5sb2FkU3BlY2lhbHMoc3BvdC5pZCk7XG4gICAgICAgIGN0cmwuaGVhZGluZ3MgPSBzcGVjaWFsSGVhZGluZ3M7XG4gICAgICAgIGN0cmwub3Blbk5vdyA9IG9wZW5Ob3c7XG4gICAgfTtcbiAgICBcbiAgICBzcGVjaWFscy4kaW5qZWN0ID0gWydzcG90JywgJ3NwZWNpYWxTZXJ2aWNlJywgJ3NwZWNpYWxIZWFkaW5ncycsJ29wZW5Ob3cnXTtcbiAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnXG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgIC5kaXJlY3RpdmUoJ25zU2VhcmNoVXNlcnMnLCBuc1NlYXJjaFVzZXJzKTtcbiAgICBcbiAgICBmdW5jdGlvbiBuc1NlYXJjaFVzZXJzKHVzZXJSb2xlU2VydmljZSwgQkFTRV9BUElfVVJMLCAkaHR0cCl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvc3BvdHMvdXNlclJvbGVzL25zU2VhcmNoVXNlcnMuaHRtbCcsXG4gICAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHJzKXtcbiAgICAgICAgICAgICAgc2NvcGUudXNlcnMgPSBbXTtcbiAgICAgICAgICAgICAgc2NvcGUudXNlclJvbGVTZXJ2aWNlID0gdXNlclJvbGVTZXJ2aWNlO1xuICAgICAgICAgICAgICBzY29wZS5zZWFyY2hVc2VycyA9IHNlYXJjaFVzZXJzO1xuICAgICAgICAgICAgICBzY29wZS51c2VyQmVsb25ncyA9IHVzZXJCZWxvbmdzO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgZnVuY3Rpb24gc2VhcmNoVXNlcnMoKXtcbiAgICAgICAgICAgICAgICAgICRodHRwLmdldChCQVNFX0FQSV9VUkwgKyAnL3VzZXJzL3NlYXJjaCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsgcTogc2NvcGUucXVlcnkgfVxuICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICAgICAgICBzY29wZS51c2VycyA9IHJlc3AuZGF0YTsgXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgZnVuY3Rpb24gdXNlckJlbG9uZ3ModXNlcil7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMCwgaiA9IHVzZXJSb2xlU2VydmljZS5yb2xlcy5sZW5ndGg7IGkgPCBqOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICAgaWYodXNlclJvbGVTZXJ2aWNlLnJvbGVzW2ldLnVzZXIuaWQgPT09IHVzZXIuaWQpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgIFxuICAgICAgICAgIH1cbiAgIFxuICAgICAgICB9O1xuICAgICAgICBcbiAgICB9O1xuICAgICAgICBcbiAgICBuc1NlYXJjaFVzZXJzLiRpbmplY3QgPSBbJ3VzZXJSb2xlU2VydmljZScsICdCQVNFX0FQSV9VUkwnLCAnJGh0dHAnXTtcbiAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnXG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgIC5kaXJlY3RpdmUoJ25zVXNlclJvbGVzJywgbnNVc2VyUm9sZXMpO1xuICAgIFxuICAgIGZ1bmN0aW9uIG5zVXNlclJvbGVzKCRyb290U2NvcGUsIHVzZXJSb2xlU2VydmljZSwgc3BvdFNlcnZpY2Upe1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9zcG90cy91c2VyUm9sZXMvbnNVc2VyUm9sZXMuaHRtbCcsXG4gICAgICAgICAgY29udHJvbGxlcjogWyckcm9vdFNjb3BlJywgJ3VzZXJSb2xlU2VydmljZScsICdzcG90U2VydmljZScsIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCB1c2VyUm9sZVNlcnZpY2UsIHNwb3RTZXJ2aWNlKXtcbiAgICAgICAgICAgICAgIHZhciBjdHJsID0gdGhpcztcbiAgICAgICAgICAgICAgIGN0cmwudXNlclJvbGVTZXJ2aWNlID0gdXNlclJvbGVTZXJ2aWNlO1xuICAgICAgICAgICAgICAgY3RybC51c2VyUm9sZVNlcnZpY2UubG9hZFJvbGVzKCk7IFxuICAgICAgICAgICAgICAgY3RybC5pc0FkbWluID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgIChmdW5jdGlvbiBpbml0KCl7XG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDAsIGogPSAkcm9vdFNjb3BlLnVzZXIudXNlcl9yb2xlcy5sZW5ndGg7IGkgPCBqOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoJHJvb3RTY29wZS51c2VyLnVzZXJfcm9sZXNbaV0uc3BvdF9pZCA9PT0gc3BvdFNlcnZpY2Uuc3BvdC5pZCAmJiAkcm9vdFNjb3BlLnVzZXIudXNlcl9yb2xlc1tpXS5yb2xlID09PSAnYWRtaW4nKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdHJsLmlzQWRtaW4gPSB0cnVlOyBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgIH1dLFxuICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JvbGVzQ3RybCdcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgfTtcbiAgICAgICAgXG4gICAgbnNVc2VyUm9sZXMuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICd1c2VyUm9sZVNlcnZpY2UnLCAnc3BvdFNlcnZpY2UnXTtcbiAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnXG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgIC5mYWN0b3J5KCdVc2VyUm9sZScsIFVzZXJSb2xlKTtcbiAgICBcbiAgICBmdW5jdGlvbiBVc2VyUm9sZShCQVNFX0FQSV9VUkwsICRyZXNvdXJjZSl7ICAgXG4gICAgICB2YXIgcmVzb3VyY2VVcmwgPSBCQVNFX0FQSV9VUkwgKyBgL3Nwb3RzLzpzcG90X2lkL3VzZXJfcm9sZXNgOyAgICAgICAgICAgICAgICBcbiAgICAgIHJldHVybiAkcmVzb3VyY2UoQkFTRV9BUElfVVJMICsgJy91c2VyX3JvbGVzLzppZCcsIHsgaWQ6ICdAaWQnLCBzcG90X2lkOiAnQHNwb3RfaWQnIH0sIHsgXG4gICAgICAgICAgICAgICAgaW5kZXg6IHsgbWV0aG9kOiAnR0VUJywgdXJsOiByZXNvdXJjZVVybCwgaXNBcnJheTogdHJ1ZX0sXG4gICAgICAgICAgICAgICAgY3JlYXRlOiB7IG1ldGhvZDogJ1BPU1QnLCB1cmw6IHJlc291cmNlVXJsIH0sXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICB9KTsgXG4gICAgfVxuIFxuICAgIFVzZXJSb2xlLiRpbmplY3QgPSBbJ0JBU0VfQVBJX1VSTCcsJyRyZXNvdXJjZSddO1xuICAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnXG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgIC5mYWN0b3J5KCd1c2VyUm9sZVNlcnZpY2UnLCB1c2VyUm9sZVNlcnZpY2UpO1xuICAgIFxuICAgIGZ1bmN0aW9uIHVzZXJSb2xlU2VydmljZShVc2VyUm9sZSwgc3BvdFNlcnZpY2UsICRxLCB0b2FzdGVyKXsgICBcblxuICAgICAgICAgICAgdmFyIHNlbGYgPSB7XG4gICAgICAgICAgICAgICAgcGVuZGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgcm9sZXM6IFtdLFxuICAgICAgICAgICAgICAgIHJvbGU6IG51bGwsXG4gICAgICAgICAgICAgICAgbG9hZFJvbGVzOiBsb2FkUm9sZXMsXG4gICAgICAgICAgICAgICAgY3JlYXRlOiBjcmVhdGUsXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB1cGRhdGUsXG4gICAgICAgICAgICAgICAgZGVzdHJveTogZGVzdHJveVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZ1bmN0aW9uIGxvYWRSb2xlcygpe1xuICAgICAgICAgICAgICAgIFVzZXJSb2xlLmluZGV4KHtzcG90X2lkOiBzcG90U2VydmljZS5zcG90LmlkfSkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICAgICAgIHNlbGYucm9sZXMgPSByZXNwLm1hcChmdW5jdGlvbihvYmope1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVc2VyUm9sZShvYmopOyBcbiAgICAgICAgICAgICAgICAgICAgIH0pOyBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZSh1c2VyKXsgIFxuICAgICAgICAgICAgICAgaWYoIXNwb3RTZXJ2aWNlLnNwb3QgfHwgIXVzZXIpIHJldHVybjtcbiAgICAgICAgICAgICAgIHZhciBkID0gJHEuZGVmZXIoKTsgXG4gICAgICAgICAgICAgICBzZWxmLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgVXNlclJvbGUuY3JlYXRlKHt1c2VyX2lkOiB1c2VyLmlkLCBzcG90X2lkOiBzcG90U2VydmljZS5zcG90LmlkfSkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICAgICBzZWxmLnJvbGVzLnB1c2gobmV3IFVzZXJSb2xlKHJlc3ApKTtcbiAgICAgICAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnc3VjY2VzcycsJ1VzZXIgYWRkZWQnKTtcbiAgICAgICAgICAgICAgICAgICBkLnJlc29sdmUocmVzcCk7XG4gICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnZXJyb3InLCdVbmFibGUgdG8gYWRkIHVzZXInKTtcbiAgICAgICAgICAgICAgICAgICBkLnJlamVjdChyZXNwKTtcbiAgICAgICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKXsgc2VsZi5wZW5kaW5nID0gZmFsc2UgfSk7XG4gICAgICAgICAgICAgICByZXR1cm4gZC5wcm9taXNlO1xuICAgICAgICAgICAgfTsgXG4gICAgICAgXG4gICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGUodXNlclJvbGUpe1xuICAgICAgICAgICAgICAgIGlmKCF1c2VyUm9sZSkgcmV0dXJuXG4gICAgICAgICAgICAgICAgdXNlclJvbGUuJHVwZGF0ZSgpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ZXIucG9wKCdzdWNjZXNzJywnVXNlciB1cGRhdGVkJyk7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ZXIucG9wKCdlcnJvcicsJ1VuYWJsZSB0byB1cGRhdGUgdXNlcicpOyAgXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgXG4gICAgICAgICAgICBmdW5jdGlvbiBkZXN0cm95KHVzZXJSb2xlKXtcbiAgICAgICAgICAgICAgIGlmKCF1c2VyUm9sZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgdXNlclJvbGUuJGRlbGV0ZSgpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gc2VsZi5yb2xlcy5pbmRleE9mKHVzZXJSb2xlKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yb2xlcy5zcGxpY2UoaSwxKTtcbiAgICAgICAgICAgICAgICAgICAgdG9hc3Rlci5wb3AoJ3N1Y2Nlc3MnLCdVc2VyIHJlbW92ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3A7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVzcCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBcbiAgICB9O1xuICAgIFxuICAgIHVzZXJSb2xlU2VydmljZS4kaW5qZWN0ID0gWydVc2VyUm9sZScsICdzcG90U2VydmljZScsICckcScsJ3RvYXN0ZXInXTtcbiAgICAgICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAndXNlIHN0cmljdCc7XG4gIGFuZ3VsYXIubW9kdWxlKCduc0FwcCcpXG4gICAgLmRpcmVjdGl2ZSgnbnNUYWdMaXN0JywgbnNUYWdMaXN0KTtcbiAgICBcbiAgZnVuY3Rpb24gbnNUYWdMaXN0KENhdGVnb3J5KXtcbiAgICAgIFxuICAgIHJldHVybiB7IFxuICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgIHNjb3BlOiB7fSxcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHtcbiAgICAgICAgc3BvdDogJz0nLFxuICAgICAgfSxcbiAgICAgIHRlbXBsYXRlOiBcIjx1bCBjbGFzcz0nbnMtdGFncyc+XCIgK1xuICAgICAgICAgICAgICAgIFwiPGxpIG5nLWlmPSdsaXN0Q3RybC5zcG90LnByaWNlICE9IDAnPlwiICtcbiAgICAgICAgICAgICAgICAgICAgXCI8c3BhbiBuZy1yZXBlYXQ9J3ByaWNlIGluIGxpc3RDdHJsLnByaWNlcyB0cmFjayBieSAkaW5kZXgnIG5nLWNsYXNzPSd7ZWF0OiBsaXN0Q3RybC5zcG90LnByaWNlID4gJGluZGV4fSc+JDwvc3Bhbj5cIiArXG4gICAgICAgICAgICAgICAgXCI8L2xpPlwiICtcbiAgICAgICAgICAgICAgICAgICAgXCI8bGkgbmctcmVwZWF0PSdjdGcgaW4gbGlzdEN0cmwuY2F0ZWdvcnlPYmpzJyBuZy1jbGFzcz0nY3RnLnNvcnQnPnt7Y3RnLm5hbWV9fTwvbGk+XCIgK1xuICAgICAgICAgICAgICAgIFwiPC91bD5cIixcbiAgICAgIGNvbnRyb2xsZXI6IFsnQ2F0ZWdvcnknLCBmdW5jdGlvbihDYXRlZ29yeSl7XG4gICAgICAgICAgICB2YXIgY3RybCA9IHRoaXM7XG4gICAgICAgICAgICBjdHJsLnByaWNlcyA9IG5ldyBBcnJheSg0KTtcbiAgICAgICAgICAgIENhdGVnb3J5LmluZGV4KCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICBjdHJsLmNhdGVnb3J5T2JqcyA9IHJlc3AuZmlsdGVyKGZ1bmN0aW9uKG4pe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3RybC5zcG90LmNhdGVnb3J5X2lkcy5pbmRleE9mKG4uaWQpID4gLTE7IFxuICAgICAgICAgICAgICAgIH0pOyBcbiAgICAgICAgICAgIH0pOyAgXG4gICAgICB9XSxcbiAgICAgIGNvbnRyb2xsZXJBczogJ2xpc3RDdHJsJ1xuICAgICB9ICBcbiAgfVxuICAgIFxuICBuc1RhZ0xpc3QuJGluamVjdCA9IFsnQ2F0ZWdvcnknXTtcblxufSgpKTtcbiIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKVxuICAgICAgICAuY29udHJvbGxlcigndmlld1Nwb3QnLCB2aWV3U3BvdCk7XG4gICAgXG4gICAgZnVuY3Rpb24gdmlld1Nwb3Qoc3BvdCl7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG4gICAgICAgIHZtLnNwb3QgPSBzcG90O1xuICAgICAgICB2bS50b2RheSA9IERhdGUubm93KCk7XG4gICAgICAgIHZtLnBsYWNlaG9sZGVyID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBmaWxlbmFtZSA9ICcvJzsgXG4gICAgICAgICAgICBpZih2bS5zcG90LmVhdCB8fCB2bS5zcG90LmRyaW5rIHx8IHZtLnNwb3QuYXR0ZW5kKXtcbiAgICAgICAgICAgICAgIGlmKHZtLnNwb3QuZWF0KSBmaWxlbmFtZSArPSAnZSc7XG4gICAgICAgICAgICAgICBpZih2bS5zcG90LmRyaW5rKSBmaWxlbmFtZSArPSAnZCc7XG4gICAgICAgICAgICAgICBpZih2bS5zcG90LmF0dGVuZCkgZmlsZW5hbWUgKz0gJ2EnO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICBmaWxlbmFtZSArPSAnYSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWxlbmFtZSArPSAnLnBuZydcbiAgICAgICAgICAgIHJldHVybiBmaWxlbmFtZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICB2aWV3U3BvdC4kaW5qZWN0ID0gWydzcG90J107XG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKVxuICAgICAgICAuZmlsdGVyKCd3YWxraW5nVGltZScsIHdhbGtpbmdUaW1lKTtcbiAgICBcbiAgICBmdW5jdGlvbiB3YWxraW5nVGltZSgpe1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQpe1xuICAgICAgICAgICAgaWYoIWlucHV0LmRpc3RhbmNlKSByZXR1cm4gJyc7XG4gICAgICAgICAgICB2YXIgdGltZSA9IE1hdGgucm91bmQoaW5wdXQuZGlzdGFuY2UgLyAyLjUgKiA2MCk7XG4gICAgICAgICAgICByZXR1cm4gdGltZSA+IDAgJiYgdGltZSA8IDMwID8gKHRpbWUgKyAyKSArIFwibWluc1wiIDogJyc7IFxuICAgICAgICB9XG4gICAgfTtcbiAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC51c2VycycpXG4gICAgICAuY29udHJvbGxlcignZWRpdEFjY291bnQnLCBlZGl0QWNjb3VudCk7XG4gICAgXG4gICAgZnVuY3Rpb24gZWRpdEFjY291bnQodXNlclNlcnZpY2UsJHN0YXRlKXtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgdXNlclNlcnZpY2Uuc2V0Q3VycmVudEFjY291bnQoKTtcbiAgICAgICAgdm0udXNlclNlcnZpY2UgPSB1c2VyU2VydmljZTsgXG4gICAgICAgIHZtLnVwZGF0ZUFjY291bnQgPSB1cGRhdGVBY2NvdW50O1xuICAgICAgICB2bS5kZXN0cm95QWNjb3VudCA9IGRlc3Ryb3lBY2NvdW50O1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlQWNjb3VudChmb3JtKXtcbiAgICAgICAgICAgIGlmKCFmb3JtLiR2YWxpZCkgcmV0dXJuOyBcbiAgICAgICAgICAgIHVzZXJTZXJ2aWNlLnVwZGF0ZSgpLmZpbmFsbHkoZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgZm9ybS4kc2V0UHJpc3RpbmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBkZXN0cm95QWNjb3VudChmb3JtKXtcbiAgICAgICAgICAgIGlmKCFmb3JtLiR2YWxpZCkgcmV0dXJuO1xuICAgICAgICAgICAgdXNlclNlcnZpY2UuZGVzdHJveSgpLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdob21lJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSAgIFxuICAgIH1cbiAgICBcbiAgICBlZGl0QWNjb3VudC4kaW5qZWN0ID0gWyd1c2VyU2VydmljZScsICckc3RhdGUnXTtcbiAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC51c2VycycpXG4gICAgICAuY29udHJvbGxlcignbmV3QWNjb3VudCcsIG5ld0FjY291bnQpO1xuICAgIFxuICAgIGZ1bmN0aW9uIG5ld0FjY291bnQodXNlclNlcnZpY2UsJHN0YXRlKXtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgdm0udXNlclNlcnZpY2UgPSB1c2VyU2VydmljZTtcbiAgICAgICAgdm0udXNlclNlcnZpY2UuYWNjb3VudCA9IHtcbiAgICAgICAgICAgIGRvYjogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnJyxcbiAgICAgICAgICAgIHBhc3N3b3JkX2NvbmZpcm1hdGlvbjogJydcbiAgICAgICAgfTtcbiAgICAgICAgdm0uY3JlYXRlQWNjb3VudCA9IGNyZWF0ZUFjY291bnQ7XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVBY2NvdW50KGZvcm0pe1xuICAgICAgICAgICAgaWYoIWZvcm0uJHZhbGlkKSByZXR1cm47XG4gICAgICAgICAgICB1c2VyU2VydmljZS5yZWdpc3RlcigpLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdob21lJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgbmV3QWNjb3VudC4kaW5qZWN0ID0gWyd1c2VyU2VydmljZScsICckc3RhdGUnXTtcbiAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC51c2VycycpXG4gICAgICAuY29udHJvbGxlcigncmVxdWVzdFBhc3N3b3JkUmVzZXQnLCByZXF1ZXN0UGFzc3dvcmRSZXNldCk7XG4gICAgXG4gICAgZnVuY3Rpb24gcmVxdWVzdFBhc3N3b3JkUmVzZXQodXNlclNlcnZpY2UsICRzdGF0ZSl7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG4gICAgICAgIHZtLnVzZXJTZXJ2aWNlID0gdXNlclNlcnZpY2U7XG4gICAgICAgIHZtLnVzZXJTZXJ2aWNlLmFjY291bnQgPSB7fTtcbiAgICAgICAgdm0ucmVxdWVzdFBhc3N3b3JkUmVzZXQgPSByZXF1ZXN0UGFzc3dvcmRSZXNldDtcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIHJlcXVlc3RQYXNzd29yZFJlc2V0KGZvcm0pe1xuICAgICAgICAgICAgaWYoIWZvcm0uJHZhbGlkKSByZXR1cm47XG4gICAgICAgICAgICB1c2VyU2VydmljZS5yZXF1ZXN0UGFzc3dvcmRSZXNldCgpLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdsb2dpbicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuICAgIFxuICAgIHJlcXVlc3RQYXNzd29yZFJlc2V0LiRpbmplY3QgPSBbJ3VzZXJTZXJ2aWNlJywgJyRzdGF0ZSddO1xuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnVzZXJzJylcbiAgICAgIC5jb250cm9sbGVyKCdyZXNldFBhc3N3b3JkJywgcmVzZXRQYXNzd29yZCk7XG4gICAgXG4gICAgZnVuY3Rpb24gcmVzZXRQYXNzd29yZCh1c2VyU2VydmljZSwgJHN0YXRlKXtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgdm0udXNlclNlcnZpY2UgPSB1c2VyU2VydmljZTtcbiAgICAgICAgdm0udXNlclNlcnZpY2UuYWNjb3VudCA9IHt9O1xuICAgICAgICB2bS5yZXNldFBhc3N3b3JkID0gcmVzZXRQYXNzd29yZDtcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIHJlc2V0UGFzc3dvcmQoZm9ybSl7XG4gICAgICAgICAgICBpZighZm9ybSkgcmV0dXJuO1xuICAgICAgICAgICAgdXNlclNlcnZpY2UucmVzZXRQYXNzd29yZCgpLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdob21lJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG4gICAgXG4gICAgcmVzZXRQYXNzd29yZC4kaW5qZWN0ID0gWyd1c2VyU2VydmljZScsICckc3RhdGUnXTtcbiAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCduc0FwcC51c2VycycpXG4gICAgICAuY29udHJvbGxlcignYXZhdGFyJywgYXZhdGFyKTtcbiAgICBcbiAgICBmdW5jdGlvbiBhdmF0YXIoQXZhdGFyLCAkdWliTW9kYWwpe1xuICAgICAgICB2YXIgY3RybCA9IHRoaXM7XG4gICAgICAgIGN0cmwuYXZhdGFyID0gQXZhdGFyO1xuICAgICAgICBjdHJsLmltZ0ZpbGUgPSBudWxsOyAgICAgICAgXG4gICAgICAgIGN0cmwub3Blbk1vZGFsID0gb3Blbk1vZGFsO1xuICAgICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gb3Blbk1vZGFsKCl7XG4gICAgICAgICAgICBpZighY3RybC5pbWdGaWxlKSByZXR1cm47XG4gICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnY3JvcEltYWdlTW9kYWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2ltZ0N0cmwnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc2hhcmVkL2ltYWdlcy9jcm9wSW1hZ2VNb2RhbC5odG1sJyxcbiAgICAgICAgICAgICAgICBzaXplOiAnbWQnLFxuICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgICAgICAgaW1nRmlsZTogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdHJsLmltZ0ZpbGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICAgIFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgY3RybC5pbWdGaWxlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBBdmF0YXIudXBsb2FkKHJlc3ApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07IFxuICAgIH07XG4gICAgXG4gICAgYXZhdGFyLiRpbmplY3QgPSBbJ0F2YXRhcicsJyR1aWJNb2RhbCddO1xuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnVzZXJzJylcbiAgICAgIC5mYWN0b3J5KCdBdmF0YXInLCBBdmF0YXIpO1xuICAgIFxuICAgIGZ1bmN0aW9uIEF2YXRhcihVcGxvYWQsICRhdXRoLCAkcm9vdFNjb3BlLCAkaHR0cCwgdG9hc3Rlcil7XG4gICAgICAgIFxuICAgICAgICB2YXIgYXZhdGFyUGF0aCA9ICRhdXRoLmFwaVVybCgpICsgJGF1dGguZ2V0Q29uZmlnKCkuYWNjb3VudFVwZGF0ZVBhdGg7XG4gICAgICAgIFxuICAgICAgICB2YXIgc2VsZiA9IHtcbiAgICAgICAgICAgIHBlbmRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgdXBsb2FkOiB1cGxvYWQsXG4gICAgICAgICAgICByZW1vdmU6IHJlbW92ZVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiB1cGxvYWQoZGF0YVVybCl7XG4gICAgICAgICAgIGlmKHNlbGYucGVuZGluZykgcmV0dXJuO1xuICAgICAgICAgICBzZWxmLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgICByZXR1cm4gVXBsb2FkLnVwbG9hZCh7XG4gICAgICAgICAgICB1cmw6IGF2YXRhclBhdGgsXG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBhdmF0YXJfZGF0YV91cmk6IGRhdGFVcmxcbiAgICAgICAgICAgIH0gICAgICAgICAgICBcbiAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnc3VjY2VzcycsICdBdmF0YXIgdXBsb2FkZWQuJyk7XG4gICAgICAgICAgICAgJHJvb3RTY29wZS51c2VyLmF2YXRhciA9IHJlc3AuZGF0YS5kYXRhLmF2YXRhcjsgXG4gICAgICAgICAgICAgcmV0dXJuIHJlc3AuZGF0YTtcbiAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgdG9hc3Rlci5wb3AoJ2Vycm9yJywgJ1VuYWJsZSB0byB1cGxvYWQgYXZhdGFyLicpO1xuICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uKCl7c2VsZi5wZW5kaW5nID0gZmFsc2U7fSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiByZW1vdmUoKXtcbiAgICAgICAgICBpZihzZWxmLnBlbmRpbmcpIHJldHVybjsgICAgXG4gICAgICAgICAgc2VsZi5wZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gJGh0dHAucHV0KGF2YXRhclBhdGgsIHsgcmVtb3ZlX2F2YXRhcjogdHJ1ZSB9KS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnc3VjY2VzcycsICdBdmF0YXIgcmVtb3ZlZC4nKTtcbiAgICAgICAgICAgICAgJHJvb3RTY29wZS51c2VyLmF2YXRhciA9IG51bGw7XG4gICAgICAgICAgICAgIHJldHVybiByZXNwLmRhdGE7XG4gICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgIHRvYXN0ZXIucG9wKCdlcnJvcicsICdVbmFibGUgdG8gcmVtb3ZlIGF2YXRhci4nKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3AuZGF0YTtcbiAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uKCl7IHNlbGYucGVuZGluZyA9IGZhbHNlOyB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgQXZhdGFyLiRpbmplY3QgPSBbJ1VwbG9hZCcsICckYXV0aCcsICckcm9vdFNjb3BlJywnJGh0dHAnLCd0b2FzdGVyJ107XG4gICAgXG59KSgpOyIsIihmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAudXNlcnMnKVxuICAgICAgLmNvbnRyb2xsZXIoJ2xvZ2luVXNlcicsIGxvZ2luVXNlcik7XG4gICAgXG4gICAgZnVuY3Rpb24gbG9naW5Vc2VyKHVzZXJTZXJ2aWNlLCAkc3RhdGUpe1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuICAgICAgICB2bS51c2VyU2VydmljZSA9IHVzZXJTZXJ2aWNlO1xuICAgICAgICB2bS5zdWJtaXRMb2dpbiA9IHN1Ym1pdExvZ2luO1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gc3VibWl0TG9naW4oZm9ybSl7XG4gICAgICAgICAgIGlmKGZvcm0uJGludmFsaWQpIHJldHVybjtcbiAgICAgICAgICAgcmV0dXJuIHVzZXJTZXJ2aWNlLmxvZ2luKCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICRzdGF0ZS5nbygnaG9tZScpO1xuICAgICAgICAgICB9KTsgICAgIFxuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cbiAgICBcbiAgICBsb2dpblVzZXIuJGluamVjdCAgPSBbJ3VzZXJTZXJ2aWNlJywgJyRzdGF0ZSddO1xuICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgIC5jb250cm9sbGVyKCdmZWF0dXJlZFNwZWNpYWxNb2RhbCcsIGZlYXR1cmVkU3BlY2lhbE1vZGFsKTtcbiAgICBcbiAgICBmdW5jdGlvbiBmZWF0dXJlZFNwZWNpYWxNb2RhbCgkdWliTW9kYWxJbnN0YW5jZSwgZmVhdHVyZWRTcGVjaWFsU2VydmljZSl7XG4gICAgICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgICAgIGN0cmwuc3BlY2lhbFNlcnZpY2UgPSBmZWF0dXJlZFNwZWNpYWxTZXJ2aWNlO1xuICAgICAgIGN0cmwuc2F2ZSA9IHNhdmU7XG4gICAgICAgY3RybC5jYW5jZWwgPSBjYW5jZWw7XG4gICAgICAgY3RybC5taW5EYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICBjdHJsLm1heERhdGUgPSBuZXcgRGF0ZSgpLnNldERhdGUobmV3IERhdGUoKS5nZXREYXRlKCkgKyAzMCk7XG4gICAgICAgIFxuICAgICAgIGZ1bmN0aW9uIHNhdmUoKXtcbiAgICAgICAgICBmZWF0dXJlZFNwZWNpYWxTZXJ2aWNlLnNhdmUoKS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICByZXR1cm4gJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTsgIFxuICAgICAgICAgIH0pO1xuICAgICAgIH07XG4gICAgICBcbiAgICAgICBmdW5jdGlvbiBjYW5jZWwoKXtcbiAgICAgICAgICByZXR1cm4gJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcyhudWxsKTtcbiAgICAgICB9OyBcbiAgICAgICAgXG4gICAgfTtcbiAgIFxuICAgIGZlYXR1cmVkU3BlY2lhbE1vZGFsLiRpbmplY3QgPSBbJyR1aWJNb2RhbEluc3RhbmNlJyAsJ2ZlYXR1cmVkU3BlY2lhbFNlcnZpY2UnXTtcbiAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JzsgIFxuICBhbmd1bGFyLm1vZHVsZSgnbnNBcHAuc3BvdHMnKVxuICAgIC5mYWN0b3J5KCdmZWF0dXJlZFNwZWNpYWxTZXJ2aWNlJywgZmVhdHVyZWRTcGVjaWFsU2VydmljZSk7XG4gICAgXG4gIGZ1bmN0aW9uIGZlYXR1cmVkU3BlY2lhbFNlcnZpY2UoU3BlY2lhbCwgc3BvdFNlcnZpY2UsICRxLCB0b2FzdGVyKXtcbiAgICAgIFxuICAgICAgdmFyIHNlbGYgPSB7XG4gICAgICAgIHBlbmRpbmc6IGZhbHNlLFxuICAgICAgICBzcGVjaWFsczogW10sXG4gICAgICAgIHNwZWNpYWw6IG51bGwsXG4gICAgICAgIGxvYWRTcGVjaWFsczogbG9hZFNwZWNpYWxzLFxuICAgICAgICBzYXZlOiBzYXZlLCBcbiAgICAgICAgZGVzdHJveTogZGVzdHJveVxuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICAgIFxuICAgICAgZnVuY3Rpb24gbG9hZFNwZWNpYWxzKHNwb3RfaWQpe1xuICAgICAgICAgIGlmKHNlbGYucGVuZGluZykgcmV0dXJuO1xuICAgICAgICAgIHNlbGYucGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgdmFyIHNwb3RfaWQgPSBzcG90X2lkIHx8IHNwb3RTZXJ2aWNlLnNwb3QuaWQ7XG4gICAgICAgICAgU3BlY2lhbC5mZWF0dXJlZCh7c3BvdF9pZDogc3BvdF9pZH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgIHNlbGYuc3BlY2lhbHMgPSByZXNwLm1hcChmdW5jdGlvbihvYmope1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTcGVjaWFsKG9iaik7XG4gICAgICAgICAgICAgIH0pOyBcbiAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uKCl7IHNlbGYucGVuZGluZyA9IGZhbHNlIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIHNhdmUoKXtcbiAgICAgICAgIGlmKHNlbGYucGVuZGluZyB8fCAhc2VsZi5zcGVjaWFsKSByZXR1cm47XG4gICAgICAgICByZXR1cm4gc2VsZi5zcGVjaWFsLmlkID8gdXBkYXRlKCkgOiBjcmVhdGUoKTsgICAgXG4gICAgICB9XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZSgpeyAgXG4gICAgICAgICAgdmFyIGQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgIHNlbGYucGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgc2VsZi5zcGVjaWFsLnNwb3RfaWQgPSBzcG90U2VydmljZS5zcG90LmlkO1xuICAgICAgICAgIGNvbnNvbGUubG9nKHNlbGYuc3BlY2lhbCk7XG4gICAgICAgICAgU3BlY2lhbC5jcmVhdGUoc2VsZi5zcGVjaWFsKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICB2YXIgc3BlY2lhbCA9IG5ldyBTcGVjaWFsKHJlc3ApO1xuICAgICAgICAgICAgICBzZWxmLnNwZWNpYWxzLnB1c2goc3BlY2lhbCk7XG4gICAgICAgICAgICAgIHNlbGYuc3BlY2lhbCA9IG51bGw7XG4gICAgICAgICAgICAgIHRvYXN0ZXIucG9wKCdzdWNjZXNzJywnU3BlY2lhbCBhZGRlZCcpO1xuICAgICAgICAgICAgICBkLnJlc29sdmUocmVzcCk7XG4gICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgIHRvYXN0ZXIucG9wKCdlcnJvcicsJ1VuYWJsZSB0byBhZGQgc3BlY2lhbCcpO1xuICAgICAgICAgICAgICBkLnJlamVjdChyZXNwKTtcbiAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uKCl7IHNlbGYucGVuZGluZyA9IGZhbHNlIH0pO1xuICAgICAgICAgIHJldHVybiBkLnByb21pc2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpe1xuICAgICAgICAgIHZhciBkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICBzZWxmLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgIHNlbGYuc3BlY2lhbC4kdXBkYXRlKCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgdmFyIGkgPSBzZWxmLnNwZWNpYWxzLmluZGV4T2Yoc2VsZi5zcGVjaWFsKTtcbiAgICAgICAgICAgICAgc2VsZi5zcGVjaWFsc1tpXSA9IG5ldyBTcGVjaWFsKHJlc3ApO1xuICAgICAgICAgICAgICBzZWxmLnNwZWNpYWwgPSBudWxsO1xuICAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnc3VjY2VzcycsJ1NwZWNpYWwgdXBkYXRlZCcpO1xuICAgICAgICAgICAgICBkLnJlc29sdmUocmVzcCk7XG4gICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgIHRvYXN0ZXIucG9wKCdlcnJvcicsJ1VuYWJsZSB0byB1cGRhdGUgc3BlY2lhbCcpOyAgXG4gICAgICAgICAgICAgIGQucmVqZWN0KHJlc3ApO1xuICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKXsgc2VsZi5wZW5kaW5nID0gZmFsc2UgfSk7XG4gICAgICAgICAgcmV0dXJuIGQucHJvbWlzZTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIGRlc3Ryb3koKXtcbiAgICAgICAgICBpZihzZWxmLnBlbmRpbmcgfHwgIXNlbGYuc3BlY2lhbCkgcmV0dXJuO1xuICAgICAgICAgIHNlbGYucGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgc2VsZi5zcGVjaWFsLiRkZWxldGUoKS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICB2YXIgaSA9IHNlbGYuc3BlY2lhbHMuaW5kZXhPZihzZWxmLnNwZWNpYWwpO1xuICAgICAgICAgICAgICBzZWxmLnNwZWNpYWxzLnNwbGljZShpLDEpO1xuICAgICAgICAgICAgICBzZWxmLnNwZWNpYWwgPSBudWxsO1xuICAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnc3VjY2VzcycsJ1NwZWNpYWwgcmVtb3ZlZCcpO1xuICAgICAgICAgICAgICByZXR1cm4gcmVzcDtcbiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXNwKTtcbiAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uKCl7IHNlbGYucGVuZGluZyA9IGZhbHNlIH0pO1xuICAgICAgfTtcbiAgICAgIFxuICB9O1xuICAgIFxuICAgICAgXG4gIGZlYXR1cmVkU3BlY2lhbFNlcnZpY2UuJGluamVjdCA9IFsnU3BlY2lhbCcsICdzcG90U2VydmljZScsICckcScsJ3RvYXN0ZXInXTtcbiAgICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgXG4gICAgYW5ndWxhci5tb2R1bGUoJ25zQXBwLnNwb3RzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnbnNGZWF0dXJlZFNwZWNpYWxzTGlzdCcsIG5zRmVhdHVyZWRTcGVjaWFsc0xpc3QpO1xuICAgIFxuICAgIGZ1bmN0aW9uIG5zRmVhdHVyZWRTcGVjaWFsc0xpc3QoKXtcbiAgICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICBzY29wZToge30sXG4gICAgICAgICAgICBiaW5kVG9Db250cm9sbGVyOntcbiAgICAgICAgICAgICAgICBzcG90OiAnPSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbJ2ZlYXR1cmVkU3BlY2lhbFNlcnZpY2UnLCBmdW5jdGlvbihmZWF0dXJlZFNwZWNpYWxTZXJ2aWNlKXtcbiAgICAgICAgICAgICAgICB2YXIgY3RybCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgY3RybC5mZWF0dXJlZFNwZWNpYWxTZXJ2aWNlID0gZmVhdHVyZWRTcGVjaWFsU2VydmljZTtcbiAgICAgICAgICAgICAgICBjdHJsLmZlYXR1cmVkU3BlY2lhbFNlcnZpY2UubG9hZFNwZWNpYWxzKGN0cmwuc3BvdC5pZCk7XG4gICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2ZTcGxzQ3RybCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvc3BvdHMvc3BlY2lhbHMvZmVhdHVyZWQvbnNGZWF0dXJlZFNwZWNpYWxzTGlzdC5odG1sJ1xuICAgICAgICB9XG4gICAgXG4gICAgfTtcbiAgICBcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
